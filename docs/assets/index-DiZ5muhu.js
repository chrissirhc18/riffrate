(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(s){if(s.ep)return;s.ep=!0;const l=t(s);fetch(s.href,l)}})();function ed(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var zp={exports:{}},bu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WT;function kI(){if(WT)return bu;WT=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var d in s)d!=="key"&&(l[d]=s[d])}else l=s;return s=l.ref,{$$typeof:n,type:i,key:c,ref:s!==void 0?s:null,props:l}}return bu.Fragment=e,bu.jsx=t,bu.jsxs=t,bu}var JT;function PI(){return JT||(JT=1,zp.exports=kI()),zp.exports}var A=PI(),Bp={exports:{}},Au={},Fp={exports:{}},$p={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZT;function UI(){return ZT||(ZT=1,(function(n){function e(W,se){var ce=W.length;W.push(se);e:for(;0<ce;){var De=ce-1>>>1,Le=W[De];if(0<s(Le,se))W[De]=se,W[ce]=Le,ce=De;else break e}}function t(W){return W.length===0?null:W[0]}function i(W){if(W.length===0)return null;var se=W[0],ce=W.pop();if(ce!==se){W[0]=ce;e:for(var De=0,Le=W.length,U=Le>>>1;De<U;){var Z=2*(De+1)-1,ie=W[Z],ae=Z+1,ye=W[ae];if(0>s(ie,ce))ae<Le&&0>s(ye,ie)?(W[De]=ye,W[ae]=ce,De=ae):(W[De]=ie,W[Z]=ce,De=Z);else if(ae<Le&&0>s(ye,ce))W[De]=ye,W[ae]=ce,De=ae;else break e}}return se}function s(W,se){var ce=W.sortIndex-se.sortIndex;return ce!==0?ce:W.id-se.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],g=[],v=1,_=null,S=3,I=!1,O=!1,k=!1,C=!1,z=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function oe(W){for(var se=t(g);se!==null;){if(se.callback===null)i(g);else if(se.startTime<=W)i(g),se.sortIndex=se.expirationTime,e(p,se);else break;se=t(g)}}function fe(W){if(k=!1,oe(W),!O)if(t(p)!==null)O=!0,ue||(ue=!0,B());else{var se=t(g);se!==null&&lt(fe,se.startTime-W)}}var ue=!1,x=-1,N=5,D=-1;function P(){return C?!0:!(n.unstable_now()-D<N)}function L(){if(C=!1,ue){var W=n.unstable_now();D=W;var se=!0;try{e:{O=!1,k&&(k=!1,$(x),x=-1),I=!0;var ce=S;try{t:{for(oe(W),_=t(p);_!==null&&!(_.expirationTime>W&&P());){var De=_.callback;if(typeof De=="function"){_.callback=null,S=_.priorityLevel;var Le=De(_.expirationTime<=W);if(W=n.unstable_now(),typeof Le=="function"){_.callback=Le,oe(W),se=!0;break t}_===t(p)&&i(p),oe(W)}else i(p);_=t(p)}if(_!==null)se=!0;else{var U=t(g);U!==null&&lt(fe,U.startTime-W),se=!1}}break e}finally{_=null,S=ce,I=!1}se=void 0}}finally{se?B():ue=!1}}}var B;if(typeof Y=="function")B=function(){Y(L)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,qe=M.port2;M.port1.onmessage=L,B=function(){qe.postMessage(null)}}else B=function(){z(L,0)};function lt(W,se){x=z(function(){W(n.unstable_now())},se)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(W){switch(S){case 1:case 2:case 3:var se=3;break;default:se=S}var ce=S;S=se;try{return W()}finally{S=ce}},n.unstable_requestPaint=function(){C=!0},n.unstable_runWithPriority=function(W,se){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ce=S;S=W;try{return se()}finally{S=ce}},n.unstable_scheduleCallback=function(W,se,ce){var De=n.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?De+ce:De):ce=De,W){case 1:var Le=-1;break;case 2:Le=250;break;case 5:Le=1073741823;break;case 4:Le=1e4;break;default:Le=5e3}return Le=ce+Le,W={id:v++,callback:se,priorityLevel:W,startTime:ce,expirationTime:Le,sortIndex:-1},ce>De?(W.sortIndex=ce,e(g,W),t(p)===null&&W===t(g)&&(k?($(x),x=-1):k=!0,lt(fe,ce-De))):(W.sortIndex=Le,e(p,W),O||I||(O=!0,ue||(ue=!0,B()))),W},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(W){var se=S;return function(){var ce=S;S=se;try{return W.apply(this,arguments)}finally{S=ce}}}})($p)),$p}var ew;function jI(){return ew||(ew=1,Fp.exports=UI()),Fp.exports}var Hp={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tw;function zI(){if(tw)return Re;tw=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),S=Symbol.iterator;function I(U){return U===null||typeof U!="object"?null:(U=S&&U[S]||U["@@iterator"],typeof U=="function"?U:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,C={};function z(U,Z,ie){this.props=U,this.context=Z,this.refs=C,this.updater=ie||O}z.prototype.isReactComponent={},z.prototype.setState=function(U,Z){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,Z,"setState")},z.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function $(){}$.prototype=z.prototype;function Y(U,Z,ie){this.props=U,this.context=Z,this.refs=C,this.updater=ie||O}var oe=Y.prototype=new $;oe.constructor=Y,k(oe,z.prototype),oe.isPureReactComponent=!0;var fe=Array.isArray;function ue(){}var x={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function D(U,Z,ie){var ae=ie.ref;return{$$typeof:n,type:U,key:Z,ref:ae!==void 0?ae:null,props:ie}}function P(U,Z){return D(U.type,Z,U.props)}function L(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function B(U){var Z={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(ie){return Z[ie]})}var M=/\/+/g;function qe(U,Z){return typeof U=="object"&&U!==null&&U.key!=null?B(""+U.key):Z.toString(36)}function lt(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(ue,ue):(U.status="pending",U.then(function(Z){U.status==="pending"&&(U.status="fulfilled",U.value=Z)},function(Z){U.status==="pending"&&(U.status="rejected",U.reason=Z)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function W(U,Z,ie,ae,ye){var be=typeof U;(be==="undefined"||be==="boolean")&&(U=null);var Oe=!1;if(U===null)Oe=!0;else switch(be){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(U.$$typeof){case n:case e:Oe=!0;break;case v:return Oe=U._init,W(Oe(U._payload),Z,ie,ae,ye)}}if(Oe)return ye=ye(U),Oe=ae===""?"."+qe(U,0):ae,fe(ye)?(ie="",Oe!=null&&(ie=Oe.replace(M,"$&/")+"/"),W(ye,Z,ie,"",function(dn){return dn})):ye!=null&&(L(ye)&&(ye=P(ye,ie+(ye.key==null||U&&U.key===ye.key?"":(""+ye.key).replace(M,"$&/")+"/")+Oe)),Z.push(ye)),1;Oe=0;var pt=ae===""?".":ae+":";if(fe(U))for(var Xe=0;Xe<U.length;Xe++)ae=U[Xe],be=pt+qe(ae,Xe),Oe+=W(ae,Z,ie,be,ye);else if(Xe=I(U),typeof Xe=="function")for(U=Xe.call(U),Xe=0;!(ae=U.next()).done;)ae=ae.value,be=pt+qe(ae,Xe++),Oe+=W(ae,Z,ie,be,ye);else if(be==="object"){if(typeof U.then=="function")return W(lt(U),Z,ie,ae,ye);throw Z=String(U),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function se(U,Z,ie){if(U==null)return U;var ae=[],ye=0;return W(U,ae,"","",function(be){return Z.call(ie,be,ye++)}),ae}function ce(U){if(U._status===-1){var Z=U._result;Z=Z(),Z.then(function(ie){(U._status===0||U._status===-1)&&(U._status=1,U._result=ie)},function(ie){(U._status===0||U._status===-1)&&(U._status=2,U._result=ie)}),U._status===-1&&(U._status=0,U._result=Z)}if(U._status===1)return U._result.default;throw U._result}var De=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},Le={map:se,forEach:function(U,Z,ie){se(U,function(){Z.apply(this,arguments)},ie)},count:function(U){var Z=0;return se(U,function(){Z++}),Z},toArray:function(U){return se(U,function(Z){return Z})||[]},only:function(U){if(!L(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return Re.Activity=_,Re.Children=Le,Re.Component=z,Re.Fragment=t,Re.Profiler=s,Re.PureComponent=Y,Re.StrictMode=i,Re.Suspense=p,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Re.__COMPILER_RUNTIME={__proto__:null,c:function(U){return x.H.useMemoCache(U)}},Re.cache=function(U){return function(){return U.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(U,Z,ie){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var ae=k({},U.props),ye=U.key;if(Z!=null)for(be in Z.key!==void 0&&(ye=""+Z.key),Z)!N.call(Z,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&Z.ref===void 0||(ae[be]=Z[be]);var be=arguments.length-2;if(be===1)ae.children=ie;else if(1<be){for(var Oe=Array(be),pt=0;pt<be;pt++)Oe[pt]=arguments[pt+2];ae.children=Oe}return D(U.type,ye,ae)},Re.createContext=function(U){return U={$$typeof:c,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:l,_context:U},U},Re.createElement=function(U,Z,ie){var ae,ye={},be=null;if(Z!=null)for(ae in Z.key!==void 0&&(be=""+Z.key),Z)N.call(Z,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(ye[ae]=Z[ae]);var Oe=arguments.length-2;if(Oe===1)ye.children=ie;else if(1<Oe){for(var pt=Array(Oe),Xe=0;Xe<Oe;Xe++)pt[Xe]=arguments[Xe+2];ye.children=pt}if(U&&U.defaultProps)for(ae in Oe=U.defaultProps,Oe)ye[ae]===void 0&&(ye[ae]=Oe[ae]);return D(U,be,ye)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(U){return{$$typeof:d,render:U}},Re.isValidElement=L,Re.lazy=function(U){return{$$typeof:v,_payload:{_status:-1,_result:U},_init:ce}},Re.memo=function(U,Z){return{$$typeof:g,type:U,compare:Z===void 0?null:Z}},Re.startTransition=function(U){var Z=x.T,ie={};x.T=ie;try{var ae=U(),ye=x.S;ye!==null&&ye(ie,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(ue,De)}catch(be){De(be)}finally{Z!==null&&ie.types!==null&&(Z.types=ie.types),x.T=Z}},Re.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Re.use=function(U){return x.H.use(U)},Re.useActionState=function(U,Z,ie){return x.H.useActionState(U,Z,ie)},Re.useCallback=function(U,Z){return x.H.useCallback(U,Z)},Re.useContext=function(U){return x.H.useContext(U)},Re.useDebugValue=function(){},Re.useDeferredValue=function(U,Z){return x.H.useDeferredValue(U,Z)},Re.useEffect=function(U,Z){return x.H.useEffect(U,Z)},Re.useEffectEvent=function(U){return x.H.useEffectEvent(U)},Re.useId=function(){return x.H.useId()},Re.useImperativeHandle=function(U,Z,ie){return x.H.useImperativeHandle(U,Z,ie)},Re.useInsertionEffect=function(U,Z){return x.H.useInsertionEffect(U,Z)},Re.useLayoutEffect=function(U,Z){return x.H.useLayoutEffect(U,Z)},Re.useMemo=function(U,Z){return x.H.useMemo(U,Z)},Re.useOptimistic=function(U,Z){return x.H.useOptimistic(U,Z)},Re.useReducer=function(U,Z,ie){return x.H.useReducer(U,Z,ie)},Re.useRef=function(U){return x.H.useRef(U)},Re.useState=function(U){return x.H.useState(U)},Re.useSyncExternalStore=function(U,Z,ie){return x.H.useSyncExternalStore(U,Z,ie)},Re.useTransition=function(){return x.H.useTransition()},Re.version="19.2.0",Re}var nw;function ry(){return nw||(nw=1,Hp.exports=zI()),Hp.exports}var qp={exports:{}},an={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rw;function BI(){if(rw)return an;rw=1;var n=ry();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(p,g,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:_==null?null:""+_,children:p,containerInfo:g,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,an.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(p,g,null,v)},an.flushSync=function(p){var g=c.T,v=i.p;try{if(c.T=null,i.p=2,p)return p()}finally{c.T=g,i.p=v,i.d.f()}},an.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(p,g))},an.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},an.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,_=d(v,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,I=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?i.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:S,fetchPriority:I}):v==="script"&&i.d.X(p,{crossOrigin:_,integrity:S,fetchPriority:I,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},an.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=d(g.as,g.crossOrigin);i.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(p)},an.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,_=d(v,g.crossOrigin);i.d.L(p,v,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},an.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=d(g.as,g.crossOrigin);i.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(p)},an.requestFormReset=function(p){i.d.r(p)},an.unstable_batchedUpdates=function(p,g){return p(g)},an.useFormState=function(p,g,v){return c.H.useFormState(p,g,v)},an.useFormStatus=function(){return c.H.useHostTransitionStatus()},an.version="19.2.0",an}var iw;function TS(){if(iw)return qp.exports;iw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),qp.exports=BI(),qp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aw;function FI(){if(aw)return Au;aw=1;var n=jI(),e=ry(),t=TS();function i(r){var a="https://react.dev/errors/"+r;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)a+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var a=r,o=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(o=a.return),r=a.return;while(r)}return a.tag===3?o:null}function c(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function d(r){if(r.tag===31){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function p(r){if(l(r)!==r)throw Error(i(188))}function g(r){var a=r.alternate;if(!a){if(a=l(r),a===null)throw Error(i(188));return a!==r?null:r}for(var o=r,u=a;;){var h=o.return;if(h===null)break;var m=h.alternate;if(m===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===o)return p(h),r;if(m===u)return p(h),a;m=m.sibling}throw Error(i(188))}if(o.return!==u.return)o=h,u=m;else{for(var E=!1,b=h.child;b;){if(b===o){E=!0,o=h,u=m;break}if(b===u){E=!0,u=h,o=m;break}b=b.sibling}if(!E){for(b=m.child;b;){if(b===o){E=!0,o=m,u=h;break}if(b===u){E=!0,u=m,o=h;break}b=b.sibling}if(!E)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:a}function v(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r;for(r=r.child;r!==null;){if(a=v(r),a!==null)return a;r=r.sibling}return null}var _=Object.assign,S=Symbol.for("react.element"),I=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),$=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),fe=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function B(r){return r===null||typeof r!="object"?null:(r=L&&r[L]||r["@@iterator"],typeof r=="function"?r:null)}var M=Symbol.for("react.client.reference");function qe(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===M?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case k:return"Fragment";case z:return"Profiler";case C:return"StrictMode";case fe:return"Suspense";case ue:return"SuspenseList";case D:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case O:return"Portal";case Y:return r.displayName||"Context";case $:return(r._context.displayName||"Context")+".Consumer";case oe:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case x:return a=r.displayName||null,a!==null?a:qe(r.type)||"Memo";case N:a=r._payload,r=r._init;try{return qe(r(a))}catch{}}return null}var lt=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce={pending:!1,data:null,method:null,action:null},De=[],Le=-1;function U(r){return{current:r}}function Z(r){0>Le||(r.current=De[Le],De[Le]=null,Le--)}function ie(r,a){Le++,De[Le]=r.current,r.current=a}var ae=U(null),ye=U(null),be=U(null),Oe=U(null);function pt(r,a){switch(ie(be,a),ie(ye,r),ie(ae,null),a.nodeType){case 9:case 11:r=(r=a.documentElement)&&(r=r.namespaceURI)?ET(r):0;break;default:if(r=a.tagName,a=a.namespaceURI)a=ET(a),r=TT(a,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}Z(ae),ie(ae,r)}function Xe(){Z(ae),Z(ye),Z(be)}function dn(r){r.memoizedState!==null&&ie(Oe,r);var a=ae.current,o=TT(a,r.type);a!==o&&(ie(ye,r),ie(ae,o))}function rr(r){ye.current===r&&(Z(ae),Z(ye)),Oe.current===r&&(Z(Oe),Eu._currentValue=ce)}var Sn,kn;function Yt(r){if(Sn===void 0)try{throw Error()}catch(o){var a=o.stack.trim().match(/\n( *(at )?)/);Sn=a&&a[1]||"",kn=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Sn+r+kn}var We=!1;function Pn(r,a){if(!r||We)return"";We=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(a){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(X){var K=X}Reflect.construct(r,[],ne)}else{try{ne.call()}catch(X){K=X}r.call(ne.prototype)}}else{try{throw Error()}catch(X){K=X}(ne=r())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(X){if(X&&K&&typeof X.stack=="string")return[X.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),E=m[0],b=m[1];if(E&&b){var V=E.split(`
`),G=b.split(`
`);for(h=u=0;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;for(;h<G.length&&!G[h].includes("DetermineComponentFrameRoot");)h++;if(u===V.length||h===G.length)for(u=V.length-1,h=G.length-1;1<=u&&0<=h&&V[u]!==G[h];)h--;for(;1<=u&&0<=h;u--,h--)if(V[u]!==G[h]){if(u!==1||h!==1)do if(u--,h--,0>h||V[u]!==G[h]){var J=`
`+V[u].replace(" at new "," at ");return r.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",r.displayName)),J}while(1<=u&&0<=h);break}}}finally{We=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?Yt(o):""}function ir(r,a){switch(r.tag){case 26:case 27:case 5:return Yt(r.type);case 16:return Yt("Lazy");case 13:return r.child!==a&&a!==null?Yt("Suspense Fallback"):Yt("Suspense");case 19:return Yt("SuspenseList");case 0:case 15:return Pn(r.type,!1);case 11:return Pn(r.type.render,!1);case 1:return Pn(r.type,!0);case 31:return Yt("Activity");default:return""}}function Ja(r){try{var a="",o=null;do a+=ir(r,o),o=r,r=r.return;while(r);return a}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var vt=Object.prototype.hasOwnProperty,Tt=n.unstable_scheduleCallback,Cr=n.unstable_cancelCallback,bl=n.unstable_shouldYield,Qs=n.unstable_requestPaint,$t=n.unstable_now,ai=n.unstable_getCurrentPriorityLevel,ke=n.unstable_ImmediatePriority,Un=n.unstable_UserBlockingPriority,ar=n.unstable_NormalPriority,$d=n.unstable_LowPriority,Ac=n.unstable_IdlePriority,Rc=n.log,Cc=n.unstable_setDisableYieldValue,sr=null,Qt=null;function jn(r){if(typeof Rc=="function"&&Cc(r),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(sr,r)}catch{}}var wt=Math.clz32?Math.clz32:Nc,Ic=Math.log,Xs=Math.LN2;function Nc(r){return r>>>=0,r===0?32:31-(Ic(r)/Xs|0)|0}var Ir=256,Za=262144,Ct=4194304;function Nr(r){var a=r&42;if(a!==0)return a;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return r&261888;case 262144:case 524288:case 1048576:case 2097152:return r&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function xr(r,a,o){var u=r.pendingLanes;if(u===0)return 0;var h=0,m=r.suspendedLanes,E=r.pingedLanes;r=r.warmLanes;var b=u&134217727;return b!==0?(u=b&~m,u!==0?h=Nr(u):(E&=b,E!==0?h=Nr(E):o||(o=b&~r,o!==0&&(h=Nr(o))))):(b=u&~m,b!==0?h=Nr(b):E!==0?h=Nr(E):o||(o=u&~r,o!==0&&(h=Nr(o)))),h===0?0:a!==0&&a!==h&&(a&m)===0&&(m=h&-h,o=a&-a,m>=o||m===32&&(o&4194048)!==0)?a:h}function or(r,a){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&a)===0}function Hd(r,a){switch(r){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xc(){var r=Ct;return Ct<<=1,(Ct&62914560)===0&&(Ct=4194304),r}function Dr(r){for(var a=[],o=0;31>o;o++)a.push(r);return a}function es(r,a){r.pendingLanes|=a,a!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function qd(r,a,o,u,h,m){var E=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var b=r.entanglements,V=r.expirationTimes,G=r.hiddenUpdates;for(o=E&~o;0<o;){var J=31-wt(o),ne=1<<J;b[J]=0,V[J]=-1;var K=G[J];if(K!==null)for(G[J]=null,J=0;J<K.length;J++){var X=K[J];X!==null&&(X.lane&=-536870913)}o&=~ne}u!==0&&ts(r,u,0),m!==0&&h===0&&r.tag!==0&&(r.suspendedLanes|=m&~(E&~a))}function ts(r,a,o){r.pendingLanes|=a,r.suspendedLanes&=~a;var u=31-wt(a);r.entangledLanes|=a,r.entanglements[u]=r.entanglements[u]|1073741824|o&261930}function Al(r,a){var o=r.entangledLanes|=a;for(r=r.entanglements;o;){var u=31-wt(o),h=1<<u;h&a|r[u]&a&&(r[u]|=a),o&=~h}}function Rl(r,a){var o=a&-a;return o=(o&42)!==0?1:ns(o),(o&(r.suspendedLanes|a))!==0?0:o}function ns(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function si(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function Dc(){var r=se.p;return r!==0?r:(r=window.event,r===void 0?32:HT(r.type))}function lr(r,a){var o=se.p;try{return se.p=r,a()}finally{se.p=o}}var ur=Math.random().toString(36).slice(2),It="__reactFiber$"+ur,Ht="__reactProps$"+ur,Or="__reactContainer$"+ur,Ws="__reactEvents$"+ur,Gd="__reactListeners$"+ur,Oc="__reactHandles$"+ur,Mc="__reactResources$"+ur,Mr="__reactMarker$"+ur;function Js(r){delete r[It],delete r[Ht],delete r[Ws],delete r[Gd],delete r[Oc]}function Vr(r){var a=r[It];if(a)return a;for(var o=r.parentNode;o;){if(a=o[Or]||o[It]){if(o=a.alternate,a.child!==null||o!==null&&o.child!==null)for(r=IT(r);r!==null;){if(o=r[It])return o;r=IT(r)}return a}r=o,o=r.parentNode}return null}function zn(r){if(r=r[It]||r[Or]){var a=r.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return r}return null}function bn(r){var a=r.tag;if(a===5||a===26||a===27||a===6)return r.stateNode;throw Error(i(33))}function Lr(r){var a=r[Mc];return a||(a=r[Mc]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Nt(r){r[Mr]=!0}var Cl=new Set,Il={};function kr(r,a){Pr(r,a),Pr(r+"Capture",a)}function Pr(r,a){for(Il[r]=a,r=0;r<a.length;r++)Cl.add(a[r])}var Nl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xl={},Dl={};function Vc(r){return vt.call(Dl,r)?!0:vt.call(xl,r)?!1:Nl.test(r)?Dl[r]=!0:(xl[r]=!0,!1)}function Zs(r,a,o){if(Vc(a))if(o===null)r.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(a);return;case"boolean":var u=a.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(a);return}}r.setAttribute(a,""+o)}}function An(r,a,o){if(o===null)r.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(a);return}r.setAttribute(a,""+o)}}function xt(r,a,o,u){if(u===null)r.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(a,o,""+u)}}function qt(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Yi(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ol(r,a,o){var u=Object.getOwnPropertyDescriptor(r.constructor.prototype,a);if(!r.hasOwnProperty(a)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var h=u.get,m=u.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return h.call(this)},set:function(E){o=""+E,m.call(this,E)}}),Object.defineProperty(r,a,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(E){o=""+E},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function Ze(r){if(!r._valueTracker){var a=Yi(r)?"checked":"value";r._valueTracker=Ol(r,a,""+r[a])}}function rs(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var o=a.getValue(),u="";return r&&(u=Yi(r)?r.checked?"true":"false":r.value),r=u,r!==o?(a.setValue(r),!0):!1}function Ur(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var is=/[\n"\\]/g;function mn(r){return r.replace(is,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function eo(r,a,o,u,h,m,E,b){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),a!=null?E==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+qt(a)):r.value!==""+qt(a)&&(r.value=""+qt(a)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),a!=null?Ml(r,E,qt(a)):o!=null?Ml(r,E,qt(o)):u!=null&&r.removeAttribute("value"),h==null&&m!=null&&(r.defaultChecked=!!m),h!=null&&(r.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?r.name=""+qt(b):r.removeAttribute("name")}function Lc(r,a,o,u,h,m,E,b){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(r.type=m),a!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||a!=null)){Ze(r);return}o=o!=null?""+qt(o):"",a=a!=null?""+qt(a):o,b||a===r.value||(r.value=a),r.defaultValue=a}u=u??h,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=b?r.checked:!!u,r.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E),Ze(r)}function Ml(r,a,o){a==="number"&&Ur(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function Qi(r,a,o,u){if(r=r.options,a){a={};for(var h=0;h<o.length;h++)a["$"+o[h]]=!0;for(o=0;o<r.length;o++)h=a.hasOwnProperty("$"+r[o].value),r[o].selected!==h&&(r[o].selected=h),h&&u&&(r[o].defaultSelected=!0)}else{for(o=""+qt(o),a=null,h=0;h<r.length;h++){if(r[h].value===o){r[h].selected=!0,u&&(r[h].defaultSelected=!0);return}a!==null||r[h].disabled||(a=r[h])}a!==null&&(a.selected=!0)}}function kc(r,a,o){if(a!=null&&(a=""+qt(a),a!==r.value&&(r.value=a),o==null)){r.defaultValue!==a&&(r.defaultValue=a);return}r.defaultValue=o!=null?""+qt(o):""}function Xi(r,a,o,u){if(a==null){if(u!=null){if(o!=null)throw Error(i(92));if(lt(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),a=o}o=qt(a),r.defaultValue=o,u=r.textContent,u===o&&u!==""&&u!==null&&(r.value=u),Ze(r)}function pn(r,a){if(a){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=a;return}}r.textContent=a}var Pc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vl(r,a,o){var u=a.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?r.setProperty(a,""):a==="float"?r.cssFloat="":r[a]="":u?r.setProperty(a,o):typeof o!="number"||o===0||Pc.has(a)?a==="float"?r.cssFloat=o:r[a]=(""+o).trim():r[a]=o+"px"}function Ll(r,a,o){if(a!=null&&typeof a!="object")throw Error(i(62));if(r=r.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||a!=null&&a.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var h in a)u=a[h],a.hasOwnProperty(h)&&o[h]!==u&&Vl(r,h,u)}else for(var m in a)a.hasOwnProperty(m)&&Vl(r,m,a[m])}function to(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Uc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function no(r){return Wi.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}function cr(){}var kl=null;function Bn(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ji=null,jr=null;function as(r){var a=zn(r);if(a&&(r=a.stateNode)){var o=r[Ht]||null;e:switch(r=a.stateNode,a.type){case"input":if(eo(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),a=o.name,o.type==="radio"&&a!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+mn(""+a)+'"][type="radio"]'),a=0;a<o.length;a++){var u=o[a];if(u!==r&&u.form===r.form){var h=u[Ht]||null;if(!h)throw Error(i(90));eo(u,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(a=0;a<o.length;a++)u=o[a],u.form===r.form&&rs(u)}break e;case"textarea":kc(r,o.value,o.defaultValue);break e;case"select":a=o.value,a!=null&&Qi(r,!!o.multiple,a,!1)}}}var ro=!1;function Zi(r,a,o){if(ro)return r(a,o);ro=!0;try{var u=r(a);return u}finally{if(ro=!1,(Ji!==null||jr!==null)&&(Of(),Ji&&(a=Ji,r=jr,jr=Ji=null,as(a),r)))for(a=0;a<r.length;a++)as(r[a])}}function fr(r,a){var o=r.stateNode;if(o===null)return null;var u=o[Ht]||null;if(u===null)return null;o=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,a,typeof o));return o}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ss=!1;if(Fn)try{var nt={};Object.defineProperty(nt,"passive",{get:function(){ss=!0}}),window.addEventListener("test",nt,nt),window.removeEventListener("test",nt,nt)}catch{ss=!1}var zr=null,Pl=null,os=null;function Ul(){if(os)return os;var r,a=Pl,o=a.length,u,h="value"in zr?zr.value:zr.textContent,m=h.length;for(r=0;r<o&&a[r]===h[r];r++);var E=o-r;for(u=1;u<=E&&a[o-u]===h[m-u];u++);return os=h.slice(r,1<u?1-u:void 0)}function ls(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function oi(){return!0}function hr(){return!1}function Xt(r){function a(o,u,h,m,E){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=m,this.target=E,this.currentTarget=null;for(var b in r)r.hasOwnProperty(b)&&(o=r[b],this[b]=o?o(m):m[b]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?oi:hr,this.isPropagationStopped=hr,this}return _(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=oi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=oi)},persist:function(){},isPersistent:oi}),a}var li={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Br=Xt(li),ea=_({},li,{view:0,detail:0}),jl=Xt(ea),ta,io,Fr,ao=_({},ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:na,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Fr&&(Fr&&r.type==="mousemove"?(ta=r.screenX-Fr.screenX,io=r.screenY-Fr.screenY):io=ta=0,Fr=r),ta)},movementY:function(r){return"movementY"in r?r.movementY:io}}),zl=Xt(ao),us=_({},ao,{dataTransfer:0}),jc=Xt(us),zc=_({},ea,{relatedTarget:0}),cs=Xt(zc),Bl=_({},li,{animationName:0,elapsedTime:0,pseudoElement:0}),Bc=Xt(Bl),so=_({},li,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Fc=Xt(so),$c=_({},li,{data:0}),$r=Xt($c),Hc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Kc(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=Gc[r])?!!a[r]:!1}function na(){return Kc}var cn=_({},ea,{key:function(r){if(r.key){var a=Hc[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=ls(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?qc[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:na,charCode:function(r){return r.type==="keypress"?ls(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?ls(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Yc=Xt(cn),Qc=_({},ao,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ui=Xt(Qc),f=_({},ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:na}),y=Xt(f),T=_({},li,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=Xt(T),H=_({},ao,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Xt(H),le=_({},li,{newState:0,oldState:0}),Ie=Xt(le),St=[9,13,27,32],Ye=Fn&&"CompositionEvent"in window,ht=null;Fn&&"documentMode"in document&&(ht=document.documentMode);var $n=Fn&&"TextEvent"in window&&!ht,Hr=Fn&&(!Ye||ht&&8<ht&&11>=ht),dr=" ",mr=!1;function fs(r,a){switch(r){case"keyup":return St.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oo(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var lo=!1;function sC(r,a){switch(r){case"compositionend":return oo(a);case"keypress":return a.which!==32?null:(mr=!0,dr);case"textInput":return r=a.data,r===dr&&mr?null:r;default:return null}}function oC(r,a){if(lo)return r==="compositionend"||!Ye&&fs(r,a)?(r=Ul(),os=Pl=zr=null,lo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Hr&&a.locale!=="ko"?null:a.data;default:return null}}var lC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dv(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!lC[r.type]:a==="textarea"}function Ov(r,a,o,u){Ji?jr?jr.push(u):jr=[u]:Ji=u,a=jf(a,"onChange"),0<a.length&&(o=new Br("onChange","change",null,o,u),r.push({event:o,listeners:a}))}var Fl=null,$l=null;function uC(r){mT(r,0)}function Xc(r){var a=bn(r);if(rs(a))return r}function Mv(r,a){if(r==="change")return a}var Vv=!1;if(Fn){var Kd;if(Fn){var Yd="oninput"in document;if(!Yd){var Lv=document.createElement("div");Lv.setAttribute("oninput","return;"),Yd=typeof Lv.oninput=="function"}Kd=Yd}else Kd=!1;Vv=Kd&&(!document.documentMode||9<document.documentMode)}function kv(){Fl&&(Fl.detachEvent("onpropertychange",Pv),$l=Fl=null)}function Pv(r){if(r.propertyName==="value"&&Xc($l)){var a=[];Ov(a,$l,r,Bn(r)),Zi(uC,a)}}function cC(r,a,o){r==="focusin"?(kv(),Fl=a,$l=o,Fl.attachEvent("onpropertychange",Pv)):r==="focusout"&&kv()}function fC(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Xc($l)}function hC(r,a){if(r==="click")return Xc(a)}function dC(r,a){if(r==="input"||r==="change")return Xc(a)}function mC(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var Rn=typeof Object.is=="function"?Object.is:mC;function Hl(r,a){if(Rn(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var o=Object.keys(r),u=Object.keys(a);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!vt.call(a,h)||!Rn(r[h],a[h]))return!1}return!0}function Uv(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function jv(r,a){var o=Uv(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=a&&u>=a)return{node:o,offset:a-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Uv(o)}}function zv(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?zv(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function Bv(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var a=Ur(r.document);a instanceof r.HTMLIFrameElement;){try{var o=typeof a.contentWindow.location.href=="string"}catch{o=!1}if(o)r=a.contentWindow;else break;a=Ur(r.document)}return a}function Qd(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}var pC=Fn&&"documentMode"in document&&11>=document.documentMode,uo=null,Xd=null,ql=null,Wd=!1;function Fv(r,a,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Wd||uo==null||uo!==Ur(u)||(u=uo,"selectionStart"in u&&Qd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ql&&Hl(ql,u)||(ql=u,u=jf(Xd,"onSelect"),0<u.length&&(a=new Br("onSelect","select",null,a,o),r.push({event:a,listeners:u}),a.target=uo)))}function hs(r,a){var o={};return o[r.toLowerCase()]=a.toLowerCase(),o["Webkit"+r]="webkit"+a,o["Moz"+r]="moz"+a,o}var co={animationend:hs("Animation","AnimationEnd"),animationiteration:hs("Animation","AnimationIteration"),animationstart:hs("Animation","AnimationStart"),transitionrun:hs("Transition","TransitionRun"),transitionstart:hs("Transition","TransitionStart"),transitioncancel:hs("Transition","TransitionCancel"),transitionend:hs("Transition","TransitionEnd")},Jd={},$v={};Fn&&($v=document.createElement("div").style,"AnimationEvent"in window||(delete co.animationend.animation,delete co.animationiteration.animation,delete co.animationstart.animation),"TransitionEvent"in window||delete co.transitionend.transition);function ds(r){if(Jd[r])return Jd[r];if(!co[r])return r;var a=co[r],o;for(o in a)if(a.hasOwnProperty(o)&&o in $v)return Jd[r]=a[o];return r}var Hv=ds("animationend"),qv=ds("animationiteration"),Gv=ds("animationstart"),gC=ds("transitionrun"),yC=ds("transitionstart"),vC=ds("transitioncancel"),Kv=ds("transitionend"),Yv=new Map,Zd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zd.push("scrollEnd");function pr(r,a){Yv.set(r,a),kr(a,[r])}var Wc=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)},Hn=[],fo=0,em=0;function Jc(){for(var r=fo,a=em=fo=0;a<r;){var o=Hn[a];Hn[a++]=null;var u=Hn[a];Hn[a++]=null;var h=Hn[a];Hn[a++]=null;var m=Hn[a];if(Hn[a++]=null,u!==null&&h!==null){var E=u.pending;E===null?h.next=h:(h.next=E.next,E.next=h),u.pending=h}m!==0&&Qv(o,h,m)}}function Zc(r,a,o,u){Hn[fo++]=r,Hn[fo++]=a,Hn[fo++]=o,Hn[fo++]=u,em|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function tm(r,a,o,u){return Zc(r,a,o,u),ef(r)}function ms(r,a){return Zc(r,null,null,a),ef(r)}function Qv(r,a,o){r.lanes|=o;var u=r.alternate;u!==null&&(u.lanes|=o);for(var h=!1,m=r.return;m!==null;)m.childLanes|=o,u=m.alternate,u!==null&&(u.childLanes|=o),m.tag===22&&(r=m.stateNode,r===null||r._visibility&1||(h=!0)),r=m,m=m.return;return r.tag===3?(m=r.stateNode,h&&a!==null&&(h=31-wt(o),r=m.hiddenUpdates,u=r[h],u===null?r[h]=[a]:u.push(a),a.lane=o|536870912),m):null}function ef(r){if(50<du)throw du=0,cp=null,Error(i(185));for(var a=r.return;a!==null;)r=a,a=r.return;return r.tag===3?r.stateNode:null}var ho={};function _C(r,a,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(r,a,o,u){return new _C(r,a,o,u)}function nm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function ci(r,a){var o=r.alternate;return o===null?(o=Cn(r.tag,a,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=a,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,a=r.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function Xv(r,a){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=a,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,a=o.dependencies,r.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),r}function tf(r,a,o,u,h,m){var E=0;if(u=r,typeof r=="function")nm(r)&&(E=1);else if(typeof r=="string")E=bI(r,o,ae.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case D:return r=Cn(31,o,a,h),r.elementType=D,r.lanes=m,r;case k:return ps(o.children,h,m,a);case C:E=8,h|=24;break;case z:return r=Cn(12,o,a,h|2),r.elementType=z,r.lanes=m,r;case fe:return r=Cn(13,o,a,h),r.elementType=fe,r.lanes=m,r;case ue:return r=Cn(19,o,a,h),r.elementType=ue,r.lanes=m,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case Y:E=10;break e;case $:E=9;break e;case oe:E=11;break e;case x:E=14;break e;case N:E=16,u=null;break e}E=29,o=Error(i(130,r===null?"null":typeof r,"")),u=null}return a=Cn(E,o,a,h),a.elementType=r,a.type=u,a.lanes=m,a}function ps(r,a,o,u){return r=Cn(7,r,u,a),r.lanes=o,r}function rm(r,a,o){return r=Cn(6,r,null,a),r.lanes=o,r}function Wv(r){var a=Cn(18,null,null,0);return a.stateNode=r,a}function im(r,a,o){return a=Cn(4,r.children!==null?r.children:[],r.key,a),a.lanes=o,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}var Jv=new WeakMap;function qn(r,a){if(typeof r=="object"&&r!==null){var o=Jv.get(r);return o!==void 0?o:(a={value:r,source:a,stack:Ja(a)},Jv.set(r,a),a)}return{value:r,source:a,stack:Ja(a)}}var mo=[],po=0,nf=null,Gl=0,Gn=[],Kn=0,ra=null,qr=1,Gr="";function fi(r,a){mo[po++]=Gl,mo[po++]=nf,nf=r,Gl=a}function Zv(r,a,o){Gn[Kn++]=qr,Gn[Kn++]=Gr,Gn[Kn++]=ra,ra=r;var u=qr;r=Gr;var h=32-wt(u)-1;u&=~(1<<h),o+=1;var m=32-wt(a)+h;if(30<m){var E=h-h%5;m=(u&(1<<E)-1).toString(32),u>>=E,h-=E,qr=1<<32-wt(a)+h|o<<h|u,Gr=m+r}else qr=1<<m|o<<h|u,Gr=r}function am(r){r.return!==null&&(fi(r,1),Zv(r,1,0))}function sm(r){for(;r===nf;)nf=mo[--po],mo[po]=null,Gl=mo[--po],mo[po]=null;for(;r===ra;)ra=Gn[--Kn],Gn[Kn]=null,Gr=Gn[--Kn],Gn[Kn]=null,qr=Gn[--Kn],Gn[Kn]=null}function e_(r,a){Gn[Kn++]=qr,Gn[Kn++]=Gr,Gn[Kn++]=ra,qr=a.id,Gr=a.overflow,ra=r}var Wt=null,ut=null,Fe=!1,ia=null,Yn=!1,om=Error(i(519));function aa(r){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Kl(qn(a,r)),om}function t_(r){var a=r.stateNode,o=r.type,u=r.memoizedProps;switch(a[It]=r,a[Ht]=u,o){case"dialog":Ve("cancel",a),Ve("close",a);break;case"iframe":case"object":case"embed":Ve("load",a);break;case"video":case"audio":for(o=0;o<pu.length;o++)Ve(pu[o],a);break;case"source":Ve("error",a);break;case"img":case"image":case"link":Ve("error",a),Ve("load",a);break;case"details":Ve("toggle",a);break;case"input":Ve("invalid",a),Lc(a,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Ve("invalid",a);break;case"textarea":Ve("invalid",a),Xi(a,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||a.textContent===""+o||u.suppressHydrationWarning===!0||vT(a.textContent,o)?(u.popover!=null&&(Ve("beforetoggle",a),Ve("toggle",a)),u.onScroll!=null&&Ve("scroll",a),u.onScrollEnd!=null&&Ve("scrollend",a),u.onClick!=null&&(a.onclick=cr),a=!0):a=!1,a||aa(r,!0)}function n_(r){for(Wt=r.return;Wt;)switch(Wt.tag){case 5:case 31:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:Wt=Wt.return}}function go(r){if(r!==Wt)return!1;if(!Fe)return n_(r),Fe=!0,!1;var a=r.tag,o;if((o=a!==3&&a!==27)&&((o=a===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Ap(r.type,r.memoizedProps)),o=!o),o&&ut&&aa(r),n_(r),a===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));ut=CT(r)}else if(a===31){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));ut=CT(r)}else a===27?(a=ut,_a(r.type)?(r=xp,xp=null,ut=r):ut=a):ut=Wt?Xn(r.stateNode.nextSibling):null;return!0}function gs(){ut=Wt=null,Fe=!1}function lm(){var r=ia;return r!==null&&(_n===null?_n=r:_n.push.apply(_n,r),ia=null),r}function Kl(r){ia===null?ia=[r]:ia.push(r)}var um=U(null),ys=null,hi=null;function sa(r,a,o){ie(um,a._currentValue),a._currentValue=o}function di(r){r._currentValue=um.current,Z(um)}function cm(r,a,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),r===o)break;r=r.return}}function fm(r,a,o,u){var h=r.child;for(h!==null&&(h.return=r);h!==null;){var m=h.dependencies;if(m!==null){var E=h.child;m=m.firstContext;e:for(;m!==null;){var b=m;m=h;for(var V=0;V<a.length;V++)if(b.context===a[V]){m.lanes|=o,b=m.alternate,b!==null&&(b.lanes|=o),cm(m.return,o,r),u||(E=null);break e}m=b.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(i(341));E.lanes|=o,m=E.alternate,m!==null&&(m.lanes|=o),cm(E,o,r),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===r){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function yo(r,a,o,u){r=null;for(var h=a,m=!1;h!==null;){if(!m){if((h.flags&524288)!==0)m=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var b=h.type;Rn(h.pendingProps.value,E.value)||(r!==null?r.push(b):r=[b])}}else if(h===Oe.current){if(E=h.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(r!==null?r.push(Eu):r=[Eu])}h=h.return}r!==null&&fm(a,r,o,u),a.flags|=262144}function rf(r){for(r=r.firstContext;r!==null;){if(!Rn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function vs(r){ys=r,hi=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function Jt(r){return r_(ys,r)}function af(r,a){return ys===null&&vs(r),r_(r,a)}function r_(r,a){var o=a._currentValue;if(a={context:a,memoizedValue:o,next:null},hi===null){if(r===null)throw Error(i(308));hi=a,r.dependencies={lanes:0,firstContext:a},r.flags|=524288}else hi=hi.next=a;return o}var EC=typeof AbortController<"u"?AbortController:function(){var r=[],a=this.signal={aborted:!1,addEventListener:function(o,u){r.push(u)}};this.abort=function(){a.aborted=!0,r.forEach(function(o){return o()})}},TC=n.unstable_scheduleCallback,wC=n.unstable_NormalPriority,Dt={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hm(){return{controller:new EC,data:new Map,refCount:0}}function Yl(r){r.refCount--,r.refCount===0&&TC(wC,function(){r.controller.abort()})}var Ql=null,dm=0,vo=0,_o=null;function SC(r,a){if(Ql===null){var o=Ql=[];dm=0,vo=gp(),_o={status:"pending",value:void 0,then:function(u){o.push(u)}}}return dm++,a.then(i_,i_),a}function i_(){if(--dm===0&&Ql!==null){_o!==null&&(_o.status="fulfilled");var r=Ql;Ql=null,vo=0,_o=null;for(var a=0;a<r.length;a++)(0,r[a])()}}function bC(r,a){var o=[],u={status:"pending",value:null,reason:null,then:function(h){o.push(h)}};return r.then(function(){u.status="fulfilled",u.value=a;for(var h=0;h<o.length;h++)(0,o[h])(a)},function(h){for(u.status="rejected",u.reason=h,h=0;h<o.length;h++)(0,o[h])(void 0)}),u}var a_=W.S;W.S=function(r,a){FE=$t(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&SC(r,a),a_!==null&&a_(r,a)};var _s=U(null);function mm(){var r=_s.current;return r!==null?r:st.pooledCache}function sf(r,a){a===null?ie(_s,_s.current):ie(_s,a.pool)}function s_(){var r=mm();return r===null?null:{parent:Dt._currentValue,pool:r}}var Eo=Error(i(460)),pm=Error(i(474)),of=Error(i(542)),lf={then:function(){}};function o_(r){return r=r.status,r==="fulfilled"||r==="rejected"}function l_(r,a,o){switch(o=r[o],o===void 0?r.push(a):o!==a&&(a.then(cr,cr),a=o),a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,c_(r),r;default:if(typeof a.status=="string")a.then(cr,cr);else{if(r=st,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=a,r.status="pending",r.then(function(u){if(a.status==="pending"){var h=a;h.status="fulfilled",h.value=u}},function(u){if(a.status==="pending"){var h=a;h.status="rejected",h.reason=u}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw r=a.reason,c_(r),r}throw Ts=a,Eo}}function Es(r){try{var a=r._init;return a(r._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Ts=o,Eo):o}}var Ts=null;function u_(){if(Ts===null)throw Error(i(459));var r=Ts;return Ts=null,r}function c_(r){if(r===Eo||r===of)throw Error(i(483))}var To=null,Xl=0;function uf(r){var a=Xl;return Xl+=1,To===null&&(To=[]),l_(To,r,a)}function Wl(r,a){a=a.props.ref,r.ref=a!==void 0?a:null}function cf(r,a){throw a.$$typeof===S?Error(i(525)):(r=Object.prototype.toString.call(a),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r)))}function f_(r){function a(F,j){if(r){var q=F.deletions;q===null?(F.deletions=[j],F.flags|=16):q.push(j)}}function o(F,j){if(!r)return null;for(;j!==null;)a(F,j),j=j.sibling;return null}function u(F){for(var j=new Map;F!==null;)F.key!==null?j.set(F.key,F):j.set(F.index,F),F=F.sibling;return j}function h(F,j){return F=ci(F,j),F.index=0,F.sibling=null,F}function m(F,j,q){return F.index=q,r?(q=F.alternate,q!==null?(q=q.index,q<j?(F.flags|=67108866,j):q):(F.flags|=67108866,j)):(F.flags|=1048576,j)}function E(F){return r&&F.alternate===null&&(F.flags|=67108866),F}function b(F,j,q,ee){return j===null||j.tag!==6?(j=rm(q,F.mode,ee),j.return=F,j):(j=h(j,q),j.return=F,j)}function V(F,j,q,ee){var ve=q.type;return ve===k?J(F,j,q.props.children,ee,q.key):j!==null&&(j.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===N&&Es(ve)===j.type)?(j=h(j,q.props),Wl(j,q),j.return=F,j):(j=tf(q.type,q.key,q.props,null,F.mode,ee),Wl(j,q),j.return=F,j)}function G(F,j,q,ee){return j===null||j.tag!==4||j.stateNode.containerInfo!==q.containerInfo||j.stateNode.implementation!==q.implementation?(j=im(q,F.mode,ee),j.return=F,j):(j=h(j,q.children||[]),j.return=F,j)}function J(F,j,q,ee,ve){return j===null||j.tag!==7?(j=ps(q,F.mode,ee,ve),j.return=F,j):(j=h(j,q),j.return=F,j)}function ne(F,j,q){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=rm(""+j,F.mode,q),j.return=F,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case I:return q=tf(j.type,j.key,j.props,null,F.mode,q),Wl(q,j),q.return=F,q;case O:return j=im(j,F.mode,q),j.return=F,j;case N:return j=Es(j),ne(F,j,q)}if(lt(j)||B(j))return j=ps(j,F.mode,q,null),j.return=F,j;if(typeof j.then=="function")return ne(F,uf(j),q);if(j.$$typeof===Y)return ne(F,af(F,j),q);cf(F,j)}return null}function K(F,j,q,ee){var ve=j!==null?j.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ve!==null?null:b(F,j,""+q,ee);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case I:return q.key===ve?V(F,j,q,ee):null;case O:return q.key===ve?G(F,j,q,ee):null;case N:return q=Es(q),K(F,j,q,ee)}if(lt(q)||B(q))return ve!==null?null:J(F,j,q,ee,null);if(typeof q.then=="function")return K(F,j,uf(q),ee);if(q.$$typeof===Y)return K(F,j,af(F,q),ee);cf(F,q)}return null}function X(F,j,q,ee,ve){if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return F=F.get(q)||null,b(j,F,""+ee,ve);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case I:return F=F.get(ee.key===null?q:ee.key)||null,V(j,F,ee,ve);case O:return F=F.get(ee.key===null?q:ee.key)||null,G(j,F,ee,ve);case N:return ee=Es(ee),X(F,j,q,ee,ve)}if(lt(ee)||B(ee))return F=F.get(q)||null,J(j,F,ee,ve,null);if(typeof ee.then=="function")return X(F,j,q,uf(ee),ve);if(ee.$$typeof===Y)return X(F,j,q,af(j,ee),ve);cf(j,ee)}return null}function me(F,j,q,ee){for(var ve=null,Ge=null,pe=j,xe=j=0,Ue=null;pe!==null&&xe<q.length;xe++){pe.index>xe?(Ue=pe,pe=null):Ue=pe.sibling;var Ke=K(F,pe,q[xe],ee);if(Ke===null){pe===null&&(pe=Ue);break}r&&pe&&Ke.alternate===null&&a(F,pe),j=m(Ke,j,xe),Ge===null?ve=Ke:Ge.sibling=Ke,Ge=Ke,pe=Ue}if(xe===q.length)return o(F,pe),Fe&&fi(F,xe),ve;if(pe===null){for(;xe<q.length;xe++)pe=ne(F,q[xe],ee),pe!==null&&(j=m(pe,j,xe),Ge===null?ve=pe:Ge.sibling=pe,Ge=pe);return Fe&&fi(F,xe),ve}for(pe=u(pe);xe<q.length;xe++)Ue=X(pe,F,xe,q[xe],ee),Ue!==null&&(r&&Ue.alternate!==null&&pe.delete(Ue.key===null?xe:Ue.key),j=m(Ue,j,xe),Ge===null?ve=Ue:Ge.sibling=Ue,Ge=Ue);return r&&pe.forEach(function(ba){return a(F,ba)}),Fe&&fi(F,xe),ve}function Ee(F,j,q,ee){if(q==null)throw Error(i(151));for(var ve=null,Ge=null,pe=j,xe=j=0,Ue=null,Ke=q.next();pe!==null&&!Ke.done;xe++,Ke=q.next()){pe.index>xe?(Ue=pe,pe=null):Ue=pe.sibling;var ba=K(F,pe,Ke.value,ee);if(ba===null){pe===null&&(pe=Ue);break}r&&pe&&ba.alternate===null&&a(F,pe),j=m(ba,j,xe),Ge===null?ve=ba:Ge.sibling=ba,Ge=ba,pe=Ue}if(Ke.done)return o(F,pe),Fe&&fi(F,xe),ve;if(pe===null){for(;!Ke.done;xe++,Ke=q.next())Ke=ne(F,Ke.value,ee),Ke!==null&&(j=m(Ke,j,xe),Ge===null?ve=Ke:Ge.sibling=Ke,Ge=Ke);return Fe&&fi(F,xe),ve}for(pe=u(pe);!Ke.done;xe++,Ke=q.next())Ke=X(pe,F,xe,Ke.value,ee),Ke!==null&&(r&&Ke.alternate!==null&&pe.delete(Ke.key===null?xe:Ke.key),j=m(Ke,j,xe),Ge===null?ve=Ke:Ge.sibling=Ke,Ge=Ke);return r&&pe.forEach(function(LI){return a(F,LI)}),Fe&&fi(F,xe),ve}function at(F,j,q,ee){if(typeof q=="object"&&q!==null&&q.type===k&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case I:e:{for(var ve=q.key;j!==null;){if(j.key===ve){if(ve=q.type,ve===k){if(j.tag===7){o(F,j.sibling),ee=h(j,q.props.children),ee.return=F,F=ee;break e}}else if(j.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===N&&Es(ve)===j.type){o(F,j.sibling),ee=h(j,q.props),Wl(ee,q),ee.return=F,F=ee;break e}o(F,j);break}else a(F,j);j=j.sibling}q.type===k?(ee=ps(q.props.children,F.mode,ee,q.key),ee.return=F,F=ee):(ee=tf(q.type,q.key,q.props,null,F.mode,ee),Wl(ee,q),ee.return=F,F=ee)}return E(F);case O:e:{for(ve=q.key;j!==null;){if(j.key===ve)if(j.tag===4&&j.stateNode.containerInfo===q.containerInfo&&j.stateNode.implementation===q.implementation){o(F,j.sibling),ee=h(j,q.children||[]),ee.return=F,F=ee;break e}else{o(F,j);break}else a(F,j);j=j.sibling}ee=im(q,F.mode,ee),ee.return=F,F=ee}return E(F);case N:return q=Es(q),at(F,j,q,ee)}if(lt(q))return me(F,j,q,ee);if(B(q)){if(ve=B(q),typeof ve!="function")throw Error(i(150));return q=ve.call(q),Ee(F,j,q,ee)}if(typeof q.then=="function")return at(F,j,uf(q),ee);if(q.$$typeof===Y)return at(F,j,af(F,q),ee);cf(F,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,j!==null&&j.tag===6?(o(F,j.sibling),ee=h(j,q),ee.return=F,F=ee):(o(F,j),ee=rm(q,F.mode,ee),ee.return=F,F=ee),E(F)):o(F,j)}return function(F,j,q,ee){try{Xl=0;var ve=at(F,j,q,ee);return To=null,ve}catch(pe){if(pe===Eo||pe===of)throw pe;var Ge=Cn(29,pe,null,F.mode);return Ge.lanes=ee,Ge.return=F,Ge}finally{}}}var ws=f_(!0),h_=f_(!1),oa=!1;function gm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ym(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function la(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ua(r,a,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(Qe&2)!==0){var h=u.pending;return h===null?a.next=a:(a.next=h.next,h.next=a),u.pending=a,a=ef(r),Qv(r,null,o),a}return Zc(r,u,a,o),ef(r)}function Jl(r,a,o){if(a=a.updateQueue,a!==null&&(a=a.shared,(o&4194048)!==0)){var u=a.lanes;u&=r.pendingLanes,o|=u,a.lanes=o,Al(r,o)}}function vm(r,a){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?h=m=E:m=m.next=E,o=o.next}while(o!==null);m===null?h=m=a:m=m.next=a}else h=m=a;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=a:r.next=a,o.lastBaseUpdate=a}var _m=!1;function Zl(){if(_m){var r=_o;if(r!==null)throw r}}function eu(r,a,o,u){_m=!1;var h=r.updateQueue;oa=!1;var m=h.firstBaseUpdate,E=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var V=b,G=V.next;V.next=null,E===null?m=G:E.next=G,E=V;var J=r.alternate;J!==null&&(J=J.updateQueue,b=J.lastBaseUpdate,b!==E&&(b===null?J.firstBaseUpdate=G:b.next=G,J.lastBaseUpdate=V))}if(m!==null){var ne=h.baseState;E=0,J=G=V=null,b=m;do{var K=b.lane&-536870913,X=K!==b.lane;if(X?(Pe&K)===K:(u&K)===K){K!==0&&K===vo&&(_m=!0),J!==null&&(J=J.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var me=r,Ee=b;K=a;var at=o;switch(Ee.tag){case 1:if(me=Ee.payload,typeof me=="function"){ne=me.call(at,ne,K);break e}ne=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Ee.payload,K=typeof me=="function"?me.call(at,ne,K):me,K==null)break e;ne=_({},ne,K);break e;case 2:oa=!0}}K=b.callback,K!==null&&(r.flags|=64,X&&(r.flags|=8192),X=h.callbacks,X===null?h.callbacks=[K]:X.push(K))}else X={lane:K,tag:b.tag,payload:b.payload,callback:b.callback,next:null},J===null?(G=J=X,V=ne):J=J.next=X,E|=K;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;X=b,b=X.next,X.next=null,h.lastBaseUpdate=X,h.shared.pending=null}}while(!0);J===null&&(V=ne),h.baseState=V,h.firstBaseUpdate=G,h.lastBaseUpdate=J,m===null&&(h.shared.lanes=0),ma|=E,r.lanes=E,r.memoizedState=ne}}function d_(r,a){if(typeof r!="function")throw Error(i(191,r));r.call(a)}function m_(r,a){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)d_(o[r],a)}var wo=U(null),ff=U(0);function p_(r,a){r=wi,ie(ff,r),ie(wo,a),wi=r|a.baseLanes}function Em(){ie(ff,wi),ie(wo,wo.current)}function Tm(){wi=ff.current,Z(wo),Z(ff)}var In=U(null),Qn=null;function ca(r){var a=r.alternate;ie(bt,bt.current&1),ie(In,r),Qn===null&&(a===null||wo.current!==null||a.memoizedState!==null)&&(Qn=r)}function wm(r){ie(bt,bt.current),ie(In,r),Qn===null&&(Qn=r)}function g_(r){r.tag===22?(ie(bt,bt.current),ie(In,r),Qn===null&&(Qn=r)):fa()}function fa(){ie(bt,bt.current),ie(In,In.current)}function Nn(r){Z(In),Qn===r&&(Qn=null),Z(bt)}var bt=U(0);function hf(r){for(var a=r;a!==null;){if(a.tag===13){var o=a.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Ip(o)||Np(o)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var mi=0,Ne=null,rt=null,Ot=null,df=!1,So=!1,Ss=!1,mf=0,tu=0,bo=null,AC=0;function _t(){throw Error(i(321))}function Sm(r,a){if(a===null)return!1;for(var o=0;o<a.length&&o<r.length;o++)if(!Rn(r[o],a[o]))return!1;return!0}function bm(r,a,o,u,h,m){return mi=m,Ne=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,W.H=r===null||r.memoizedState===null?Z_:jm,Ss=!1,m=o(u,h),Ss=!1,So&&(m=v_(a,o,u,h)),y_(r),m}function y_(r){W.H=iu;var a=rt!==null&&rt.next!==null;if(mi=0,Ot=rt=Ne=null,df=!1,tu=0,bo=null,a)throw Error(i(300));r===null||Mt||(r=r.dependencies,r!==null&&rf(r)&&(Mt=!0))}function v_(r,a,o,u){Ne=r;var h=0;do{if(So&&(bo=null),tu=0,So=!1,25<=h)throw Error(i(301));if(h+=1,Ot=rt=null,r.updateQueue!=null){var m=r.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}W.H=eE,m=a(o,u)}while(So);return m}function RC(){var r=W.H,a=r.useState()[0];return a=typeof a.then=="function"?nu(a):a,r=r.useState()[0],(rt!==null?rt.memoizedState:null)!==r&&(Ne.flags|=1024),a}function Am(){var r=mf!==0;return mf=0,r}function Rm(r,a,o){a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~o}function Cm(r){if(df){for(r=r.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}df=!1}mi=0,Ot=rt=Ne=null,So=!1,tu=mf=0,bo=null}function fn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?Ne.memoizedState=Ot=r:Ot=Ot.next=r,Ot}function At(){if(rt===null){var r=Ne.alternate;r=r!==null?r.memoizedState:null}else r=rt.next;var a=Ot===null?Ne.memoizedState:Ot.next;if(a!==null)Ot=a,rt=r;else{if(r===null)throw Ne.alternate===null?Error(i(467)):Error(i(310));rt=r,r={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},Ot===null?Ne.memoizedState=Ot=r:Ot=Ot.next=r}return Ot}function pf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nu(r){var a=tu;return tu+=1,bo===null&&(bo=[]),r=l_(bo,r,a),a=Ne,(Ot===null?a.memoizedState:Ot.next)===null&&(a=a.alternate,W.H=a===null||a.memoizedState===null?Z_:jm),r}function gf(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return nu(r);if(r.$$typeof===Y)return Jt(r)}throw Error(i(438,String(r)))}function Im(r){var a=null,o=Ne.updateQueue;if(o!==null&&(a=o.memoCache),a==null){var u=Ne.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(a={data:u.data.map(function(h){return h.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),o===null&&(o=pf(),Ne.updateQueue=o),o.memoCache=a,o=a.data[a.index],o===void 0)for(o=a.data[a.index]=Array(r),u=0;u<r;u++)o[u]=P;return a.index++,o}function pi(r,a){return typeof a=="function"?a(r):a}function yf(r){var a=At();return Nm(a,rt,r)}function Nm(r,a,o){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var h=r.baseQueue,m=u.pending;if(m!==null){if(h!==null){var E=h.next;h.next=m.next,m.next=E}a.baseQueue=h=m,u.pending=null}if(m=r.baseState,h===null)r.memoizedState=m;else{a=h.next;var b=E=null,V=null,G=a,J=!1;do{var ne=G.lane&-536870913;if(ne!==G.lane?(Pe&ne)===ne:(mi&ne)===ne){var K=G.revertLane;if(K===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),ne===vo&&(J=!0);else if((mi&K)===K){G=G.next,K===vo&&(J=!0);continue}else ne={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},V===null?(b=V=ne,E=m):V=V.next=ne,Ne.lanes|=K,ma|=K;ne=G.action,Ss&&o(m,ne),m=G.hasEagerState?G.eagerState:o(m,ne)}else K={lane:ne,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},V===null?(b=V=K,E=m):V=V.next=K,Ne.lanes|=ne,ma|=ne;G=G.next}while(G!==null&&G!==a);if(V===null?E=m:V.next=b,!Rn(m,r.memoizedState)&&(Mt=!0,J&&(o=_o,o!==null)))throw o;r.memoizedState=m,r.baseState=E,r.baseQueue=V,u.lastRenderedState=m}return h===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function xm(r){var a=At(),o=a.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var u=o.dispatch,h=o.pending,m=a.memoizedState;if(h!==null){o.pending=null;var E=h=h.next;do m=r(m,E.action),E=E.next;while(E!==h);Rn(m,a.memoizedState)||(Mt=!0),a.memoizedState=m,a.baseQueue===null&&(a.baseState=m),o.lastRenderedState=m}return[m,u]}function __(r,a,o){var u=Ne,h=At(),m=Fe;if(m){if(o===void 0)throw Error(i(407));o=o()}else o=a();var E=!Rn((rt||h).memoizedState,o);if(E&&(h.memoizedState=o,Mt=!0),h=h.queue,Mm(w_.bind(null,u,h,r),[r]),h.getSnapshot!==a||E||Ot!==null&&Ot.memoizedState.tag&1){if(u.flags|=2048,Ao(9,{destroy:void 0},T_.bind(null,u,h,o,a),null),st===null)throw Error(i(349));m||(mi&127)!==0||E_(u,a,o)}return o}function E_(r,a,o){r.flags|=16384,r={getSnapshot:a,value:o},a=Ne.updateQueue,a===null?(a=pf(),Ne.updateQueue=a,a.stores=[r]):(o=a.stores,o===null?a.stores=[r]:o.push(r))}function T_(r,a,o,u){a.value=o,a.getSnapshot=u,S_(a)&&b_(r)}function w_(r,a,o){return o(function(){S_(a)&&b_(r)})}function S_(r){var a=r.getSnapshot;r=r.value;try{var o=a();return!Rn(r,o)}catch{return!0}}function b_(r){var a=ms(r,2);a!==null&&En(a,r,2)}function Dm(r){var a=fn();if(typeof r=="function"){var o=r;if(r=o(),Ss){jn(!0);try{o()}finally{jn(!1)}}}return a.memoizedState=a.baseState=r,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:r},a}function A_(r,a,o,u){return r.baseState=o,Nm(r,rt,typeof u=="function"?u:pi)}function CC(r,a,o,u,h){if(Ef(r))throw Error(i(485));if(r=a.action,r!==null){var m={payload:h,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){m.listeners.push(E)}};W.T!==null?o(!0):m.isTransition=!1,u(m),o=a.pending,o===null?(m.next=a.pending=m,R_(a,m)):(m.next=o.next,a.pending=o.next=m)}}function R_(r,a){var o=a.action,u=a.payload,h=r.state;if(a.isTransition){var m=W.T,E={};W.T=E;try{var b=o(h,u),V=W.S;V!==null&&V(E,b),C_(r,a,b)}catch(G){Om(r,a,G)}finally{m!==null&&E.types!==null&&(m.types=E.types),W.T=m}}else try{m=o(h,u),C_(r,a,m)}catch(G){Om(r,a,G)}}function C_(r,a,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){I_(r,a,u)},function(u){return Om(r,a,u)}):I_(r,a,o)}function I_(r,a,o){a.status="fulfilled",a.value=o,N_(a),r.state=o,a=r.pending,a!==null&&(o=a.next,o===a?r.pending=null:(o=o.next,a.next=o,R_(r,o)))}function Om(r,a,o){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do a.status="rejected",a.reason=o,N_(a),a=a.next;while(a!==u)}r.action=null}function N_(r){r=r.listeners;for(var a=0;a<r.length;a++)(0,r[a])()}function x_(r,a){return a}function D_(r,a){if(Fe){var o=st.formState;if(o!==null){e:{var u=Ne;if(Fe){if(ut){t:{for(var h=ut,m=Yn;h.nodeType!==8;){if(!m){h=null;break t}if(h=Xn(h.nextSibling),h===null){h=null;break t}}m=h.data,h=m==="F!"||m==="F"?h:null}if(h){ut=Xn(h.nextSibling),u=h.data==="F!";break e}}aa(u)}u=!1}u&&(a=o[0])}}return o=fn(),o.memoizedState=o.baseState=a,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:x_,lastRenderedState:a},o.queue=u,o=X_.bind(null,Ne,u),u.dispatch=o,u=Dm(!1),m=Um.bind(null,Ne,!1,u.queue),u=fn(),h={state:a,dispatch:null,action:r,pending:null},u.queue=h,o=CC.bind(null,Ne,h,m,o),h.dispatch=o,u.memoizedState=r,[a,o,!1]}function O_(r){var a=At();return M_(a,rt,r)}function M_(r,a,o){if(a=Nm(r,a,x_)[0],r=yf(pi)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var u=nu(a)}catch(E){throw E===Eo?of:E}else u=a;a=At();var h=a.queue,m=h.dispatch;return o!==a.memoizedState&&(Ne.flags|=2048,Ao(9,{destroy:void 0},IC.bind(null,h,o),null)),[u,m,r]}function IC(r,a){r.action=a}function V_(r){var a=At(),o=rt;if(o!==null)return M_(a,o,r);At(),a=a.memoizedState,o=At();var u=o.queue.dispatch;return o.memoizedState=r,[a,u,!1]}function Ao(r,a,o,u){return r={tag:r,create:o,deps:u,inst:a,next:null},a=Ne.updateQueue,a===null&&(a=pf(),Ne.updateQueue=a),o=a.lastEffect,o===null?a.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,a.lastEffect=r),r}function L_(){return At().memoizedState}function vf(r,a,o,u){var h=fn();Ne.flags|=r,h.memoizedState=Ao(1|a,{destroy:void 0},o,u===void 0?null:u)}function _f(r,a,o,u){var h=At();u=u===void 0?null:u;var m=h.memoizedState.inst;rt!==null&&u!==null&&Sm(u,rt.memoizedState.deps)?h.memoizedState=Ao(a,m,o,u):(Ne.flags|=r,h.memoizedState=Ao(1|a,m,o,u))}function k_(r,a){vf(8390656,8,r,a)}function Mm(r,a){_f(2048,8,r,a)}function NC(r){Ne.flags|=4;var a=Ne.updateQueue;if(a===null)a=pf(),Ne.updateQueue=a,a.events=[r];else{var o=a.events;o===null?a.events=[r]:o.push(r)}}function P_(r){var a=At().memoizedState;return NC({ref:a,nextImpl:r}),function(){if((Qe&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function U_(r,a){return _f(4,2,r,a)}function j_(r,a){return _f(4,4,r,a)}function z_(r,a){if(typeof a=="function"){r=r();var o=a(r);return function(){typeof o=="function"?o():a(null)}}if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function B_(r,a,o){o=o!=null?o.concat([r]):null,_f(4,4,z_.bind(null,a,r),o)}function Vm(){}function F_(r,a){var o=At();a=a===void 0?null:a;var u=o.memoizedState;return a!==null&&Sm(a,u[1])?u[0]:(o.memoizedState=[r,a],r)}function $_(r,a){var o=At();a=a===void 0?null:a;var u=o.memoizedState;if(a!==null&&Sm(a,u[1]))return u[0];if(u=r(),Ss){jn(!0);try{r()}finally{jn(!1)}}return o.memoizedState=[u,a],u}function Lm(r,a,o){return o===void 0||(mi&1073741824)!==0&&(Pe&261930)===0?r.memoizedState=a:(r.memoizedState=o,r=HE(),Ne.lanes|=r,ma|=r,o)}function H_(r,a,o,u){return Rn(o,a)?o:wo.current!==null?(r=Lm(r,o,u),Rn(r,a)||(Mt=!0),r):(mi&42)===0||(mi&1073741824)!==0&&(Pe&261930)===0?(Mt=!0,r.memoizedState=o):(r=HE(),Ne.lanes|=r,ma|=r,a)}function q_(r,a,o,u,h){var m=se.p;se.p=m!==0&&8>m?m:8;var E=W.T,b={};W.T=b,Um(r,!1,a,o);try{var V=h(),G=W.S;if(G!==null&&G(b,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var J=bC(V,u);ru(r,a,J,On(r))}else ru(r,a,u,On(r))}catch(ne){ru(r,a,{then:function(){},status:"rejected",reason:ne},On())}finally{se.p=m,E!==null&&b.types!==null&&(E.types=b.types),W.T=E}}function xC(){}function km(r,a,o,u){if(r.tag!==5)throw Error(i(476));var h=G_(r).queue;q_(r,h,a,ce,o===null?xC:function(){return K_(r),o(u)})}function G_(r){var a=r.memoizedState;if(a!==null)return a;a={memoizedState:ce,baseState:ce,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:ce},next:null};var o={};return a.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:o},next:null},r.memoizedState=a,r=r.alternate,r!==null&&(r.memoizedState=a),a}function K_(r){var a=G_(r);a.next===null&&(a=r.alternate.memoizedState),ru(r,a.next.queue,{},On())}function Pm(){return Jt(Eu)}function Y_(){return At().memoizedState}function Q_(){return At().memoizedState}function DC(r){for(var a=r.return;a!==null;){switch(a.tag){case 24:case 3:var o=On();r=la(o);var u=ua(a,r,o);u!==null&&(En(u,a,o),Jl(u,a,o)),a={cache:hm()},r.payload=a;return}a=a.return}}function OC(r,a,o){var u=On();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ef(r)?W_(a,o):(o=tm(r,a,o,u),o!==null&&(En(o,r,u),J_(o,a,u)))}function X_(r,a,o){var u=On();ru(r,a,o,u)}function ru(r,a,o,u){var h={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ef(r))W_(a,h);else{var m=r.alternate;if(r.lanes===0&&(m===null||m.lanes===0)&&(m=a.lastRenderedReducer,m!==null))try{var E=a.lastRenderedState,b=m(E,o);if(h.hasEagerState=!0,h.eagerState=b,Rn(b,E))return Zc(r,a,h,0),st===null&&Jc(),!1}catch{}finally{}if(o=tm(r,a,h,u),o!==null)return En(o,r,u),J_(o,a,u),!0}return!1}function Um(r,a,o,u){if(u={lane:2,revertLane:gp(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Ef(r)){if(a)throw Error(i(479))}else a=tm(r,o,u,2),a!==null&&En(a,r,2)}function Ef(r){var a=r.alternate;return r===Ne||a!==null&&a===Ne}function W_(r,a){So=df=!0;var o=r.pending;o===null?a.next=a:(a.next=o.next,o.next=a),r.pending=a}function J_(r,a,o){if((o&4194048)!==0){var u=a.lanes;u&=r.pendingLanes,o|=u,a.lanes=o,Al(r,o)}}var iu={readContext:Jt,use:gf,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t,useHostTransitionStatus:_t,useFormState:_t,useActionState:_t,useOptimistic:_t,useMemoCache:_t,useCacheRefresh:_t};iu.useEffectEvent=_t;var Z_={readContext:Jt,use:gf,useCallback:function(r,a){return fn().memoizedState=[r,a===void 0?null:a],r},useContext:Jt,useEffect:k_,useImperativeHandle:function(r,a,o){o=o!=null?o.concat([r]):null,vf(4194308,4,z_.bind(null,a,r),o)},useLayoutEffect:function(r,a){return vf(4194308,4,r,a)},useInsertionEffect:function(r,a){vf(4,2,r,a)},useMemo:function(r,a){var o=fn();a=a===void 0?null:a;var u=r();if(Ss){jn(!0);try{r()}finally{jn(!1)}}return o.memoizedState=[u,a],u},useReducer:function(r,a,o){var u=fn();if(o!==void 0){var h=o(a);if(Ss){jn(!0);try{o(a)}finally{jn(!1)}}}else h=a;return u.memoizedState=u.baseState=h,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:h},u.queue=r,r=r.dispatch=OC.bind(null,Ne,r),[u.memoizedState,r]},useRef:function(r){var a=fn();return r={current:r},a.memoizedState=r},useState:function(r){r=Dm(r);var a=r.queue,o=X_.bind(null,Ne,a);return a.dispatch=o,[r.memoizedState,o]},useDebugValue:Vm,useDeferredValue:function(r,a){var o=fn();return Lm(o,r,a)},useTransition:function(){var r=Dm(!1);return r=q_.bind(null,Ne,r.queue,!0,!1),fn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,a,o){var u=Ne,h=fn();if(Fe){if(o===void 0)throw Error(i(407));o=o()}else{if(o=a(),st===null)throw Error(i(349));(Pe&127)!==0||E_(u,a,o)}h.memoizedState=o;var m={value:o,getSnapshot:a};return h.queue=m,k_(w_.bind(null,u,m,r),[r]),u.flags|=2048,Ao(9,{destroy:void 0},T_.bind(null,u,m,o,a),null),o},useId:function(){var r=fn(),a=st.identifierPrefix;if(Fe){var o=Gr,u=qr;o=(u&~(1<<32-wt(u)-1)).toString(32)+o,a="_"+a+"R_"+o,o=mf++,0<o&&(a+="H"+o.toString(32)),a+="_"}else o=AC++,a="_"+a+"r_"+o.toString(32)+"_";return r.memoizedState=a},useHostTransitionStatus:Pm,useFormState:D_,useActionState:D_,useOptimistic:function(r){var a=fn();a.memoizedState=a.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=o,a=Um.bind(null,Ne,!0,o),o.dispatch=a,[r,a]},useMemoCache:Im,useCacheRefresh:function(){return fn().memoizedState=DC.bind(null,Ne)},useEffectEvent:function(r){var a=fn(),o={impl:r};return a.memoizedState=o,function(){if((Qe&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},jm={readContext:Jt,use:gf,useCallback:F_,useContext:Jt,useEffect:Mm,useImperativeHandle:B_,useInsertionEffect:U_,useLayoutEffect:j_,useMemo:$_,useReducer:yf,useRef:L_,useState:function(){return yf(pi)},useDebugValue:Vm,useDeferredValue:function(r,a){var o=At();return H_(o,rt.memoizedState,r,a)},useTransition:function(){var r=yf(pi)[0],a=At().memoizedState;return[typeof r=="boolean"?r:nu(r),a]},useSyncExternalStore:__,useId:Y_,useHostTransitionStatus:Pm,useFormState:O_,useActionState:O_,useOptimistic:function(r,a){var o=At();return A_(o,rt,r,a)},useMemoCache:Im,useCacheRefresh:Q_};jm.useEffectEvent=P_;var eE={readContext:Jt,use:gf,useCallback:F_,useContext:Jt,useEffect:Mm,useImperativeHandle:B_,useInsertionEffect:U_,useLayoutEffect:j_,useMemo:$_,useReducer:xm,useRef:L_,useState:function(){return xm(pi)},useDebugValue:Vm,useDeferredValue:function(r,a){var o=At();return rt===null?Lm(o,r,a):H_(o,rt.memoizedState,r,a)},useTransition:function(){var r=xm(pi)[0],a=At().memoizedState;return[typeof r=="boolean"?r:nu(r),a]},useSyncExternalStore:__,useId:Y_,useHostTransitionStatus:Pm,useFormState:V_,useActionState:V_,useOptimistic:function(r,a){var o=At();return rt!==null?A_(o,rt,r,a):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:Im,useCacheRefresh:Q_};eE.useEffectEvent=P_;function zm(r,a,o,u){a=r.memoizedState,o=o(u,a),o=o==null?a:_({},a,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var Bm={enqueueSetState:function(r,a,o){r=r._reactInternals;var u=On(),h=la(u);h.payload=a,o!=null&&(h.callback=o),a=ua(r,h,u),a!==null&&(En(a,r,u),Jl(a,r,u))},enqueueReplaceState:function(r,a,o){r=r._reactInternals;var u=On(),h=la(u);h.tag=1,h.payload=a,o!=null&&(h.callback=o),a=ua(r,h,u),a!==null&&(En(a,r,u),Jl(a,r,u))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var o=On(),u=la(o);u.tag=2,a!=null&&(u.callback=a),a=ua(r,u,o),a!==null&&(En(a,r,o),Jl(a,r,o))}};function tE(r,a,o,u,h,m,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,m,E):a.prototype&&a.prototype.isPureReactComponent?!Hl(o,u)||!Hl(h,m):!0}function nE(r,a,o,u){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(o,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(o,u),a.state!==r&&Bm.enqueueReplaceState(a,a.state,null)}function bs(r,a){var o=a;if("ref"in a){o={};for(var u in a)u!=="ref"&&(o[u]=a[u])}if(r=r.defaultProps){o===a&&(o=_({},o));for(var h in r)o[h]===void 0&&(o[h]=r[h])}return o}function rE(r){Wc(r)}function iE(r){console.error(r)}function aE(r){Wc(r)}function Tf(r,a){try{var o=r.onUncaughtError;o(a.value,{componentStack:a.stack})}catch(u){setTimeout(function(){throw u})}}function sE(r,a,o){try{var u=r.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Fm(r,a,o){return o=la(o),o.tag=3,o.payload={element:null},o.callback=function(){Tf(r,a)},o}function oE(r){return r=la(r),r.tag=3,r}function lE(r,a,o,u){var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var m=u.value;r.payload=function(){return h(m)},r.callback=function(){sE(a,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){sE(a,o,u),typeof h!="function"&&(pa===null?pa=new Set([this]):pa.add(this));var b=u.stack;this.componentDidCatch(u.value,{componentStack:b!==null?b:""})})}function MC(r,a,o,u,h){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(a=o.alternate,a!==null&&yo(a,o,h,!0),o=In.current,o!==null){switch(o.tag){case 31:case 13:return Qn===null?Mf():o.alternate===null&&Et===0&&(Et=3),o.flags&=-257,o.flags|=65536,o.lanes=h,u===lf?o.flags|=16384:(a=o.updateQueue,a===null?o.updateQueue=new Set([u]):a.add(u),dp(r,u,h)),!1;case 22:return o.flags|=65536,u===lf?o.flags|=16384:(a=o.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=a):(o=a.retryQueue,o===null?a.retryQueue=new Set([u]):o.add(u)),dp(r,u,h)),!1}throw Error(i(435,o.tag))}return dp(r,u,h),Mf(),!1}if(Fe)return a=In.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=h,u!==om&&(r=Error(i(422),{cause:u}),Kl(qn(r,o)))):(u!==om&&(a=Error(i(423),{cause:u}),Kl(qn(a,o))),r=r.current.alternate,r.flags|=65536,h&=-h,r.lanes|=h,u=qn(u,o),h=Fm(r.stateNode,u,h),vm(r,h),Et!==4&&(Et=2)),!1;var m=Error(i(520),{cause:u});if(m=qn(m,o),hu===null?hu=[m]:hu.push(m),Et!==4&&(Et=2),a===null)return!0;u=qn(u,o),o=a;do{switch(o.tag){case 3:return o.flags|=65536,r=h&-h,o.lanes|=r,r=Fm(o.stateNode,u,r),vm(o,r),!1;case 1:if(a=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(pa===null||!pa.has(m))))return o.flags|=65536,h&=-h,o.lanes|=h,h=oE(h),lE(h,r,o,u),vm(o,h),!1}o=o.return}while(o!==null);return!1}var $m=Error(i(461)),Mt=!1;function Zt(r,a,o,u){a.child=r===null?h_(a,null,o,u):ws(a,r.child,o,u)}function uE(r,a,o,u,h){o=o.render;var m=a.ref;if("ref"in u){var E={};for(var b in u)b!=="ref"&&(E[b]=u[b])}else E=u;return vs(a),u=bm(r,a,o,E,m,h),b=Am(),r!==null&&!Mt?(Rm(r,a,h),gi(r,a,h)):(Fe&&b&&am(a),a.flags|=1,Zt(r,a,u,h),a.child)}function cE(r,a,o,u,h){if(r===null){var m=o.type;return typeof m=="function"&&!nm(m)&&m.defaultProps===void 0&&o.compare===null?(a.tag=15,a.type=m,fE(r,a,m,u,h)):(r=tf(o.type,null,u,a,a.mode,h),r.ref=a.ref,r.return=a,a.child=r)}if(m=r.child,!Wm(r,h)){var E=m.memoizedProps;if(o=o.compare,o=o!==null?o:Hl,o(E,u)&&r.ref===a.ref)return gi(r,a,h)}return a.flags|=1,r=ci(m,u),r.ref=a.ref,r.return=a,a.child=r}function fE(r,a,o,u,h){if(r!==null){var m=r.memoizedProps;if(Hl(m,u)&&r.ref===a.ref)if(Mt=!1,a.pendingProps=u=m,Wm(r,h))(r.flags&131072)!==0&&(Mt=!0);else return a.lanes=r.lanes,gi(r,a,h)}return Hm(r,a,o,u,h)}function hE(r,a,o,u){var h=u.children,m=r!==null?r.memoizedState:null;if(r===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((a.flags&128)!==0){if(m=m!==null?m.baseLanes|o:o,r!==null){for(u=a.child=r.child,h=0;u!==null;)h=h|u.lanes|u.childLanes,u=u.sibling;u=h&~m}else u=0,a.child=null;return dE(r,a,m,o,u)}if((o&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},r!==null&&sf(a,m!==null?m.cachePool:null),m!==null?p_(a,m):Em(),g_(a);else return u=a.lanes=536870912,dE(r,a,m!==null?m.baseLanes|o:o,o,u)}else m!==null?(sf(a,m.cachePool),p_(a,m),fa(),a.memoizedState=null):(r!==null&&sf(a,null),Em(),fa());return Zt(r,a,h,o),a.child}function au(r,a){return r!==null&&r.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function dE(r,a,o,u,h){var m=mm();return m=m===null?null:{parent:Dt._currentValue,pool:m},a.memoizedState={baseLanes:o,cachePool:m},r!==null&&sf(a,null),Em(),g_(a),r!==null&&yo(r,a,u,!0),a.childLanes=h,null}function wf(r,a){return a=bf({mode:a.mode,children:a.children},r.mode),a.ref=r.ref,r.child=a,a.return=r,a}function mE(r,a,o){return ws(a,r.child,null,o),r=wf(a,a.pendingProps),r.flags|=2,Nn(a),a.memoizedState=null,r}function VC(r,a,o){var u=a.pendingProps,h=(a.flags&128)!==0;if(a.flags&=-129,r===null){if(Fe){if(u.mode==="hidden")return r=wf(a,u),a.lanes=536870912,au(null,r);if(wm(a),(r=ut)?(r=RT(r,Yn),r=r!==null&&r.data==="&"?r:null,r!==null&&(a.memoizedState={dehydrated:r,treeContext:ra!==null?{id:qr,overflow:Gr}:null,retryLane:536870912,hydrationErrors:null},o=Wv(r),o.return=a,a.child=o,Wt=a,ut=null)):r=null,r===null)throw aa(a);return a.lanes=536870912,null}return wf(a,u)}var m=r.memoizedState;if(m!==null){var E=m.dehydrated;if(wm(a),h)if(a.flags&256)a.flags&=-257,a=mE(r,a,o);else if(a.memoizedState!==null)a.child=r.child,a.flags|=128,a=null;else throw Error(i(558));else if(Mt||yo(r,a,o,!1),h=(o&r.childLanes)!==0,Mt||h){if(u=st,u!==null&&(E=Rl(u,o),E!==0&&E!==m.retryLane))throw m.retryLane=E,ms(r,E),En(u,r,E),$m;Mf(),a=mE(r,a,o)}else r=m.treeContext,ut=Xn(E.nextSibling),Wt=a,Fe=!0,ia=null,Yn=!1,r!==null&&e_(a,r),a=wf(a,u),a.flags|=4096;return a}return r=ci(r.child,{mode:u.mode,children:u.children}),r.ref=a.ref,a.child=r,r.return=a,r}function Sf(r,a){var o=a.ref;if(o===null)r!==null&&r.ref!==null&&(a.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(a.flags|=4194816)}}function Hm(r,a,o,u,h){return vs(a),o=bm(r,a,o,u,void 0,h),u=Am(),r!==null&&!Mt?(Rm(r,a,h),gi(r,a,h)):(Fe&&u&&am(a),a.flags|=1,Zt(r,a,o,h),a.child)}function pE(r,a,o,u,h,m){return vs(a),a.updateQueue=null,o=v_(a,u,o,h),y_(r),u=Am(),r!==null&&!Mt?(Rm(r,a,m),gi(r,a,m)):(Fe&&u&&am(a),a.flags|=1,Zt(r,a,o,m),a.child)}function gE(r,a,o,u,h){if(vs(a),a.stateNode===null){var m=ho,E=o.contextType;typeof E=="object"&&E!==null&&(m=Jt(E)),m=new o(u,m),a.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Bm,a.stateNode=m,m._reactInternals=a,m=a.stateNode,m.props=u,m.state=a.memoizedState,m.refs={},gm(a),E=o.contextType,m.context=typeof E=="object"&&E!==null?Jt(E):ho,m.state=a.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(zm(a,o,E,u),m.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(E=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),E!==m.state&&Bm.enqueueReplaceState(m,m.state,null),eu(a,u,m,h),Zl(),m.state=a.memoizedState),typeof m.componentDidMount=="function"&&(a.flags|=4194308),u=!0}else if(r===null){m=a.stateNode;var b=a.memoizedProps,V=bs(o,b);m.props=V;var G=m.context,J=o.contextType;E=ho,typeof J=="object"&&J!==null&&(E=Jt(J));var ne=o.getDerivedStateFromProps;J=typeof ne=="function"||typeof m.getSnapshotBeforeUpdate=="function",b=a.pendingProps!==b,J||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b||G!==E)&&nE(a,m,u,E),oa=!1;var K=a.memoizedState;m.state=K,eu(a,u,m,h),Zl(),G=a.memoizedState,b||K!==G||oa?(typeof ne=="function"&&(zm(a,o,ne,u),G=a.memoizedState),(V=oa||tE(a,o,V,u,K,G,E))?(J||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(a.flags|=4194308)):(typeof m.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=G),m.props=u,m.state=G,m.context=E,u=V):(typeof m.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{m=a.stateNode,ym(r,a),E=a.memoizedProps,J=bs(o,E),m.props=J,ne=a.pendingProps,K=m.context,G=o.contextType,V=ho,typeof G=="object"&&G!==null&&(V=Jt(G)),b=o.getDerivedStateFromProps,(G=typeof b=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E!==ne||K!==V)&&nE(a,m,u,V),oa=!1,K=a.memoizedState,m.state=K,eu(a,u,m,h),Zl();var X=a.memoizedState;E!==ne||K!==X||oa||r!==null&&r.dependencies!==null&&rf(r.dependencies)?(typeof b=="function"&&(zm(a,o,b,u),X=a.memoizedState),(J=oa||tE(a,o,J,u,K,X,V)||r!==null&&r.dependencies!==null&&rf(r.dependencies))?(G||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,X,V),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,X,V)),typeof m.componentDidUpdate=="function"&&(a.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof m.componentDidUpdate!="function"||E===r.memoizedProps&&K===r.memoizedState||(a.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&K===r.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=X),m.props=u,m.state=X,m.context=V,u=J):(typeof m.componentDidUpdate!="function"||E===r.memoizedProps&&K===r.memoizedState||(a.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&K===r.memoizedState||(a.flags|=1024),u=!1)}return m=u,Sf(r,a),u=(a.flags&128)!==0,m||u?(m=a.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:m.render(),a.flags|=1,r!==null&&u?(a.child=ws(a,r.child,null,h),a.child=ws(a,null,o,h)):Zt(r,a,o,h),a.memoizedState=m.state,r=a.child):r=gi(r,a,h),r}function yE(r,a,o,u){return gs(),a.flags|=256,Zt(r,a,o,u),a.child}var qm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gm(r){return{baseLanes:r,cachePool:s_()}}function Km(r,a,o){return r=r!==null?r.childLanes&~o:0,a&&(r|=Dn),r}function vE(r,a,o){var u=a.pendingProps,h=!1,m=(a.flags&128)!==0,E;if((E=m)||(E=r!==null&&r.memoizedState===null?!1:(bt.current&2)!==0),E&&(h=!0,a.flags&=-129),E=(a.flags&32)!==0,a.flags&=-33,r===null){if(Fe){if(h?ca(a):fa(),(r=ut)?(r=RT(r,Yn),r=r!==null&&r.data!=="&"?r:null,r!==null&&(a.memoizedState={dehydrated:r,treeContext:ra!==null?{id:qr,overflow:Gr}:null,retryLane:536870912,hydrationErrors:null},o=Wv(r),o.return=a,a.child=o,Wt=a,ut=null)):r=null,r===null)throw aa(a);return Np(r)?a.lanes=32:a.lanes=536870912,null}var b=u.children;return u=u.fallback,h?(fa(),h=a.mode,b=bf({mode:"hidden",children:b},h),u=ps(u,h,o,null),b.return=a,u.return=a,b.sibling=u,a.child=b,u=a.child,u.memoizedState=Gm(o),u.childLanes=Km(r,E,o),a.memoizedState=qm,au(null,u)):(ca(a),Ym(a,b))}var V=r.memoizedState;if(V!==null&&(b=V.dehydrated,b!==null)){if(m)a.flags&256?(ca(a),a.flags&=-257,a=Qm(r,a,o)):a.memoizedState!==null?(fa(),a.child=r.child,a.flags|=128,a=null):(fa(),b=u.fallback,h=a.mode,u=bf({mode:"visible",children:u.children},h),b=ps(b,h,o,null),b.flags|=2,u.return=a,b.return=a,u.sibling=b,a.child=u,ws(a,r.child,null,o),u=a.child,u.memoizedState=Gm(o),u.childLanes=Km(r,E,o),a.memoizedState=qm,a=au(null,u));else if(ca(a),Np(b)){if(E=b.nextSibling&&b.nextSibling.dataset,E)var G=E.dgst;E=G,u=Error(i(419)),u.stack="",u.digest=E,Kl({value:u,source:null,stack:null}),a=Qm(r,a,o)}else if(Mt||yo(r,a,o,!1),E=(o&r.childLanes)!==0,Mt||E){if(E=st,E!==null&&(u=Rl(E,o),u!==0&&u!==V.retryLane))throw V.retryLane=u,ms(r,u),En(E,r,u),$m;Ip(b)||Mf(),a=Qm(r,a,o)}else Ip(b)?(a.flags|=192,a.child=r.child,a=null):(r=V.treeContext,ut=Xn(b.nextSibling),Wt=a,Fe=!0,ia=null,Yn=!1,r!==null&&e_(a,r),a=Ym(a,u.children),a.flags|=4096);return a}return h?(fa(),b=u.fallback,h=a.mode,V=r.child,G=V.sibling,u=ci(V,{mode:"hidden",children:u.children}),u.subtreeFlags=V.subtreeFlags&65011712,G!==null?b=ci(G,b):(b=ps(b,h,o,null),b.flags|=2),b.return=a,u.return=a,u.sibling=b,a.child=u,au(null,u),u=a.child,b=r.child.memoizedState,b===null?b=Gm(o):(h=b.cachePool,h!==null?(V=Dt._currentValue,h=h.parent!==V?{parent:V,pool:V}:h):h=s_(),b={baseLanes:b.baseLanes|o,cachePool:h}),u.memoizedState=b,u.childLanes=Km(r,E,o),a.memoizedState=qm,au(r.child,u)):(ca(a),o=r.child,r=o.sibling,o=ci(o,{mode:"visible",children:u.children}),o.return=a,o.sibling=null,r!==null&&(E=a.deletions,E===null?(a.deletions=[r],a.flags|=16):E.push(r)),a.child=o,a.memoizedState=null,o)}function Ym(r,a){return a=bf({mode:"visible",children:a},r.mode),a.return=r,r.child=a}function bf(r,a){return r=Cn(22,r,null,a),r.lanes=0,r}function Qm(r,a,o){return ws(a,r.child,null,o),r=Ym(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function _E(r,a,o){r.lanes|=a;var u=r.alternate;u!==null&&(u.lanes|=a),cm(r.return,a,o)}function Xm(r,a,o,u,h,m){var E=r.memoizedState;E===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h,treeForkCount:m}:(E.isBackwards=a,E.rendering=null,E.renderingStartTime=0,E.last=u,E.tail=o,E.tailMode=h,E.treeForkCount=m)}function EE(r,a,o){var u=a.pendingProps,h=u.revealOrder,m=u.tail;u=u.children;var E=bt.current,b=(E&2)!==0;if(b?(E=E&1|2,a.flags|=128):E&=1,ie(bt,E),Zt(r,a,u,o),u=Fe?Gl:0,!b&&r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&_E(r,o,a);else if(r.tag===19)_E(r,o,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}switch(h){case"forwards":for(o=a.child,h=null;o!==null;)r=o.alternate,r!==null&&hf(r)===null&&(h=o),o=o.sibling;o=h,o===null?(h=a.child,a.child=null):(h=o.sibling,o.sibling=null),Xm(a,!1,h,o,m,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,h=a.child,a.child=null;h!==null;){if(r=h.alternate,r!==null&&hf(r)===null){a.child=h;break}r=h.sibling,h.sibling=o,o=h,h=r}Xm(a,!0,o,null,m,u);break;case"together":Xm(a,!1,null,null,void 0,u);break;default:a.memoizedState=null}return a.child}function gi(r,a,o){if(r!==null&&(a.dependencies=r.dependencies),ma|=a.lanes,(o&a.childLanes)===0)if(r!==null){if(yo(r,a,o,!1),(o&a.childLanes)===0)return null}else return null;if(r!==null&&a.child!==r.child)throw Error(i(153));if(a.child!==null){for(r=a.child,o=ci(r,r.pendingProps),a.child=o,o.return=a;r.sibling!==null;)r=r.sibling,o=o.sibling=ci(r,r.pendingProps),o.return=a;o.sibling=null}return a.child}function Wm(r,a){return(r.lanes&a)!==0?!0:(r=r.dependencies,!!(r!==null&&rf(r)))}function LC(r,a,o){switch(a.tag){case 3:pt(a,a.stateNode.containerInfo),sa(a,Dt,r.memoizedState.cache),gs();break;case 27:case 5:dn(a);break;case 4:pt(a,a.stateNode.containerInfo);break;case 10:sa(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,wm(a),null;break;case 13:var u=a.memoizedState;if(u!==null)return u.dehydrated!==null?(ca(a),a.flags|=128,null):(o&a.child.childLanes)!==0?vE(r,a,o):(ca(a),r=gi(r,a,o),r!==null?r.sibling:null);ca(a);break;case 19:var h=(r.flags&128)!==0;if(u=(o&a.childLanes)!==0,u||(yo(r,a,o,!1),u=(o&a.childLanes)!==0),h){if(u)return EE(r,a,o);a.flags|=128}if(h=a.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ie(bt,bt.current),u)break;return null;case 22:return a.lanes=0,hE(r,a,o,a.pendingProps);case 24:sa(a,Dt,r.memoizedState.cache)}return gi(r,a,o)}function TE(r,a,o){if(r!==null)if(r.memoizedProps!==a.pendingProps)Mt=!0;else{if(!Wm(r,o)&&(a.flags&128)===0)return Mt=!1,LC(r,a,o);Mt=(r.flags&131072)!==0}else Mt=!1,Fe&&(a.flags&1048576)!==0&&Zv(a,Gl,a.index);switch(a.lanes=0,a.tag){case 16:e:{var u=a.pendingProps;if(r=Es(a.elementType),a.type=r,typeof r=="function")nm(r)?(u=bs(r,u),a.tag=1,a=gE(null,a,r,u,o)):(a.tag=0,a=Hm(null,a,r,u,o));else{if(r!=null){var h=r.$$typeof;if(h===oe){a.tag=11,a=uE(null,a,r,u,o);break e}else if(h===x){a.tag=14,a=cE(null,a,r,u,o);break e}}throw a=qe(r)||r,Error(i(306,a,""))}}return a;case 0:return Hm(r,a,a.type,a.pendingProps,o);case 1:return u=a.type,h=bs(u,a.pendingProps),gE(r,a,u,h,o);case 3:e:{if(pt(a,a.stateNode.containerInfo),r===null)throw Error(i(387));u=a.pendingProps;var m=a.memoizedState;h=m.element,ym(r,a),eu(a,u,null,o);var E=a.memoizedState;if(u=E.cache,sa(a,Dt,u),u!==m.cache&&fm(a,[Dt],o,!0),Zl(),u=E.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:E.cache},a.updateQueue.baseState=m,a.memoizedState=m,a.flags&256){a=yE(r,a,u,o);break e}else if(u!==h){h=qn(Error(i(424)),a),Kl(h),a=yE(r,a,u,o);break e}else{switch(r=a.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(ut=Xn(r.firstChild),Wt=a,Fe=!0,ia=null,Yn=!0,o=h_(a,null,u,o),a.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(gs(),u===h){a=gi(r,a,o);break e}Zt(r,a,u,o)}a=a.child}return a;case 26:return Sf(r,a),r===null?(o=OT(a.type,null,a.pendingProps,null))?a.memoizedState=o:Fe||(o=a.type,r=a.pendingProps,u=zf(be.current).createElement(o),u[It]=a,u[Ht]=r,en(u,o,r),Nt(u),a.stateNode=u):a.memoizedState=OT(a.type,r.memoizedProps,a.pendingProps,r.memoizedState),null;case 27:return dn(a),r===null&&Fe&&(u=a.stateNode=NT(a.type,a.pendingProps,be.current),Wt=a,Yn=!0,h=ut,_a(a.type)?(xp=h,ut=Xn(u.firstChild)):ut=h),Zt(r,a,a.pendingProps.children,o),Sf(r,a),r===null&&(a.flags|=4194304),a.child;case 5:return r===null&&Fe&&((h=u=ut)&&(u=fI(u,a.type,a.pendingProps,Yn),u!==null?(a.stateNode=u,Wt=a,ut=Xn(u.firstChild),Yn=!1,h=!0):h=!1),h||aa(a)),dn(a),h=a.type,m=a.pendingProps,E=r!==null?r.memoizedProps:null,u=m.children,Ap(h,m)?u=null:E!==null&&Ap(h,E)&&(a.flags|=32),a.memoizedState!==null&&(h=bm(r,a,RC,null,null,o),Eu._currentValue=h),Sf(r,a),Zt(r,a,u,o),a.child;case 6:return r===null&&Fe&&((r=o=ut)&&(o=hI(o,a.pendingProps,Yn),o!==null?(a.stateNode=o,Wt=a,ut=null,r=!0):r=!1),r||aa(a)),null;case 13:return vE(r,a,o);case 4:return pt(a,a.stateNode.containerInfo),u=a.pendingProps,r===null?a.child=ws(a,null,u,o):Zt(r,a,u,o),a.child;case 11:return uE(r,a,a.type,a.pendingProps,o);case 7:return Zt(r,a,a.pendingProps,o),a.child;case 8:return Zt(r,a,a.pendingProps.children,o),a.child;case 12:return Zt(r,a,a.pendingProps.children,o),a.child;case 10:return u=a.pendingProps,sa(a,a.type,u.value),Zt(r,a,u.children,o),a.child;case 9:return h=a.type._context,u=a.pendingProps.children,vs(a),h=Jt(h),u=u(h),a.flags|=1,Zt(r,a,u,o),a.child;case 14:return cE(r,a,a.type,a.pendingProps,o);case 15:return fE(r,a,a.type,a.pendingProps,o);case 19:return EE(r,a,o);case 31:return VC(r,a,o);case 22:return hE(r,a,o,a.pendingProps);case 24:return vs(a),u=Jt(Dt),r===null?(h=mm(),h===null&&(h=st,m=hm(),h.pooledCache=m,m.refCount++,m!==null&&(h.pooledCacheLanes|=o),h=m),a.memoizedState={parent:u,cache:h},gm(a),sa(a,Dt,h)):((r.lanes&o)!==0&&(ym(r,a),eu(a,null,null,o),Zl()),h=r.memoizedState,m=a.memoizedState,h.parent!==u?(h={parent:u,cache:u},a.memoizedState=h,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=h),sa(a,Dt,u)):(u=m.cache,sa(a,Dt,u),u!==h.cache&&fm(a,[Dt],o,!0))),Zt(r,a,a.pendingProps.children,o),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function yi(r){r.flags|=4}function Jm(r,a,o,u,h){if((a=(r.mode&32)!==0)&&(a=!1),a){if(r.flags|=16777216,(h&335544128)===h)if(r.stateNode.complete)r.flags|=8192;else if(YE())r.flags|=8192;else throw Ts=lf,pm}else r.flags&=-16777217}function wE(r,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!PT(a))if(YE())r.flags|=8192;else throw Ts=lf,pm}function Af(r,a){a!==null&&(r.flags|=4),r.flags&16384&&(a=r.tag!==22?xc():536870912,r.lanes|=a,No|=a)}function su(r,a){if(!Fe)switch(r.tailMode){case"hidden":a=r.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function ct(r){var a=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(a)for(var h=r.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&65011712,u|=h.flags&65011712,h.return=r,h=h.sibling;else for(h=r.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=r,h=h.sibling;return r.subtreeFlags|=u,r.childLanes=o,a}function kC(r,a,o){var u=a.pendingProps;switch(sm(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(a),null;case 1:return ct(a),null;case 3:return o=a.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),a.memoizedState.cache!==u&&(a.flags|=2048),di(Dt),Xe(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(go(a)?yi(a):r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,lm())),ct(a),null;case 26:var h=a.type,m=a.memoizedState;return r===null?(yi(a),m!==null?(ct(a),wE(a,m)):(ct(a),Jm(a,h,null,u,o))):m?m!==r.memoizedState?(yi(a),ct(a),wE(a,m)):(ct(a),a.flags&=-16777217):(r=r.memoizedProps,r!==u&&yi(a),ct(a),Jm(a,h,r,u,o)),null;case 27:if(rr(a),o=be.current,h=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==u&&yi(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return ct(a),null}r=ae.current,go(a)?t_(a):(r=NT(h,u,o),a.stateNode=r,yi(a))}return ct(a),null;case 5:if(rr(a),h=a.type,r!==null&&a.stateNode!=null)r.memoizedProps!==u&&yi(a);else{if(!u){if(a.stateNode===null)throw Error(i(166));return ct(a),null}if(m=ae.current,go(a))t_(a);else{var E=zf(be.current);switch(m){case 1:m=E.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:m=E.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":m=E.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":m=E.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":m=E.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof u.is=="string"?E.createElement("select",{is:u.is}):E.createElement("select"),u.multiple?m.multiple=!0:u.size&&(m.size=u.size);break;default:m=typeof u.is=="string"?E.createElement(h,{is:u.is}):E.createElement(h)}}m[It]=a,m[Ht]=u;e:for(E=a.child;E!==null;){if(E.tag===5||E.tag===6)m.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===a)break e;for(;E.sibling===null;){if(E.return===null||E.return===a)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}a.stateNode=m;e:switch(en(m,h,u),h){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&yi(a)}}return ct(a),Jm(a,a.type,r===null?null:r.memoizedProps,a.pendingProps,o),null;case 6:if(r&&a.stateNode!=null)r.memoizedProps!==u&&yi(a);else{if(typeof u!="string"&&a.stateNode===null)throw Error(i(166));if(r=be.current,go(a)){if(r=a.stateNode,o=a.memoizedProps,u=null,h=Wt,h!==null)switch(h.tag){case 27:case 5:u=h.memoizedProps}r[It]=a,r=!!(r.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||vT(r.nodeValue,o)),r||aa(a,!0)}else r=zf(r).createTextNode(u),r[It]=a,a.stateNode=r}return ct(a),null;case 31:if(o=a.memoizedState,r===null||r.memoizedState!==null){if(u=go(a),o!==null){if(r===null){if(!u)throw Error(i(318));if(r=a.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(557));r[It]=a}else gs(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ct(a),r=!1}else o=lm(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=o),r=!0;if(!r)return a.flags&256?(Nn(a),a):(Nn(a),null);if((a.flags&128)!==0)throw Error(i(558))}return ct(a),null;case 13:if(u=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(h=go(a),u!==null&&u.dehydrated!==null){if(r===null){if(!h)throw Error(i(318));if(h=a.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(i(317));h[It]=a}else gs(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;ct(a),h=!1}else h=lm(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=h),h=!0;if(!h)return a.flags&256?(Nn(a),a):(Nn(a),null)}return Nn(a),(a.flags&128)!==0?(a.lanes=o,a):(o=u!==null,r=r!==null&&r.memoizedState!==null,o&&(u=a.child,h=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(h=u.alternate.memoizedState.cachePool.pool),m=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==h&&(u.flags|=2048)),o!==r&&o&&(a.child.flags|=8192),Af(a,a.updateQueue),ct(a),null);case 4:return Xe(),r===null&&Ep(a.stateNode.containerInfo),ct(a),null;case 10:return di(a.type),ct(a),null;case 19:if(Z(bt),u=a.memoizedState,u===null)return ct(a),null;if(h=(a.flags&128)!==0,m=u.rendering,m===null)if(h)su(u,!1);else{if(Et!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(m=hf(r),m!==null){for(a.flags|=128,su(u,!1),r=m.updateQueue,a.updateQueue=r,Af(a,r),a.subtreeFlags=0,r=o,o=a.child;o!==null;)Xv(o,r),o=o.sibling;return ie(bt,bt.current&1|2),Fe&&fi(a,u.treeForkCount),a.child}r=r.sibling}u.tail!==null&&$t()>xf&&(a.flags|=128,h=!0,su(u,!1),a.lanes=4194304)}else{if(!h)if(r=hf(m),r!==null){if(a.flags|=128,h=!0,r=r.updateQueue,a.updateQueue=r,Af(a,r),su(u,!0),u.tail===null&&u.tailMode==="hidden"&&!m.alternate&&!Fe)return ct(a),null}else 2*$t()-u.renderingStartTime>xf&&o!==536870912&&(a.flags|=128,h=!0,su(u,!1),a.lanes=4194304);u.isBackwards?(m.sibling=a.child,a.child=m):(r=u.last,r!==null?r.sibling=m:a.child=m,u.last=m)}return u.tail!==null?(r=u.tail,u.rendering=r,u.tail=r.sibling,u.renderingStartTime=$t(),r.sibling=null,o=bt.current,ie(bt,h?o&1|2:o&1),Fe&&fi(a,u.treeForkCount),r):(ct(a),null);case 22:case 23:return Nn(a),Tm(),u=a.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(a.flags|=8192):u&&(a.flags|=8192),u?(o&536870912)!==0&&(a.flags&128)===0&&(ct(a),a.subtreeFlags&6&&(a.flags|=8192)):ct(a),o=a.updateQueue,o!==null&&Af(a,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),u=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(u=a.memoizedState.cachePool.pool),u!==o&&(a.flags|=2048),r!==null&&Z(_s),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),di(Dt),ct(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function PC(r,a){switch(sm(a),a.tag){case 1:return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return di(Dt),Xe(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 26:case 27:case 5:return rr(a),null;case 31:if(a.memoizedState!==null){if(Nn(a),a.alternate===null)throw Error(i(340));gs()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 13:if(Nn(a),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(i(340));gs()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return Z(bt),null;case 4:return Xe(),null;case 10:return di(a.type),null;case 22:case 23:return Nn(a),Tm(),r!==null&&Z(_s),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 24:return di(Dt),null;case 25:return null;default:return null}}function SE(r,a){switch(sm(a),a.tag){case 3:di(Dt),Xe();break;case 26:case 27:case 5:rr(a);break;case 4:Xe();break;case 31:a.memoizedState!==null&&Nn(a);break;case 13:Nn(a);break;case 19:Z(bt);break;case 10:di(a.type);break;case 22:case 23:Nn(a),Tm(),r!==null&&Z(_s);break;case 24:di(Dt)}}function ou(r,a){try{var o=a.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var h=u.next;o=h;do{if((o.tag&r)===r){u=void 0;var m=o.create,E=o.inst;u=m(),E.destroy=u}o=o.next}while(o!==h)}}catch(b){tt(a,a.return,b)}}function ha(r,a,o){try{var u=a.updateQueue,h=u!==null?u.lastEffect:null;if(h!==null){var m=h.next;u=m;do{if((u.tag&r)===r){var E=u.inst,b=E.destroy;if(b!==void 0){E.destroy=void 0,h=a;var V=o,G=b;try{G()}catch(J){tt(h,V,J)}}}u=u.next}while(u!==m)}}catch(J){tt(a,a.return,J)}}function bE(r){var a=r.updateQueue;if(a!==null){var o=r.stateNode;try{m_(a,o)}catch(u){tt(r,r.return,u)}}}function AE(r,a,o){o.props=bs(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(u){tt(r,a,u)}}function lu(r,a){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof o=="function"?r.refCleanup=o(u):o.current=u}}catch(h){tt(r,a,h)}}function Kr(r,a){var o=r.ref,u=r.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(h){tt(r,a,h)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(h){tt(r,a,h)}else o.current=null}function RE(r){var a=r.type,o=r.memoizedProps,u=r.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(h){tt(r,r.return,h)}}function Zm(r,a,o){try{var u=r.stateNode;aI(u,r.type,o,a),u[Ht]=a}catch(h){tt(r,r.return,h)}}function CE(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&_a(r.type)||r.tag===4}function ep(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||CE(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&_a(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function tp(r,a,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,a?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,a):(a=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,a.appendChild(r),o=o._reactRootContainer,o!=null||a.onclick!==null||(a.onclick=cr));else if(u!==4&&(u===27&&_a(r.type)&&(o=r.stateNode,a=null),r=r.child,r!==null))for(tp(r,a,o),r=r.sibling;r!==null;)tp(r,a,o),r=r.sibling}function Rf(r,a,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,a?o.insertBefore(r,a):o.appendChild(r);else if(u!==4&&(u===27&&_a(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(Rf(r,a,o),r=r.sibling;r!==null;)Rf(r,a,o),r=r.sibling}function IE(r){var a=r.stateNode,o=r.memoizedProps;try{for(var u=r.type,h=a.attributes;h.length;)a.removeAttributeNode(h[0]);en(a,u,o),a[It]=r,a[Ht]=o}catch(m){tt(r,r.return,m)}}var vi=!1,Vt=!1,np=!1,NE=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function UC(r,a){if(r=r.containerInfo,Sp=Kf,r=Bv(r),Qd(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var E=0,b=-1,V=-1,G=0,J=0,ne=r,K=null;t:for(;;){for(var X;ne!==o||h!==0&&ne.nodeType!==3||(b=E+h),ne!==m||u!==0&&ne.nodeType!==3||(V=E+u),ne.nodeType===3&&(E+=ne.nodeValue.length),(X=ne.firstChild)!==null;)K=ne,ne=X;for(;;){if(ne===r)break t;if(K===o&&++G===h&&(b=E),K===m&&++J===u&&(V=E),(X=ne.nextSibling)!==null)break;ne=K,K=ne.parentNode}ne=X}o=b===-1||V===-1?null:{start:b,end:V}}else o=null}o=o||{start:0,end:0}}else o=null;for(bp={focusedElem:r,selectionRange:o},Kf=!1,Gt=a;Gt!==null;)if(a=Gt,r=a.child,(a.subtreeFlags&1028)!==0&&r!==null)r.return=a,Gt=r;else for(;Gt!==null;){switch(a=Gt,m=a.alternate,r=a.flags,a.tag){case 0:if((r&4)!==0&&(r=a.updateQueue,r=r!==null?r.events:null,r!==null))for(o=0;o<r.length;o++)h=r[o],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((r&1024)!==0&&m!==null){r=void 0,o=a,h=m.memoizedProps,m=m.memoizedState,u=o.stateNode;try{var me=bs(o.type,h);r=u.getSnapshotBeforeUpdate(me,m),u.__reactInternalSnapshotBeforeUpdate=r}catch(Ee){tt(o,o.return,Ee)}}break;case 3:if((r&1024)!==0){if(r=a.stateNode.containerInfo,o=r.nodeType,o===9)Cp(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Cp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=a.sibling,r!==null){r.return=a.return,Gt=r;break}Gt=a.return}}function xE(r,a,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Ei(r,o),u&4&&ou(5,o);break;case 1:if(Ei(r,o),u&4)if(r=o.stateNode,a===null)try{r.componentDidMount()}catch(E){tt(o,o.return,E)}else{var h=bs(o.type,a.memoizedProps);a=a.memoizedState;try{r.componentDidUpdate(h,a,r.__reactInternalSnapshotBeforeUpdate)}catch(E){tt(o,o.return,E)}}u&64&&bE(o),u&512&&lu(o,o.return);break;case 3:if(Ei(r,o),u&64&&(r=o.updateQueue,r!==null)){if(a=null,o.child!==null)switch(o.child.tag){case 27:case 5:a=o.child.stateNode;break;case 1:a=o.child.stateNode}try{m_(r,a)}catch(E){tt(o,o.return,E)}}break;case 27:a===null&&u&4&&IE(o);case 26:case 5:Ei(r,o),a===null&&u&4&&RE(o),u&512&&lu(o,o.return);break;case 12:Ei(r,o);break;case 31:Ei(r,o),u&4&&ME(r,o);break;case 13:Ei(r,o),u&4&&VE(r,o),u&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=KC.bind(null,o),dI(r,o))));break;case 22:if(u=o.memoizedState!==null||vi,!u){a=a!==null&&a.memoizedState!==null||Vt,h=vi;var m=Vt;vi=u,(Vt=a)&&!m?Ti(r,o,(o.subtreeFlags&8772)!==0):Ei(r,o),vi=h,Vt=m}break;case 30:break;default:Ei(r,o)}}function DE(r){var a=r.alternate;a!==null&&(r.alternate=null,DE(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&Js(a)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var dt=null,gn=!1;function _i(r,a,o){for(o=o.child;o!==null;)OE(r,a,o),o=o.sibling}function OE(r,a,o){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(sr,o)}catch{}switch(o.tag){case 26:Vt||Kr(o,a),_i(r,a,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Vt||Kr(o,a);var u=dt,h=gn;_a(o.type)&&(dt=o.stateNode,gn=!1),_i(r,a,o),yu(o.stateNode),dt=u,gn=h;break;case 5:Vt||Kr(o,a);case 6:if(u=dt,h=gn,dt=null,_i(r,a,o),dt=u,gn=h,dt!==null)if(gn)try{(dt.nodeType===9?dt.body:dt.nodeName==="HTML"?dt.ownerDocument.body:dt).removeChild(o.stateNode)}catch(m){tt(o,a,m)}else try{dt.removeChild(o.stateNode)}catch(m){tt(o,a,m)}break;case 18:dt!==null&&(gn?(r=dt,bT(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),Po(r)):bT(dt,o.stateNode));break;case 4:u=dt,h=gn,dt=o.stateNode.containerInfo,gn=!0,_i(r,a,o),dt=u,gn=h;break;case 0:case 11:case 14:case 15:ha(2,o,a),Vt||ha(4,o,a),_i(r,a,o);break;case 1:Vt||(Kr(o,a),u=o.stateNode,typeof u.componentWillUnmount=="function"&&AE(o,a,u)),_i(r,a,o);break;case 21:_i(r,a,o);break;case 22:Vt=(u=Vt)||o.memoizedState!==null,_i(r,a,o),Vt=u;break;default:_i(r,a,o)}}function ME(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null))){r=r.dehydrated;try{Po(r)}catch(o){tt(a,a.return,o)}}}function VE(r,a){if(a.memoizedState===null&&(r=a.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Po(r)}catch(o){tt(a,a.return,o)}}function jC(r){switch(r.tag){case 31:case 13:case 19:var a=r.stateNode;return a===null&&(a=r.stateNode=new NE),a;case 22:return r=r.stateNode,a=r._retryCache,a===null&&(a=r._retryCache=new NE),a;default:throw Error(i(435,r.tag))}}function Cf(r,a){var o=jC(r);a.forEach(function(u){if(!o.has(u)){o.add(u);var h=YC.bind(null,r,u);u.then(h,h)}})}function yn(r,a){var o=a.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u],m=r,E=a,b=E;e:for(;b!==null;){switch(b.tag){case 27:if(_a(b.type)){dt=b.stateNode,gn=!1;break e}break;case 5:dt=b.stateNode,gn=!1;break e;case 3:case 4:dt=b.stateNode.containerInfo,gn=!0;break e}b=b.return}if(dt===null)throw Error(i(160));OE(m,E,h),dt=null,gn=!1,m=h.alternate,m!==null&&(m.return=null),h.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)LE(a,r),a=a.sibling}var gr=null;function LE(r,a){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:yn(a,r),vn(r),u&4&&(ha(3,r,r.return),ou(3,r),ha(5,r,r.return));break;case 1:yn(a,r),vn(r),u&512&&(Vt||o===null||Kr(o,o.return)),u&64&&vi&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var h=gr;if(yn(a,r),vn(r),u&512&&(Vt||o===null||Kr(o,o.return)),u&4){var m=o!==null?o.memoizedState:null;if(u=r.memoizedState,o===null)if(u===null)if(r.stateNode===null){e:{u=r.type,o=r.memoizedProps,h=h.ownerDocument||h;t:switch(u){case"title":m=h.getElementsByTagName("title")[0],(!m||m[Mr]||m[It]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=h.createElement(u),h.head.insertBefore(m,h.querySelector("head > title"))),en(m,u,o),m[It]=r,Nt(m),u=m;break e;case"link":var E=LT("link","href",h).get(u+(o.href||""));if(E){for(var b=0;b<E.length;b++)if(m=E[b],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(b,1);break t}}m=h.createElement(u),en(m,u,o),h.head.appendChild(m);break;case"meta":if(E=LT("meta","content",h).get(u+(o.content||""))){for(b=0;b<E.length;b++)if(m=E[b],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(b,1);break t}}m=h.createElement(u),en(m,u,o),h.head.appendChild(m);break;default:throw Error(i(468,u))}m[It]=r,Nt(m),u=m}r.stateNode=u}else kT(h,r.type,r.stateNode);else r.stateNode=VT(h,u,r.memoizedProps);else m!==u?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,u===null?kT(h,r.type,r.stateNode):VT(h,u,r.memoizedProps)):u===null&&r.stateNode!==null&&Zm(r,r.memoizedProps,o.memoizedProps)}break;case 27:yn(a,r),vn(r),u&512&&(Vt||o===null||Kr(o,o.return)),o!==null&&u&4&&Zm(r,r.memoizedProps,o.memoizedProps);break;case 5:if(yn(a,r),vn(r),u&512&&(Vt||o===null||Kr(o,o.return)),r.flags&32){h=r.stateNode;try{pn(h,"")}catch(me){tt(r,r.return,me)}}u&4&&r.stateNode!=null&&(h=r.memoizedProps,Zm(r,h,o!==null?o.memoizedProps:h)),u&1024&&(np=!0);break;case 6:if(yn(a,r),vn(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,o=r.stateNode;try{o.nodeValue=u}catch(me){tt(r,r.return,me)}}break;case 3:if($f=null,h=gr,gr=Bf(a.containerInfo),yn(a,r),gr=h,vn(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Po(a.containerInfo)}catch(me){tt(r,r.return,me)}np&&(np=!1,kE(r));break;case 4:u=gr,gr=Bf(r.stateNode.containerInfo),yn(a,r),vn(r),gr=u;break;case 12:yn(a,r),vn(r);break;case 31:yn(a,r),vn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Cf(r,u)));break;case 13:yn(a,r),vn(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Nf=$t()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Cf(r,u)));break;case 22:h=r.memoizedState!==null;var V=o!==null&&o.memoizedState!==null,G=vi,J=Vt;if(vi=G||h,Vt=J||V,yn(a,r),Vt=J,vi=G,vn(r),u&8192)e:for(a=r.stateNode,a._visibility=h?a._visibility&-2:a._visibility|1,h&&(o===null||V||vi||Vt||As(r)),o=null,a=r;;){if(a.tag===5||a.tag===26){if(o===null){V=o=a;try{if(m=V.stateNode,h)E=m.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{b=V.stateNode;var ne=V.memoizedProps.style,K=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;b.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(me){tt(V,V.return,me)}}}else if(a.tag===6){if(o===null){V=a;try{V.stateNode.nodeValue=h?"":V.memoizedProps}catch(me){tt(V,V.return,me)}}}else if(a.tag===18){if(o===null){V=a;try{var X=V.stateNode;h?AT(X,!0):AT(V.stateNode,!1)}catch(me){tt(V,V.return,me)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===r)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break e;for(;a.sibling===null;){if(a.return===null||a.return===r)break e;o===a&&(o=null),a=a.return}o===a&&(o=null),a.sibling.return=a.return,a=a.sibling}u&4&&(u=r.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Cf(r,o))));break;case 19:yn(a,r),vn(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Cf(r,u)));break;case 30:break;case 21:break;default:yn(a,r),vn(r)}}function vn(r){var a=r.flags;if(a&2){try{for(var o,u=r.return;u!==null;){if(CE(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var h=o.stateNode,m=ep(r);Rf(r,m,h);break;case 5:var E=o.stateNode;o.flags&32&&(pn(E,""),o.flags&=-33);var b=ep(r);Rf(r,b,E);break;case 3:case 4:var V=o.stateNode.containerInfo,G=ep(r);tp(r,G,V);break;default:throw Error(i(161))}}catch(J){tt(r,r.return,J)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function kE(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var a=r;kE(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),r=r.sibling}}function Ei(r,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)xE(r,a.alternate,a),a=a.sibling}function As(r){for(r=r.child;r!==null;){var a=r;switch(a.tag){case 0:case 11:case 14:case 15:ha(4,a,a.return),As(a);break;case 1:Kr(a,a.return);var o=a.stateNode;typeof o.componentWillUnmount=="function"&&AE(a,a.return,o),As(a);break;case 27:yu(a.stateNode);case 26:case 5:Kr(a,a.return),As(a);break;case 22:a.memoizedState===null&&As(a);break;case 30:As(a);break;default:As(a)}r=r.sibling}}function Ti(r,a,o){for(o=o&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var u=a.alternate,h=r,m=a,E=m.flags;switch(m.tag){case 0:case 11:case 15:Ti(h,m,o),ou(4,m);break;case 1:if(Ti(h,m,o),u=m,h=u.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(G){tt(u,u.return,G)}if(u=m,h=u.updateQueue,h!==null){var b=u.stateNode;try{var V=h.shared.hiddenCallbacks;if(V!==null)for(h.shared.hiddenCallbacks=null,h=0;h<V.length;h++)d_(V[h],b)}catch(G){tt(u,u.return,G)}}o&&E&64&&bE(m),lu(m,m.return);break;case 27:IE(m);case 26:case 5:Ti(h,m,o),o&&u===null&&E&4&&RE(m),lu(m,m.return);break;case 12:Ti(h,m,o);break;case 31:Ti(h,m,o),o&&E&4&&ME(h,m);break;case 13:Ti(h,m,o),o&&E&4&&VE(h,m);break;case 22:m.memoizedState===null&&Ti(h,m,o),lu(m,m.return);break;case 30:break;default:Ti(h,m,o)}a=a.sibling}}function rp(r,a){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(r=a.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&Yl(o))}function ip(r,a){r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Yl(r))}function yr(r,a,o,u){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)PE(r,a,o,u),a=a.sibling}function PE(r,a,o,u){var h=a.flags;switch(a.tag){case 0:case 11:case 15:yr(r,a,o,u),h&2048&&ou(9,a);break;case 1:yr(r,a,o,u);break;case 3:yr(r,a,o,u),h&2048&&(r=null,a.alternate!==null&&(r=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==r&&(a.refCount++,r!=null&&Yl(r)));break;case 12:if(h&2048){yr(r,a,o,u),r=a.stateNode;try{var m=a.memoizedProps,E=m.id,b=m.onPostCommit;typeof b=="function"&&b(E,a.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(V){tt(a,a.return,V)}}else yr(r,a,o,u);break;case 31:yr(r,a,o,u);break;case 13:yr(r,a,o,u);break;case 23:break;case 22:m=a.stateNode,E=a.alternate,a.memoizedState!==null?m._visibility&2?yr(r,a,o,u):uu(r,a):m._visibility&2?yr(r,a,o,u):(m._visibility|=2,Ro(r,a,o,u,(a.subtreeFlags&10256)!==0||!1)),h&2048&&rp(E,a);break;case 24:yr(r,a,o,u),h&2048&&ip(a.alternate,a);break;default:yr(r,a,o,u)}}function Ro(r,a,o,u,h){for(h=h&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var m=r,E=a,b=o,V=u,G=E.flags;switch(E.tag){case 0:case 11:case 15:Ro(m,E,b,V,h),ou(8,E);break;case 23:break;case 22:var J=E.stateNode;E.memoizedState!==null?J._visibility&2?Ro(m,E,b,V,h):uu(m,E):(J._visibility|=2,Ro(m,E,b,V,h)),h&&G&2048&&rp(E.alternate,E);break;case 24:Ro(m,E,b,V,h),h&&G&2048&&ip(E.alternate,E);break;default:Ro(m,E,b,V,h)}a=a.sibling}}function uu(r,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var o=r,u=a,h=u.flags;switch(u.tag){case 22:uu(o,u),h&2048&&rp(u.alternate,u);break;case 24:uu(o,u),h&2048&&ip(u.alternate,u);break;default:uu(o,u)}a=a.sibling}}var cu=8192;function Co(r,a,o){if(r.subtreeFlags&cu)for(r=r.child;r!==null;)UE(r,a,o),r=r.sibling}function UE(r,a,o){switch(r.tag){case 26:Co(r,a,o),r.flags&cu&&r.memoizedState!==null&&AI(o,gr,r.memoizedState,r.memoizedProps);break;case 5:Co(r,a,o);break;case 3:case 4:var u=gr;gr=Bf(r.stateNode.containerInfo),Co(r,a,o),gr=u;break;case 22:r.memoizedState===null&&(u=r.alternate,u!==null&&u.memoizedState!==null?(u=cu,cu=16777216,Co(r,a,o),cu=u):Co(r,a,o));break;default:Co(r,a,o)}}function jE(r){var a=r.alternate;if(a!==null&&(r=a.child,r!==null)){a.child=null;do a=r.sibling,r.sibling=null,r=a;while(r!==null)}}function fu(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var u=a[o];Gt=u,BE(u,r)}jE(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)zE(r),r=r.sibling}function zE(r){switch(r.tag){case 0:case 11:case 15:fu(r),r.flags&2048&&ha(9,r,r.return);break;case 3:fu(r);break;case 12:fu(r);break;case 22:var a=r.stateNode;r.memoizedState!==null&&a._visibility&2&&(r.return===null||r.return.tag!==13)?(a._visibility&=-3,If(r)):fu(r);break;default:fu(r)}}function If(r){var a=r.deletions;if((r.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var u=a[o];Gt=u,BE(u,r)}jE(r)}for(r=r.child;r!==null;){switch(a=r,a.tag){case 0:case 11:case 15:ha(8,a,a.return),If(a);break;case 22:o=a.stateNode,o._visibility&2&&(o._visibility&=-3,If(a));break;default:If(a)}r=r.sibling}}function BE(r,a){for(;Gt!==null;){var o=Gt;switch(o.tag){case 0:case 11:case 15:ha(8,o,a);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Yl(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Gt=u;else e:for(o=r;Gt!==null;){u=Gt;var h=u.sibling,m=u.return;if(DE(u),u===o){Gt=null;break e}if(h!==null){h.return=m,Gt=h;break e}Gt=m}}}var zC={getCacheForType:function(r){var a=Jt(Dt),o=a.data.get(r);return o===void 0&&(o=r(),a.data.set(r,o)),o},cacheSignal:function(){return Jt(Dt).controller.signal}},BC=typeof WeakMap=="function"?WeakMap:Map,Qe=0,st=null,Me=null,Pe=0,et=0,xn=null,da=!1,Io=!1,ap=!1,wi=0,Et=0,ma=0,Rs=0,sp=0,Dn=0,No=0,hu=null,_n=null,op=!1,Nf=0,FE=0,xf=1/0,Df=null,pa=null,zt=0,ga=null,xo=null,Si=0,lp=0,up=null,$E=null,du=0,cp=null;function On(){return(Qe&2)!==0&&Pe!==0?Pe&-Pe:W.T!==null?gp():Dc()}function HE(){if(Dn===0)if((Pe&536870912)===0||Fe){var r=Za;Za<<=1,(Za&3932160)===0&&(Za=262144),Dn=r}else Dn=536870912;return r=In.current,r!==null&&(r.flags|=32),Dn}function En(r,a,o){(r===st&&(et===2||et===9)||r.cancelPendingCommit!==null)&&(Do(r,0),ya(r,Pe,Dn,!1)),es(r,o),((Qe&2)===0||r!==st)&&(r===st&&((Qe&2)===0&&(Rs|=o),Et===4&&ya(r,Pe,Dn,!1)),Yr(r))}function qE(r,a,o){if((Qe&6)!==0)throw Error(i(327));var u=!o&&(a&127)===0&&(a&r.expiredLanes)===0||or(r,a),h=u?HC(r,a):hp(r,a,!0),m=u;do{if(h===0){Io&&!u&&ya(r,a,0,!1);break}else{if(o=r.current.alternate,m&&!FC(o)){h=hp(r,a,!1),m=!1;continue}if(h===2){if(m=a,r.errorRecoveryDisabledLanes&m)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){a=E;e:{var b=r;h=hu;var V=b.current.memoizedState.isDehydrated;if(V&&(Do(b,E).flags|=256),E=hp(b,E,!1),E!==2){if(ap&&!V){b.errorRecoveryDisabledLanes|=m,Rs|=m,h=4;break e}m=_n,_n=h,m!==null&&(_n===null?_n=m:_n.push.apply(_n,m))}h=E}if(m=!1,h!==2)continue}}if(h===1){Do(r,0),ya(r,a,0,!0);break}e:{switch(u=r,m=h,m){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:ya(u,a,Dn,!da);break e;case 2:_n=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(h=Nf+300-$t(),10<h)){if(ya(u,a,Dn,!da),xr(u,0,!0)!==0)break e;Si=a,u.timeoutHandle=wT(GE.bind(null,u,o,_n,Df,op,a,Dn,Rs,No,da,m,"Throttled",-0,0),h);break e}GE(u,o,_n,Df,op,a,Dn,Rs,No,da,m,null,-0,0)}}break}while(!0);Yr(r)}function GE(r,a,o,u,h,m,E,b,V,G,J,ne,K,X){if(r.timeoutHandle=-1,ne=a.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:cr},UE(a,m,ne);var me=(m&62914560)===m?Nf-$t():(m&4194048)===m?FE-$t():0;if(me=RI(ne,me),me!==null){Si=m,r.cancelPendingCommit=me(eT.bind(null,r,a,m,o,u,h,E,b,V,J,ne,null,K,X)),ya(r,m,E,!G);return}}eT(r,a,m,o,u,h,E,b,V)}function FC(r){for(var a=r;;){var o=a.tag;if((o===0||o===11||o===15)&&a.flags&16384&&(o=a.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var h=o[u],m=h.getSnapshot;h=h.value;try{if(!Rn(m(),h))return!1}catch{return!1}}if(o=a.child,a.subtreeFlags&16384&&o!==null)o.return=a,a=o;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function ya(r,a,o,u){a&=~sp,a&=~Rs,r.suspendedLanes|=a,r.pingedLanes&=~a,u&&(r.warmLanes|=a),u=r.expirationTimes;for(var h=a;0<h;){var m=31-wt(h),E=1<<m;u[m]=-1,h&=~E}o!==0&&ts(r,o,a)}function Of(){return(Qe&6)===0?(mu(0),!1):!0}function fp(){if(Me!==null){if(et===0)var r=Me.return;else r=Me,hi=ys=null,Cm(r),To=null,Xl=0,r=Me;for(;r!==null;)SE(r.alternate,r),r=r.return;Me=null}}function Do(r,a){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,lI(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Si=0,fp(),st=r,Me=o=ci(r.current,null),Pe=a,et=0,xn=null,da=!1,Io=or(r,a),ap=!1,No=Dn=sp=Rs=ma=Et=0,_n=hu=null,op=!1,(a&8)!==0&&(a|=a&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=a;0<u;){var h=31-wt(u),m=1<<h;a|=r[h],u&=~m}return wi=a,Jc(),o}function KE(r,a){Ne=null,W.H=iu,a===Eo||a===of?(a=u_(),et=3):a===pm?(a=u_(),et=4):et=a===$m?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,xn=a,Me===null&&(Et=1,Tf(r,qn(a,r.current)))}function YE(){var r=In.current;return r===null?!0:(Pe&4194048)===Pe?Qn===null:(Pe&62914560)===Pe||(Pe&536870912)!==0?r===Qn:!1}function QE(){var r=W.H;return W.H=iu,r===null?iu:r}function XE(){var r=W.A;return W.A=zC,r}function Mf(){Et=4,da||(Pe&4194048)!==Pe&&In.current!==null||(Io=!0),(ma&134217727)===0&&(Rs&134217727)===0||st===null||ya(st,Pe,Dn,!1)}function hp(r,a,o){var u=Qe;Qe|=2;var h=QE(),m=XE();(st!==r||Pe!==a)&&(Df=null,Do(r,a)),a=!1;var E=Et;e:do try{if(et!==0&&Me!==null){var b=Me,V=xn;switch(et){case 8:fp(),E=6;break e;case 3:case 2:case 9:case 6:In.current===null&&(a=!0);var G=et;if(et=0,xn=null,Oo(r,b,V,G),o&&Io){E=0;break e}break;default:G=et,et=0,xn=null,Oo(r,b,V,G)}}$C(),E=Et;break}catch(J){KE(r,J)}while(!0);return a&&r.shellSuspendCounter++,hi=ys=null,Qe=u,W.H=h,W.A=m,Me===null&&(st=null,Pe=0,Jc()),E}function $C(){for(;Me!==null;)WE(Me)}function HC(r,a){var o=Qe;Qe|=2;var u=QE(),h=XE();st!==r||Pe!==a?(Df=null,xf=$t()+500,Do(r,a)):Io=or(r,a);e:do try{if(et!==0&&Me!==null){a=Me;var m=xn;t:switch(et){case 1:et=0,xn=null,Oo(r,a,m,1);break;case 2:case 9:if(o_(m)){et=0,xn=null,JE(a);break}a=function(){et!==2&&et!==9||st!==r||(et=7),Yr(r)},m.then(a,a);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:o_(m)?(et=0,xn=null,JE(a)):(et=0,xn=null,Oo(r,a,m,7));break;case 5:var E=null;switch(Me.tag){case 26:E=Me.memoizedState;case 5:case 27:var b=Me;if(E?PT(E):b.stateNode.complete){et=0,xn=null;var V=b.sibling;if(V!==null)Me=V;else{var G=b.return;G!==null?(Me=G,Vf(G)):Me=null}break t}}et=0,xn=null,Oo(r,a,m,5);break;case 6:et=0,xn=null,Oo(r,a,m,6);break;case 8:fp(),Et=6;break e;default:throw Error(i(462))}}qC();break}catch(J){KE(r,J)}while(!0);return hi=ys=null,W.H=u,W.A=h,Qe=o,Me!==null?0:(st=null,Pe=0,Jc(),Et)}function qC(){for(;Me!==null&&!bl();)WE(Me)}function WE(r){var a=TE(r.alternate,r,wi);r.memoizedProps=r.pendingProps,a===null?Vf(r):Me=a}function JE(r){var a=r,o=a.alternate;switch(a.tag){case 15:case 0:a=pE(o,a,a.pendingProps,a.type,void 0,Pe);break;case 11:a=pE(o,a,a.pendingProps,a.type.render,a.ref,Pe);break;case 5:Cm(a);default:SE(o,a),a=Me=Xv(a,wi),a=TE(o,a,wi)}r.memoizedProps=r.pendingProps,a===null?Vf(r):Me=a}function Oo(r,a,o,u){hi=ys=null,Cm(a),To=null,Xl=0;var h=a.return;try{if(MC(r,h,a,o,Pe)){Et=1,Tf(r,qn(o,r.current)),Me=null;return}}catch(m){if(h!==null)throw Me=h,m;Et=1,Tf(r,qn(o,r.current)),Me=null;return}a.flags&32768?(Fe||u===1?r=!0:Io||(Pe&536870912)!==0?r=!1:(da=r=!0,(u===2||u===9||u===3||u===6)&&(u=In.current,u!==null&&u.tag===13&&(u.flags|=16384))),ZE(a,r)):Vf(a)}function Vf(r){var a=r;do{if((a.flags&32768)!==0){ZE(a,da);return}r=a.return;var o=kC(a.alternate,a,wi);if(o!==null){Me=o;return}if(a=a.sibling,a!==null){Me=a;return}Me=a=r}while(a!==null);Et===0&&(Et=5)}function ZE(r,a){do{var o=PC(r.alternate,r);if(o!==null){o.flags&=32767,Me=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!a&&(r=r.sibling,r!==null)){Me=r;return}Me=r=o}while(r!==null);Et=6,Me=null}function eT(r,a,o,u,h,m,E,b,V){r.cancelPendingCommit=null;do Lf();while(zt!==0);if((Qe&6)!==0)throw Error(i(327));if(a!==null){if(a===r.current)throw Error(i(177));if(m=a.lanes|a.childLanes,m|=em,qd(r,o,m,E,b,V),r===st&&(Me=st=null,Pe=0),xo=a,ga=r,Si=o,lp=m,up=h,$E=u,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,QC(ar,function(){return aT(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||u){u=W.T,W.T=null,h=se.p,se.p=2,E=Qe,Qe|=4;try{UC(r,a,o)}finally{Qe=E,se.p=h,W.T=u}}zt=1,tT(),nT(),rT()}}function tT(){if(zt===1){zt=0;var r=ga,a=xo,o=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||o){o=W.T,W.T=null;var u=se.p;se.p=2;var h=Qe;Qe|=4;try{LE(a,r);var m=bp,E=Bv(r.containerInfo),b=m.focusedElem,V=m.selectionRange;if(E!==b&&b&&b.ownerDocument&&zv(b.ownerDocument.documentElement,b)){if(V!==null&&Qd(b)){var G=V.start,J=V.end;if(J===void 0&&(J=G),"selectionStart"in b)b.selectionStart=G,b.selectionEnd=Math.min(J,b.value.length);else{var ne=b.ownerDocument||document,K=ne&&ne.defaultView||window;if(K.getSelection){var X=K.getSelection(),me=b.textContent.length,Ee=Math.min(V.start,me),at=V.end===void 0?Ee:Math.min(V.end,me);!X.extend&&Ee>at&&(E=at,at=Ee,Ee=E);var F=jv(b,Ee),j=jv(b,at);if(F&&j&&(X.rangeCount!==1||X.anchorNode!==F.node||X.anchorOffset!==F.offset||X.focusNode!==j.node||X.focusOffset!==j.offset)){var q=ne.createRange();q.setStart(F.node,F.offset),X.removeAllRanges(),Ee>at?(X.addRange(q),X.extend(j.node,j.offset)):(q.setEnd(j.node,j.offset),X.addRange(q))}}}}for(ne=[],X=b;X=X.parentNode;)X.nodeType===1&&ne.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<ne.length;b++){var ee=ne[b];ee.element.scrollLeft=ee.left,ee.element.scrollTop=ee.top}}Kf=!!Sp,bp=Sp=null}finally{Qe=h,se.p=u,W.T=o}}r.current=a,zt=2}}function nT(){if(zt===2){zt=0;var r=ga,a=xo,o=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||o){o=W.T,W.T=null;var u=se.p;se.p=2;var h=Qe;Qe|=4;try{xE(r,a.alternate,a)}finally{Qe=h,se.p=u,W.T=o}}zt=3}}function rT(){if(zt===4||zt===3){zt=0,Qs();var r=ga,a=xo,o=Si,u=$E;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?zt=5:(zt=0,xo=ga=null,iT(r,r.pendingLanes));var h=r.pendingLanes;if(h===0&&(pa=null),si(o),a=a.stateNode,Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(sr,a,void 0,(a.current.flags&128)===128)}catch{}if(u!==null){a=W.T,h=se.p,se.p=2,W.T=null;try{for(var m=r.onRecoverableError,E=0;E<u.length;E++){var b=u[E];m(b.value,{componentStack:b.stack})}}finally{W.T=a,se.p=h}}(Si&3)!==0&&Lf(),Yr(r),h=r.pendingLanes,(o&261930)!==0&&(h&42)!==0?r===cp?du++:(du=0,cp=r):du=0,mu(0)}}function iT(r,a){(r.pooledCacheLanes&=a)===0&&(a=r.pooledCache,a!=null&&(r.pooledCache=null,Yl(a)))}function Lf(){return tT(),nT(),rT(),aT()}function aT(){if(zt!==5)return!1;var r=ga,a=lp;lp=0;var o=si(Si),u=W.T,h=se.p;try{se.p=32>o?32:o,W.T=null,o=up,up=null;var m=ga,E=Si;if(zt=0,xo=ga=null,Si=0,(Qe&6)!==0)throw Error(i(331));var b=Qe;if(Qe|=4,zE(m.current),PE(m,m.current,E,o),Qe=b,mu(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(sr,m)}catch{}return!0}finally{se.p=h,W.T=u,iT(r,a)}}function sT(r,a,o){a=qn(o,a),a=Fm(r.stateNode,a,2),r=ua(r,a,2),r!==null&&(es(r,2),Yr(r))}function tt(r,a,o){if(r.tag===3)sT(r,r,o);else for(;a!==null;){if(a.tag===3){sT(a,r,o);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(pa===null||!pa.has(u))){r=qn(o,r),o=oE(2),u=ua(a,o,2),u!==null&&(lE(o,u,a,r),es(u,2),Yr(u));break}}a=a.return}}function dp(r,a,o){var u=r.pingCache;if(u===null){u=r.pingCache=new BC;var h=new Set;u.set(a,h)}else h=u.get(a),h===void 0&&(h=new Set,u.set(a,h));h.has(o)||(ap=!0,h.add(o),r=GC.bind(null,r,a,o),a.then(r,r))}function GC(r,a,o){var u=r.pingCache;u!==null&&u.delete(a),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,st===r&&(Pe&o)===o&&(Et===4||Et===3&&(Pe&62914560)===Pe&&300>$t()-Nf?(Qe&2)===0&&Do(r,0):sp|=o,No===Pe&&(No=0)),Yr(r)}function oT(r,a){a===0&&(a=xc()),r=ms(r,a),r!==null&&(es(r,a),Yr(r))}function KC(r){var a=r.memoizedState,o=0;a!==null&&(o=a.retryLane),oT(r,o)}function YC(r,a){var o=0;switch(r.tag){case 31:case 13:var u=r.stateNode,h=r.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(a),oT(r,o)}function QC(r,a){return Tt(r,a)}var kf=null,Mo=null,mp=!1,Pf=!1,pp=!1,va=0;function Yr(r){r!==Mo&&r.next===null&&(Mo===null?kf=Mo=r:Mo=Mo.next=r),Pf=!0,mp||(mp=!0,WC())}function mu(r,a){if(!pp&&Pf){pp=!0;do for(var o=!1,u=kf;u!==null;){if(r!==0){var h=u.pendingLanes;if(h===0)var m=0;else{var E=u.suspendedLanes,b=u.pingedLanes;m=(1<<31-wt(42|r)+1)-1,m&=h&~(E&~b),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,fT(u,m))}else m=Pe,m=xr(u,u===st?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||or(u,m)||(o=!0,fT(u,m));u=u.next}while(o);pp=!1}}function XC(){lT()}function lT(){Pf=mp=!1;var r=0;va!==0&&oI()&&(r=va);for(var a=$t(),o=null,u=kf;u!==null;){var h=u.next,m=uT(u,a);m===0?(u.next=null,o===null?kf=h:o.next=h,h===null&&(Mo=o)):(o=u,(r!==0||(m&3)!==0)&&(Pf=!0)),u=h}zt!==0&&zt!==5||mu(r),va!==0&&(va=0)}function uT(r,a){for(var o=r.suspendedLanes,u=r.pingedLanes,h=r.expirationTimes,m=r.pendingLanes&-62914561;0<m;){var E=31-wt(m),b=1<<E,V=h[E];V===-1?((b&o)===0||(b&u)!==0)&&(h[E]=Hd(b,a)):V<=a&&(r.expiredLanes|=b),m&=~b}if(a=st,o=Pe,o=xr(r,r===a?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,o===0||r===a&&(et===2||et===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&Cr(u),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||or(r,o)){if(a=o&-o,a===r.callbackPriority)return a;switch(u!==null&&Cr(u),si(o)){case 2:case 8:o=Un;break;case 32:o=ar;break;case 268435456:o=Ac;break;default:o=ar}return u=cT.bind(null,r),o=Tt(o,u),r.callbackPriority=a,r.callbackNode=o,a}return u!==null&&u!==null&&Cr(u),r.callbackPriority=2,r.callbackNode=null,2}function cT(r,a){if(zt!==0&&zt!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Lf()&&r.callbackNode!==o)return null;var u=Pe;return u=xr(r,r===st?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(qE(r,u,a),uT(r,$t()),r.callbackNode!=null&&r.callbackNode===o?cT.bind(null,r):null)}function fT(r,a){if(Lf())return null;qE(r,a,!0)}function WC(){uI(function(){(Qe&6)!==0?Tt(ke,XC):lT()})}function gp(){if(va===0){var r=vo;r===0&&(r=Ir,Ir<<=1,(Ir&261888)===0&&(Ir=256)),va=r}return va}function hT(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:no(""+r)}function dT(r,a){var o=a.ownerDocument.createElement("input");return o.name=a.name,o.value=a.value,r.id&&o.setAttribute("form",r.id),a.parentNode.insertBefore(o,a),r=new FormData(r),o.parentNode.removeChild(o),r}function JC(r,a,o,u,h){if(a==="submit"&&o&&o.stateNode===h){var m=hT((h[Ht]||null).action),E=u.submitter;E&&(a=(a=E[Ht]||null)?hT(a.formAction):E.getAttribute("formAction"),a!==null&&(m=a,E=null));var b=new Br("action","action",null,u,h);r.push({event:b,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(va!==0){var V=E?dT(h,E):new FormData(h);km(o,{pending:!0,data:V,method:h.method,action:m},null,V)}}else typeof m=="function"&&(b.preventDefault(),V=E?dT(h,E):new FormData(h),km(o,{pending:!0,data:V,method:h.method,action:m},m,V))},currentTarget:h}]})}}for(var yp=0;yp<Zd.length;yp++){var vp=Zd[yp],ZC=vp.toLowerCase(),eI=vp[0].toUpperCase()+vp.slice(1);pr(ZC,"on"+eI)}pr(Hv,"onAnimationEnd"),pr(qv,"onAnimationIteration"),pr(Gv,"onAnimationStart"),pr("dblclick","onDoubleClick"),pr("focusin","onFocus"),pr("focusout","onBlur"),pr(gC,"onTransitionRun"),pr(yC,"onTransitionStart"),pr(vC,"onTransitionCancel"),pr(Kv,"onTransitionEnd"),Pr("onMouseEnter",["mouseout","mouseover"]),Pr("onMouseLeave",["mouseout","mouseover"]),Pr("onPointerEnter",["pointerout","pointerover"]),Pr("onPointerLeave",["pointerout","pointerover"]),kr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),kr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),kr("onBeforeInput",["compositionend","keypress","textInput","paste"]),kr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),kr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),kr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pu));function mT(r,a){a=(a&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],h=u.event;u=u.listeners;e:{var m=void 0;if(a)for(var E=u.length-1;0<=E;E--){var b=u[E],V=b.instance,G=b.currentTarget;if(b=b.listener,V!==m&&h.isPropagationStopped())break e;m=b,h.currentTarget=G;try{m(h)}catch(J){Wc(J)}h.currentTarget=null,m=V}else for(E=0;E<u.length;E++){if(b=u[E],V=b.instance,G=b.currentTarget,b=b.listener,V!==m&&h.isPropagationStopped())break e;m=b,h.currentTarget=G;try{m(h)}catch(J){Wc(J)}h.currentTarget=null,m=V}}}}function Ve(r,a){var o=a[Ws];o===void 0&&(o=a[Ws]=new Set);var u=r+"__bubble";o.has(u)||(pT(a,r,2,!1),o.add(u))}function _p(r,a,o){var u=0;a&&(u|=4),pT(o,r,u,a)}var Uf="_reactListening"+Math.random().toString(36).slice(2);function Ep(r){if(!r[Uf]){r[Uf]=!0,Cl.forEach(function(o){o!=="selectionchange"&&(tI.has(o)||_p(o,!1,r),_p(o,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[Uf]||(a[Uf]=!0,_p("selectionchange",!1,a))}}function pT(r,a,o,u){switch(HT(a)){case 2:var h=NI;break;case 8:h=xI;break;default:h=Lp}o=h.bind(null,a,o,r),h=void 0,!ss||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(h=!0),u?h!==void 0?r.addEventListener(a,o,{capture:!0,passive:h}):r.addEventListener(a,o,!0):h!==void 0?r.addEventListener(a,o,{passive:h}):r.addEventListener(a,o,!1)}function Tp(r,a,o,u,h){var m=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var b=u.stateNode.containerInfo;if(b===h)break;if(E===4)for(E=u.return;E!==null;){var V=E.tag;if((V===3||V===4)&&E.stateNode.containerInfo===h)return;E=E.return}for(;b!==null;){if(E=Vr(b),E===null)return;if(V=E.tag,V===5||V===6||V===26||V===27){u=m=E;continue e}b=b.parentNode}}u=u.return}Zi(function(){var G=m,J=Bn(o),ne=[];e:{var K=Yv.get(r);if(K!==void 0){var X=Br,me=r;switch(r){case"keypress":if(ls(o)===0)break e;case"keydown":case"keyup":X=Yc;break;case"focusin":me="focus",X=cs;break;case"focusout":me="blur",X=cs;break;case"beforeblur":case"afterblur":X=cs;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=zl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=jc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=y;break;case Hv:case qv:case Gv:X=Bc;break;case Kv:X=R;break;case"scroll":case"scrollend":X=jl;break;case"wheel":X=Q;break;case"copy":case"cut":case"paste":X=Fc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=ui;break;case"toggle":case"beforetoggle":X=Ie}var Ee=(a&4)!==0,at=!Ee&&(r==="scroll"||r==="scrollend"),F=Ee?K!==null?K+"Capture":null:K;Ee=[];for(var j=G,q;j!==null;){var ee=j;if(q=ee.stateNode,ee=ee.tag,ee!==5&&ee!==26&&ee!==27||q===null||F===null||(ee=fr(j,F),ee!=null&&Ee.push(gu(j,ee,q))),at)break;j=j.return}0<Ee.length&&(K=new X(K,me,null,o,J),ne.push({event:K,listeners:Ee}))}}if((a&7)===0){e:{if(K=r==="mouseover"||r==="pointerover",X=r==="mouseout"||r==="pointerout",K&&o!==kl&&(me=o.relatedTarget||o.fromElement)&&(Vr(me)||me[Or]))break e;if((X||K)&&(K=J.window===J?J:(K=J.ownerDocument)?K.defaultView||K.parentWindow:window,X?(me=o.relatedTarget||o.toElement,X=G,me=me?Vr(me):null,me!==null&&(at=l(me),Ee=me.tag,me!==at||Ee!==5&&Ee!==27&&Ee!==6)&&(me=null)):(X=null,me=G),X!==me)){if(Ee=zl,ee="onMouseLeave",F="onMouseEnter",j="mouse",(r==="pointerout"||r==="pointerover")&&(Ee=ui,ee="onPointerLeave",F="onPointerEnter",j="pointer"),at=X==null?K:bn(X),q=me==null?K:bn(me),K=new Ee(ee,j+"leave",X,o,J),K.target=at,K.relatedTarget=q,ee=null,Vr(J)===G&&(Ee=new Ee(F,j+"enter",me,o,J),Ee.target=q,Ee.relatedTarget=at,ee=Ee),at=ee,X&&me)t:{for(Ee=nI,F=X,j=me,q=0,ee=F;ee;ee=Ee(ee))q++;ee=0;for(var ve=j;ve;ve=Ee(ve))ee++;for(;0<q-ee;)F=Ee(F),q--;for(;0<ee-q;)j=Ee(j),ee--;for(;q--;){if(F===j||j!==null&&F===j.alternate){Ee=F;break t}F=Ee(F),j=Ee(j)}Ee=null}else Ee=null;X!==null&&gT(ne,K,X,Ee,!1),me!==null&&at!==null&&gT(ne,at,me,Ee,!0)}}e:{if(K=G?bn(G):window,X=K.nodeName&&K.nodeName.toLowerCase(),X==="select"||X==="input"&&K.type==="file")var Ge=Mv;else if(Dv(K))if(Vv)Ge=dC;else{Ge=fC;var pe=cC}else X=K.nodeName,!X||X.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?G&&to(G.elementType)&&(Ge=Mv):Ge=hC;if(Ge&&(Ge=Ge(r,G))){Ov(ne,Ge,o,J);break e}pe&&pe(r,K,G),r==="focusout"&&G&&K.type==="number"&&G.memoizedProps.value!=null&&Ml(K,"number",K.value)}switch(pe=G?bn(G):window,r){case"focusin":(Dv(pe)||pe.contentEditable==="true")&&(uo=pe,Xd=G,ql=null);break;case"focusout":ql=Xd=uo=null;break;case"mousedown":Wd=!0;break;case"contextmenu":case"mouseup":case"dragend":Wd=!1,Fv(ne,o,J);break;case"selectionchange":if(pC)break;case"keydown":case"keyup":Fv(ne,o,J)}var xe;if(Ye)e:{switch(r){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else lo?fs(r,o)&&(Ue="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Ue="onCompositionStart");Ue&&(Hr&&o.locale!=="ko"&&(lo||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&lo&&(xe=Ul()):(zr=J,Pl="value"in zr?zr.value:zr.textContent,lo=!0)),pe=jf(G,Ue),0<pe.length&&(Ue=new $r(Ue,r,null,o,J),ne.push({event:Ue,listeners:pe}),xe?Ue.data=xe:(xe=oo(o),xe!==null&&(Ue.data=xe)))),(xe=$n?sC(r,o):oC(r,o))&&(Ue=jf(G,"onBeforeInput"),0<Ue.length&&(pe=new $r("onBeforeInput","beforeinput",null,o,J),ne.push({event:pe,listeners:Ue}),pe.data=xe)),JC(ne,r,G,o,J)}mT(ne,a)})}function gu(r,a,o){return{instance:r,listener:a,currentTarget:o}}function jf(r,a){for(var o=a+"Capture",u=[];r!==null;){var h=r,m=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||m===null||(h=fr(r,o),h!=null&&u.unshift(gu(r,h,m)),h=fr(r,a),h!=null&&u.push(gu(r,h,m))),r.tag===3)return u;r=r.return}return[]}function nI(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function gT(r,a,o,u,h){for(var m=a._reactName,E=[];o!==null&&o!==u;){var b=o,V=b.alternate,G=b.stateNode;if(b=b.tag,V!==null&&V===u)break;b!==5&&b!==26&&b!==27||G===null||(V=G,h?(G=fr(o,m),G!=null&&E.unshift(gu(o,G,V))):h||(G=fr(o,m),G!=null&&E.push(gu(o,G,V)))),o=o.return}E.length!==0&&r.push({event:a,listeners:E})}var rI=/\r\n?/g,iI=/\u0000|\uFFFD/g;function yT(r){return(typeof r=="string"?r:""+r).replace(rI,`
`).replace(iI,"")}function vT(r,a){return a=yT(a),yT(r)===a}function it(r,a,o,u,h,m){switch(o){case"children":typeof u=="string"?a==="body"||a==="textarea"&&u===""||pn(r,u):(typeof u=="number"||typeof u=="bigint")&&a!=="body"&&pn(r,""+u);break;case"className":An(r,"class",u);break;case"tabIndex":An(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":An(r,o,u);break;case"style":Ll(r,u,m);break;case"data":if(a!=="object"){An(r,"data",u);break}case"src":case"href":if(u===""&&(a!=="a"||o!=="href")){r.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=no(""+u),r.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(a!=="input"&&it(r,a,"name",h.name,h,null),it(r,a,"formEncType",h.formEncType,h,null),it(r,a,"formMethod",h.formMethod,h,null),it(r,a,"formTarget",h.formTarget,h,null)):(it(r,a,"encType",h.encType,h,null),it(r,a,"method",h.method,h,null),it(r,a,"target",h.target,h,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(o);break}u=no(""+u),r.setAttribute(o,u);break;case"onClick":u!=null&&(r.onclick=cr);break;case"onScroll":u!=null&&Ve("scroll",r);break;case"onScrollEnd":u!=null&&Ve("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}o=no(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""+u):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":u===!0?r.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(o,u):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(o,u):r.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(o):r.setAttribute(o,u);break;case"popover":Ve("beforetoggle",r),Ve("toggle",r),Zs(r,"popover",u);break;case"xlinkActuate":xt(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":xt(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":xt(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":xt(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":xt(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":xt(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":xt(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":xt(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":xt(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Zs(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Uc.get(o)||o,Zs(r,o,u))}}function wp(r,a,o,u,h,m){switch(o){case"style":Ll(r,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(h.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof u=="string"?pn(r,u):(typeof u=="number"||typeof u=="bigint")&&pn(r,""+u);break;case"onScroll":u!=null&&Ve("scroll",r);break;case"onScrollEnd":u!=null&&Ve("scrollend",r);break;case"onClick":u!=null&&(r.onclick=cr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Il.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(h=o.endsWith("Capture"),a=o.slice(2,h?o.length-7:void 0),m=r[Ht]||null,m=m!=null?m[o]:null,typeof m=="function"&&r.removeEventListener(a,m,h),typeof u=="function")){typeof m!="function"&&m!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(a,u,h);break e}o in r?r[o]=u:u===!0?r.setAttribute(o,""):Zs(r,o,u)}}}function en(r,a,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",r),Ve("load",r);var u=!1,h=!1,m;for(m in o)if(o.hasOwnProperty(m)){var E=o[m];if(E!=null)switch(m){case"src":u=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:it(r,a,m,E,o,null)}}h&&it(r,a,"srcSet",o.srcSet,o,null),u&&it(r,a,"src",o.src,o,null);return;case"input":Ve("invalid",r);var b=m=E=h=null,V=null,G=null;for(u in o)if(o.hasOwnProperty(u)){var J=o[u];if(J!=null)switch(u){case"name":h=J;break;case"type":E=J;break;case"checked":V=J;break;case"defaultChecked":G=J;break;case"value":m=J;break;case"defaultValue":b=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,a));break;default:it(r,a,u,J,o,null)}}Lc(r,m,b,V,G,E,h,!1);return;case"select":Ve("invalid",r),u=E=m=null;for(h in o)if(o.hasOwnProperty(h)&&(b=o[h],b!=null))switch(h){case"value":m=b;break;case"defaultValue":E=b;break;case"multiple":u=b;default:it(r,a,h,b,o,null)}a=m,o=E,r.multiple=!!u,a!=null?Qi(r,!!u,a,!1):o!=null&&Qi(r,!!u,o,!0);return;case"textarea":Ve("invalid",r),m=h=u=null;for(E in o)if(o.hasOwnProperty(E)&&(b=o[E],b!=null))switch(E){case"value":u=b;break;case"defaultValue":h=b;break;case"children":m=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(i(91));break;default:it(r,a,E,b,o,null)}Xi(r,u,h,m);return;case"option":for(V in o)if(o.hasOwnProperty(V)&&(u=o[V],u!=null))switch(V){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:it(r,a,V,u,o,null)}return;case"dialog":Ve("beforetoggle",r),Ve("toggle",r),Ve("cancel",r),Ve("close",r);break;case"iframe":case"object":Ve("load",r);break;case"video":case"audio":for(u=0;u<pu.length;u++)Ve(pu[u],r);break;case"image":Ve("error",r),Ve("load",r);break;case"details":Ve("toggle",r);break;case"embed":case"source":case"link":Ve("error",r),Ve("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in o)if(o.hasOwnProperty(G)&&(u=o[G],u!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:it(r,a,G,u,o,null)}return;default:if(to(a)){for(J in o)o.hasOwnProperty(J)&&(u=o[J],u!==void 0&&wp(r,a,J,u,o,void 0));return}}for(b in o)o.hasOwnProperty(b)&&(u=o[b],u!=null&&it(r,a,b,u,o,null))}function aI(r,a,o,u){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,m=null,E=null,b=null,V=null,G=null,J=null;for(X in o){var ne=o[X];if(o.hasOwnProperty(X)&&ne!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":V=ne;default:u.hasOwnProperty(X)||it(r,a,X,null,u,ne)}}for(var K in u){var X=u[K];if(ne=o[K],u.hasOwnProperty(K)&&(X!=null||ne!=null))switch(K){case"type":m=X;break;case"name":h=X;break;case"checked":G=X;break;case"defaultChecked":J=X;break;case"value":E=X;break;case"defaultValue":b=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,a));break;default:X!==ne&&it(r,a,K,X,u,ne)}}eo(r,E,b,V,G,J,m,h);return;case"select":X=E=b=K=null;for(m in o)if(V=o[m],o.hasOwnProperty(m)&&V!=null)switch(m){case"value":break;case"multiple":X=V;default:u.hasOwnProperty(m)||it(r,a,m,null,u,V)}for(h in u)if(m=u[h],V=o[h],u.hasOwnProperty(h)&&(m!=null||V!=null))switch(h){case"value":K=m;break;case"defaultValue":b=m;break;case"multiple":E=m;default:m!==V&&it(r,a,h,m,u,V)}a=b,o=E,u=X,K!=null?Qi(r,!!o,K,!1):!!u!=!!o&&(a!=null?Qi(r,!!o,a,!0):Qi(r,!!o,o?[]:"",!1));return;case"textarea":X=K=null;for(b in o)if(h=o[b],o.hasOwnProperty(b)&&h!=null&&!u.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:it(r,a,b,null,u,h)}for(E in u)if(h=u[E],m=o[E],u.hasOwnProperty(E)&&(h!=null||m!=null))switch(E){case"value":K=h;break;case"defaultValue":X=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(i(91));break;default:h!==m&&it(r,a,E,h,u,m)}kc(r,K,X);return;case"option":for(var me in o)if(K=o[me],o.hasOwnProperty(me)&&K!=null&&!u.hasOwnProperty(me))switch(me){case"selected":r.selected=!1;break;default:it(r,a,me,null,u,K)}for(V in u)if(K=u[V],X=o[V],u.hasOwnProperty(V)&&K!==X&&(K!=null||X!=null))switch(V){case"selected":r.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:it(r,a,V,K,u,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in o)K=o[Ee],o.hasOwnProperty(Ee)&&K!=null&&!u.hasOwnProperty(Ee)&&it(r,a,Ee,null,u,K);for(G in u)if(K=u[G],X=o[G],u.hasOwnProperty(G)&&K!==X&&(K!=null||X!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,a));break;default:it(r,a,G,K,u,X)}return;default:if(to(a)){for(var at in o)K=o[at],o.hasOwnProperty(at)&&K!==void 0&&!u.hasOwnProperty(at)&&wp(r,a,at,void 0,u,K);for(J in u)K=u[J],X=o[J],!u.hasOwnProperty(J)||K===X||K===void 0&&X===void 0||wp(r,a,J,K,u,X);return}}for(var F in o)K=o[F],o.hasOwnProperty(F)&&K!=null&&!u.hasOwnProperty(F)&&it(r,a,F,null,u,K);for(ne in u)K=u[ne],X=o[ne],!u.hasOwnProperty(ne)||K===X||K==null&&X==null||it(r,a,ne,K,u,X)}function _T(r){switch(r){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function sI(){if(typeof performance.getEntriesByType=="function"){for(var r=0,a=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var h=o[u],m=h.transferSize,E=h.initiatorType,b=h.duration;if(m&&b&&_T(E)){for(E=0,b=h.responseEnd,u+=1;u<o.length;u++){var V=o[u],G=V.startTime;if(G>b)break;var J=V.transferSize,ne=V.initiatorType;J&&_T(ne)&&(V=V.responseEnd,E+=J*(V<b?1:(b-G)/(V-G)))}if(--u,a+=8*(m+E)/(h.duration/1e3),r++,10<r)break}}if(0<r)return a/r/1e6}return navigator.connection&&(r=navigator.connection.downlink,typeof r=="number")?r:5}var Sp=null,bp=null;function zf(r){return r.nodeType===9?r:r.ownerDocument}function ET(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function TT(r,a){if(r===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&a==="foreignObject"?0:r}function Ap(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Rp=null;function oI(){var r=window.event;return r&&r.type==="popstate"?r===Rp?!1:(Rp=r,!0):(Rp=null,!1)}var wT=typeof setTimeout=="function"?setTimeout:void 0,lI=typeof clearTimeout=="function"?clearTimeout:void 0,ST=typeof Promise=="function"?Promise:void 0,uI=typeof queueMicrotask=="function"?queueMicrotask:typeof ST<"u"?function(r){return ST.resolve(null).then(r).catch(cI)}:wT;function cI(r){setTimeout(function(){throw r})}function _a(r){return r==="head"}function bT(r,a){var o=a,u=0;do{var h=o.nextSibling;if(r.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"||o==="/&"){if(u===0){r.removeChild(h),Po(a);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")yu(r.ownerDocument.documentElement);else if(o==="head"){o=r.ownerDocument.head,yu(o);for(var m=o.firstChild;m;){var E=m.nextSibling,b=m.nodeName;m[Mr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&m.rel.toLowerCase()==="stylesheet"||o.removeChild(m),m=E}}else o==="body"&&yu(r.ownerDocument.body);o=h}while(o);Po(a)}function AT(r,a){var o=r;r=0;do{var u=o.nextSibling;if(o.nodeType===1?a?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(a?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(r===0)break;r--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||r++;o=u}while(o)}function Cp(r){var a=r.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var o=a;switch(a=a.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Cp(o),Js(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function fI(r,a,o,u){for(;r.nodeType===1;){var h=o;if(r.nodeName.toLowerCase()!==a.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[Mr])switch(a){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(m=r.getAttribute("rel"),m==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(m!==h.rel||r.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||r.getAttribute("title")!==(h.title==null?null:h.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(m=r.getAttribute("src"),(m!==(h.src==null?null:h.src)||r.getAttribute("type")!==(h.type==null?null:h.type)||r.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&m&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(a==="input"&&r.type==="hidden"){var m=h.name==null?null:""+h.name;if(h.type==="hidden"&&r.getAttribute("name")===m)return r}else return r;if(r=Xn(r.nextSibling),r===null)break}return null}function hI(r,a,o){if(a==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=Xn(r.nextSibling),r===null))return null;return r}function RT(r,a){for(;r.nodeType!==8;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!a||(r=Xn(r.nextSibling),r===null))return null;return r}function Ip(r){return r.data==="$?"||r.data==="$~"}function Np(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState!=="loading"}function dI(r,a){var o=r.ownerDocument;if(r.data==="$~")r._reactRetry=a;else if(r.data!=="$?"||o.readyState!=="loading")a();else{var u=function(){a(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function Xn(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return r}var xp=null;function CT(r){r=r.nextSibling;for(var a=0;r;){if(r.nodeType===8){var o=r.data;if(o==="/$"||o==="/&"){if(a===0)return Xn(r.nextSibling);a--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||a++}r=r.nextSibling}return null}function IT(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(a===0)return r;a--}else o!=="/$"&&o!=="/&"||a++}r=r.previousSibling}return null}function NT(r,a,o){switch(a=zf(o),r){case"html":if(r=a.documentElement,!r)throw Error(i(452));return r;case"head":if(r=a.head,!r)throw Error(i(453));return r;case"body":if(r=a.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function yu(r){for(var a=r.attributes;a.length;)r.removeAttributeNode(a[0]);Js(r)}var Wn=new Map,xT=new Set;function Bf(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var bi=se.d;se.d={f:mI,r:pI,D:gI,C:yI,L:vI,m:_I,X:TI,S:EI,M:wI};function mI(){var r=bi.f(),a=Of();return r||a}function pI(r){var a=zn(r);a!==null&&a.tag===5&&a.type==="form"?K_(a):bi.r(r)}var Vo=typeof document>"u"?null:document;function DT(r,a,o){var u=Vo;if(u&&typeof a=="string"&&a){var h=mn(a);h='link[rel="'+r+'"][href="'+h+'"]',typeof o=="string"&&(h+='[crossorigin="'+o+'"]'),xT.has(h)||(xT.add(h),r={rel:r,crossOrigin:o,href:a},u.querySelector(h)===null&&(a=u.createElement("link"),en(a,"link",r),Nt(a),u.head.appendChild(a)))}}function gI(r){bi.D(r),DT("dns-prefetch",r,null)}function yI(r,a){bi.C(r,a),DT("preconnect",r,a)}function vI(r,a,o){bi.L(r,a,o);var u=Vo;if(u&&r&&a){var h='link[rel="preload"][as="'+mn(a)+'"]';a==="image"&&o&&o.imageSrcSet?(h+='[imagesrcset="'+mn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(h+='[imagesizes="'+mn(o.imageSizes)+'"]')):h+='[href="'+mn(r)+'"]';var m=h;switch(a){case"style":m=Lo(r);break;case"script":m=ko(r)}Wn.has(m)||(r=_({rel:"preload",href:a==="image"&&o&&o.imageSrcSet?void 0:r,as:a},o),Wn.set(m,r),u.querySelector(h)!==null||a==="style"&&u.querySelector(vu(m))||a==="script"&&u.querySelector(_u(m))||(a=u.createElement("link"),en(a,"link",r),Nt(a),u.head.appendChild(a)))}}function _I(r,a){bi.m(r,a);var o=Vo;if(o&&r){var u=a&&typeof a.as=="string"?a.as:"script",h='link[rel="modulepreload"][as="'+mn(u)+'"][href="'+mn(r)+'"]',m=h;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=ko(r)}if(!Wn.has(m)&&(r=_({rel:"modulepreload",href:r},a),Wn.set(m,r),o.querySelector(h)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(_u(m)))return}u=o.createElement("link"),en(u,"link",r),Nt(u),o.head.appendChild(u)}}}function EI(r,a,o){bi.S(r,a,o);var u=Vo;if(u&&r){var h=Lr(u).hoistableStyles,m=Lo(r);a=a||"default";var E=h.get(m);if(!E){var b={loading:0,preload:null};if(E=u.querySelector(vu(m)))b.loading=5;else{r=_({rel:"stylesheet",href:r,"data-precedence":a},o),(o=Wn.get(m))&&Dp(r,o);var V=E=u.createElement("link");Nt(V),en(V,"link",r),V._p=new Promise(function(G,J){V.onload=G,V.onerror=J}),V.addEventListener("load",function(){b.loading|=1}),V.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Ff(E,a,u)}E={type:"stylesheet",instance:E,count:1,state:b},h.set(m,E)}}}function TI(r,a){bi.X(r,a);var o=Vo;if(o&&r){var u=Lr(o).hoistableScripts,h=ko(r),m=u.get(h);m||(m=o.querySelector(_u(h)),m||(r=_({src:r,async:!0},a),(a=Wn.get(h))&&Op(r,a),m=o.createElement("script"),Nt(m),en(m,"link",r),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(h,m))}}function wI(r,a){bi.M(r,a);var o=Vo;if(o&&r){var u=Lr(o).hoistableScripts,h=ko(r),m=u.get(h);m||(m=o.querySelector(_u(h)),m||(r=_({src:r,async:!0,type:"module"},a),(a=Wn.get(h))&&Op(r,a),m=o.createElement("script"),Nt(m),en(m,"link",r),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(h,m))}}function OT(r,a,o,u){var h=(h=be.current)?Bf(h):null;if(!h)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(a=Lo(o.href),o=Lr(h).hoistableStyles,u=o.get(a),u||(u={type:"style",instance:null,count:0,state:null},o.set(a,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Lo(o.href);var m=Lr(h).hoistableStyles,E=m.get(r);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(r,E),(m=h.querySelector(vu(r)))&&!m._p&&(E.instance=m,E.state.loading=5),Wn.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Wn.set(r,o),m||SI(h,r,o,E.state))),a&&u===null)throw Error(i(528,""));return E}if(a&&u!==null)throw Error(i(529,""));return null;case"script":return a=o.async,o=o.src,typeof o=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=ko(o),o=Lr(h).hoistableScripts,u=o.get(a),u||(u={type:"script",instance:null,count:0,state:null},o.set(a,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Lo(r){return'href="'+mn(r)+'"'}function vu(r){return'link[rel="stylesheet"]['+r+"]"}function MT(r){return _({},r,{"data-precedence":r.precedence,precedence:null})}function SI(r,a,o,u){r.querySelector('link[rel="preload"][as="style"]['+a+"]")?u.loading=1:(a=r.createElement("link"),u.preload=a,a.addEventListener("load",function(){return u.loading|=1}),a.addEventListener("error",function(){return u.loading|=2}),en(a,"link",o),Nt(a),r.head.appendChild(a))}function ko(r){return'[src="'+mn(r)+'"]'}function _u(r){return"script[async]"+r}function VT(r,a,o){if(a.count++,a.instance===null)switch(a.type){case"style":var u=r.querySelector('style[data-href~="'+mn(o.href)+'"]');if(u)return a.instance=u,Nt(u),u;var h=_({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),Nt(u),en(u,"style",h),Ff(u,o.precedence,r),a.instance=u;case"stylesheet":h=Lo(o.href);var m=r.querySelector(vu(h));if(m)return a.state.loading|=4,a.instance=m,Nt(m),m;u=MT(o),(h=Wn.get(h))&&Dp(u,h),m=(r.ownerDocument||r).createElement("link"),Nt(m);var E=m;return E._p=new Promise(function(b,V){E.onload=b,E.onerror=V}),en(m,"link",u),a.state.loading|=4,Ff(m,o.precedence,r),a.instance=m;case"script":return m=ko(o.src),(h=r.querySelector(_u(m)))?(a.instance=h,Nt(h),h):(u=o,(h=Wn.get(m))&&(u=_({},o),Op(u,h)),r=r.ownerDocument||r,h=r.createElement("script"),Nt(h),en(h,"link",u),r.head.appendChild(h),a.instance=h);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(u=a.instance,a.state.loading|=4,Ff(u,o.precedence,r));return a.instance}function Ff(r,a,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=u.length?u[u.length-1]:null,m=h,E=0;E<u.length;E++){var b=u[E];if(b.dataset.precedence===a)m=b;else if(m!==h)break}m?m.parentNode.insertBefore(r,m.nextSibling):(a=o.nodeType===9?o.head:o,a.insertBefore(r,a.firstChild))}function Dp(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.title==null&&(r.title=a.title)}function Op(r,a){r.crossOrigin==null&&(r.crossOrigin=a.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=a.referrerPolicy),r.integrity==null&&(r.integrity=a.integrity)}var $f=null;function LT(r,a,o){if($f===null){var u=new Map,h=$f=new Map;h.set(o,u)}else h=$f,u=h.get(o),u||(u=new Map,h.set(o,u));if(u.has(r))return u;for(u.set(r,null),o=o.getElementsByTagName(r),h=0;h<o.length;h++){var m=o[h];if(!(m[Mr]||m[It]||r==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var E=m.getAttribute(a)||"";E=r+E;var b=u.get(E);b?b.push(m):u.set(E,[m])}}return u}function kT(r,a,o){r=r.ownerDocument||r,r.head.insertBefore(o,a==="title"?r.querySelector("head > title"):null)}function bI(r,a,o){if(o===1||a.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return r=a.disabled,typeof a.precedence=="string"&&r==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function PT(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}function AI(r,a,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var h=Lo(u.href),m=a.querySelector(vu(h));if(m){a=m._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(r.count++,r=Hf.bind(r),a.then(r,r)),o.state.loading|=4,o.instance=m,Nt(m);return}m=a.ownerDocument||a,u=MT(u),(h=Wn.get(h))&&Dp(u,h),m=m.createElement("link"),Nt(m);var E=m;E._p=new Promise(function(b,V){E.onload=b,E.onerror=V}),en(m,"link",u),o.instance=m}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(o,a),(a=o.state.preload)&&(o.state.loading&3)===0&&(r.count++,o=Hf.bind(r),a.addEventListener("load",o),a.addEventListener("error",o))}}var Mp=0;function RI(r,a){return r.stylesheets&&r.count===0&&Gf(r,r.stylesheets),0<r.count||0<r.imgCount?function(o){var u=setTimeout(function(){if(r.stylesheets&&Gf(r,r.stylesheets),r.unsuspend){var m=r.unsuspend;r.unsuspend=null,m()}},6e4+a);0<r.imgBytes&&Mp===0&&(Mp=62500*sI());var h=setTimeout(function(){if(r.waitingForImages=!1,r.count===0&&(r.stylesheets&&Gf(r,r.stylesheets),r.unsuspend)){var m=r.unsuspend;r.unsuspend=null,m()}},(r.imgBytes>Mp?50:800)+a);return r.unsuspend=o,function(){r.unsuspend=null,clearTimeout(u),clearTimeout(h)}}:null}function Hf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Gf(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var qf=null;function Gf(r,a){r.stylesheets=null,r.unsuspend!==null&&(r.count++,qf=new Map,a.forEach(CI,r),qf=null,Hf.call(r))}function CI(r,a){if(!(a.state.loading&4)){var o=qf.get(r);if(o)var u=o.get(null);else{o=new Map,qf.set(r,o);for(var h=r.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<h.length;m++){var E=h[m];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}h=a.instance,E=h.getAttribute("data-precedence"),m=o.get(E)||u,m===u&&o.set(null,h),o.set(E,h),this.count++,u=Hf.bind(this),h.addEventListener("load",u),h.addEventListener("error",u),m?m.parentNode.insertBefore(h,m.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(h,r.firstChild)),a.state.loading|=4}}var Eu={$$typeof:Y,Provider:null,Consumer:null,_currentValue:ce,_currentValue2:ce,_threadCount:0};function II(r,a,o,u,h,m,E,b,V){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dr(0),this.hiddenUpdates=Dr(null),this.identifierPrefix=u,this.onUncaughtError=h,this.onCaughtError=m,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function UT(r,a,o,u,h,m,E,b,V,G,J,ne){return r=new II(r,a,o,E,V,G,J,ne,b),a=1,m===!0&&(a|=24),m=Cn(3,null,null,a),r.current=m,m.stateNode=r,a=hm(),a.refCount++,r.pooledCache=a,a.refCount++,m.memoizedState={element:u,isDehydrated:o,cache:a},gm(m),r}function jT(r){return r?(r=ho,r):ho}function zT(r,a,o,u,h,m){h=jT(h),u.context===null?u.context=h:u.pendingContext=h,u=la(a),u.payload={element:o},m=m===void 0?null:m,m!==null&&(u.callback=m),o=ua(r,u,a),o!==null&&(En(o,r,a),Jl(o,r,a))}function BT(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<a?o:a}}function Vp(r,a){BT(r,a),(r=r.alternate)&&BT(r,a)}function FT(r){if(r.tag===13||r.tag===31){var a=ms(r,67108864);a!==null&&En(a,r,67108864),Vp(r,67108864)}}function $T(r){if(r.tag===13||r.tag===31){var a=On();a=ns(a);var o=ms(r,a);o!==null&&En(o,r,a),Vp(r,a)}}var Kf=!0;function NI(r,a,o,u){var h=W.T;W.T=null;var m=se.p;try{se.p=2,Lp(r,a,o,u)}finally{se.p=m,W.T=h}}function xI(r,a,o,u){var h=W.T;W.T=null;var m=se.p;try{se.p=8,Lp(r,a,o,u)}finally{se.p=m,W.T=h}}function Lp(r,a,o,u){if(Kf){var h=kp(u);if(h===null)Tp(r,a,u,Yf,o),qT(r,u);else if(OI(h,r,a,o,u))u.stopPropagation();else if(qT(r,u),a&4&&-1<DI.indexOf(r)){for(;h!==null;){var m=zn(h);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var E=Nr(m.pendingLanes);if(E!==0){var b=m;for(b.pendingLanes|=2,b.entangledLanes|=2;E;){var V=1<<31-wt(E);b.entanglements[1]|=V,E&=~V}Yr(m),(Qe&6)===0&&(xf=$t()+500,mu(0))}}break;case 31:case 13:b=ms(m,2),b!==null&&En(b,m,2),Of(),Vp(m,2)}if(m=kp(u),m===null&&Tp(r,a,u,Yf,o),m===h)break;h=m}h!==null&&u.stopPropagation()}else Tp(r,a,u,null,o)}}function kp(r){return r=Bn(r),Pp(r)}var Yf=null;function Pp(r){if(Yf=null,r=Vr(r),r!==null){var a=l(r);if(a===null)r=null;else{var o=a.tag;if(o===13){if(r=c(a),r!==null)return r;r=null}else if(o===31){if(r=d(a),r!==null)return r;r=null}else if(o===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null)}}return Yf=r,null}function HT(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ai()){case ke:return 2;case Un:return 8;case ar:case $d:return 32;case Ac:return 268435456;default:return 32}default:return 32}}var Up=!1,Ea=null,Ta=null,wa=null,Tu=new Map,wu=new Map,Sa=[],DI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qT(r,a){switch(r){case"focusin":case"focusout":Ea=null;break;case"dragenter":case"dragleave":Ta=null;break;case"mouseover":case"mouseout":wa=null;break;case"pointerover":case"pointerout":Tu.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":wu.delete(a.pointerId)}}function Su(r,a,o,u,h,m){return r===null||r.nativeEvent!==m?(r={blockedOn:a,domEventName:o,eventSystemFlags:u,nativeEvent:m,targetContainers:[h]},a!==null&&(a=zn(a),a!==null&&FT(a)),r):(r.eventSystemFlags|=u,a=r.targetContainers,h!==null&&a.indexOf(h)===-1&&a.push(h),r)}function OI(r,a,o,u,h){switch(a){case"focusin":return Ea=Su(Ea,r,a,o,u,h),!0;case"dragenter":return Ta=Su(Ta,r,a,o,u,h),!0;case"mouseover":return wa=Su(wa,r,a,o,u,h),!0;case"pointerover":var m=h.pointerId;return Tu.set(m,Su(Tu.get(m)||null,r,a,o,u,h)),!0;case"gotpointercapture":return m=h.pointerId,wu.set(m,Su(wu.get(m)||null,r,a,o,u,h)),!0}return!1}function GT(r){var a=Vr(r.target);if(a!==null){var o=l(a);if(o!==null){if(a=o.tag,a===13){if(a=c(o),a!==null){r.blockedOn=a,lr(r.priority,function(){$T(o)});return}}else if(a===31){if(a=d(o),a!==null){r.blockedOn=a,lr(r.priority,function(){$T(o)});return}}else if(a===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Qf(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var o=kp(r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);kl=u,o.target.dispatchEvent(u),kl=null}else return a=zn(o),a!==null&&FT(a),r.blockedOn=o,!1;a.shift()}return!0}function KT(r,a,o){Qf(r)&&o.delete(a)}function MI(){Up=!1,Ea!==null&&Qf(Ea)&&(Ea=null),Ta!==null&&Qf(Ta)&&(Ta=null),wa!==null&&Qf(wa)&&(wa=null),Tu.forEach(KT),wu.forEach(KT)}function Xf(r,a){r.blockedOn===a&&(r.blockedOn=null,Up||(Up=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,MI)))}var Wf=null;function YT(r){Wf!==r&&(Wf=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Wf===r&&(Wf=null);for(var a=0;a<r.length;a+=3){var o=r[a],u=r[a+1],h=r[a+2];if(typeof u!="function"){if(Pp(u||o)===null)continue;break}var m=zn(o);m!==null&&(r.splice(a,3),a-=3,km(m,{pending:!0,data:h,method:o.method,action:u},u,h))}}))}function Po(r){function a(V){return Xf(V,r)}Ea!==null&&Xf(Ea,r),Ta!==null&&Xf(Ta,r),wa!==null&&Xf(wa,r),Tu.forEach(a),wu.forEach(a);for(var o=0;o<Sa.length;o++){var u=Sa[o];u.blockedOn===r&&(u.blockedOn=null)}for(;0<Sa.length&&(o=Sa[0],o.blockedOn===null);)GT(o),o.blockedOn===null&&Sa.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var h=o[u],m=o[u+1],E=h[Ht]||null;if(typeof m=="function")E||YT(o);else if(E){var b=null;if(m&&m.hasAttribute("formAction")){if(h=m,E=m[Ht]||null)b=E.formAction;else if(Pp(h)!==null)continue}else b=E.action;typeof b=="function"?o[u+1]=b:(o.splice(u,3),u-=3),YT(o)}}}function QT(){function r(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(E){return h=E})},focusReset:"manual",scroll:"manual"})}function a(){h!==null&&(h(),h=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,h=null;return navigation.addEventListener("navigate",r),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",r),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),h!==null&&(h(),h=null)}}}function jp(r){this._internalRoot=r}Jf.prototype.render=jp.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(i(409));var o=a.current,u=On();zT(o,u,r,a,null,null)},Jf.prototype.unmount=jp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;zT(r.current,2,null,r,null,null),Of(),a[Or]=null}};function Jf(r){this._internalRoot=r}Jf.prototype.unstable_scheduleHydration=function(r){if(r){var a=Dc();r={blockedOn:null,target:r,priority:a};for(var o=0;o<Sa.length&&a!==0&&a<Sa[o].priority;o++);Sa.splice(o,0,r),o===0&&GT(r)}};var XT=e.version;if(XT!=="19.2.0")throw Error(i(527,XT,"19.2.0"));se.findDOMNode=function(r){var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=g(a),r=r!==null?v(r):null,r=r===null?null:r.stateNode,r};var VI={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zf.isDisabled&&Zf.supportsFiber)try{sr=Zf.inject(VI),Qt=Zf}catch{}}return Au.createRoot=function(r,a){if(!s(r))throw Error(i(299));var o=!1,u="",h=rE,m=iE,E=aE;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError)),a=UT(r,1,!1,null,null,o,u,null,h,m,E,QT),r[Or]=a.current,Ep(r),new jp(a)},Au.hydrateRoot=function(r,a,o){if(!s(r))throw Error(i(299));var u=!1,h="",m=rE,E=iE,b=aE,V=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(b=o.onRecoverableError),o.formState!==void 0&&(V=o.formState)),a=UT(r,1,!0,a,o??null,u,h,V,m,E,b,QT),a.context=jT(null),o=a.current,u=On(),u=ns(u),h=la(u),h.callback=null,ua(o,h,u),o=u,a.current.lanes=o,es(a,o),Yr(a),r[Or]=a.current,Ep(r),new Jf(a)},Au.version="19.2.0",Au}var sw;function $I(){if(sw)return Bp.exports;sw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Bp.exports=FI(),Bp.exports}var HI=$I(),w=ry();const Ni=ed(w);/**
 * react-router v7.9.6
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ow="popstate";function qI(n={}){function e(s,l){let{pathname:c="/",search:d="",hash:p=""}=zs(s.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Eg("",{pathname:c,search:d,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(s,l){let c=s.document.querySelector("base"),d="";if(c&&c.getAttribute("href")){let p=s.location.href,g=p.indexOf("#");d=g===-1?p:p.slice(0,g)}return d+"#"+(typeof l=="string"?l:Fu(l))}function i(s,l){tr(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return KI(e,t,i,n)}function gt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function tr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GI(){return Math.random().toString(36).substring(2,10)}function lw(n,e){return{usr:n.state,key:n.key,idx:e}}function Eg(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?zs(e):e,state:t,key:e&&e.key||i||GI()}}function Fu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function zs(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function KI(n,e,t,i={}){let{window:s=document.defaultView,v5Compat:l=!1}=i,c=s.history,d="POP",p=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function _(){d="POP";let C=v(),z=C==null?null:C-g;g=C,p&&p({action:d,location:k.location,delta:z})}function S(C,z){d="PUSH";let $=Eg(k.location,C,z);t&&t($,C),g=v()+1;let Y=lw($,g),oe=k.createHref($);try{c.pushState(Y,"",oe)}catch(fe){if(fe instanceof DOMException&&fe.name==="DataCloneError")throw fe;s.location.assign(oe)}l&&p&&p({action:d,location:k.location,delta:1})}function I(C,z){d="REPLACE";let $=Eg(k.location,C,z);t&&t($,C),g=v();let Y=lw($,g),oe=k.createHref($);c.replaceState(Y,"",oe),l&&p&&p({action:d,location:k.location,delta:0})}function O(C){return YI(C)}let k={get action(){return d},get location(){return n(s,c)},listen(C){if(p)throw new Error("A history only accepts one active listener");return s.addEventListener(ow,_),p=C,()=>{s.removeEventListener(ow,_),p=null}},createHref(C){return e(s,C)},createURL:O,encodeLocation(C){let z=O(C);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:S,replace:I,go(C){return c.go(C)}};return k}function YI(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),gt(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Fu(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function wS(n,e,t="/"){return QI(n,e,t,!1)}function QI(n,e,t,i){let s=typeof e=="string"?zs(e):e,l=Pi(s.pathname||"/",t);if(l==null)return null;let c=SS(n);XI(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let g=oN(l);d=aN(c[p],g,i)}return d}function SS(n,e=[],t=[],i="",s=!1){let l=(c,d,p=s,g)=>{let v={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&p)return;gt(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let _=Oi([i,v.relativePath]),S=t.concat(v);c.children&&c.children.length>0&&(gt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),SS(c.children,e,S,_,p)),!(c.path==null&&!c.index)&&e.push({path:_,score:rN(_,c.index),routesMeta:S})};return n.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let p of bS(c.path))l(c,d,!0,p)}),e}function bS(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return s?[l,""]:[l];let c=bS(i.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),s&&d.push(...c),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function XI(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:iN(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var WI=/^:[\w-]+$/,JI=3,ZI=2,eN=1,tN=10,nN=-2,uw=n=>n==="*";function rN(n,e){let t=n.split("/"),i=t.length;return t.some(uw)&&(i+=nN),e&&(i+=ZI),t.filter(s=>!uw(s)).reduce((s,l)=>s+(WI.test(l)?JI:l===""?eN:tN),i)}function iN(n,e){return n.length===e.length&&n.slice(0,-1).every((i,s)=>i===e[s])?n[n.length-1]-e[e.length-1]:0}function aN(n,e,t=!1){let{routesMeta:i}=n,s={},l="/",c=[];for(let d=0;d<i.length;++d){let p=i[d],g=d===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",_=Rh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),S=p.route;if(!_&&g&&t&&!i[i.length-1].route.index&&(_=Rh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!_)return null;Object.assign(s,_.params),c.push({params:s,pathname:Oi([l,_.pathname]),pathnameBase:hN(Oi([l,_.pathnameBase])),route:S}),_.pathnameBase!=="/"&&(l=Oi([l,_.pathnameBase]))}return c}function Rh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=sN(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let l=s[0],c=l.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:i.reduce((g,{paramName:v,isOptional:_},S)=>{if(v==="*"){let O=d[S]||"";c=l.slice(0,l.length-O.length).replace(/(.)\/+$/,"$1")}const I=d[S];return _&&!I?g[v]=void 0:g[v]=(I||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:n}}function sN(n,e=!1,t=!0){tr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function oN(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Pi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}var lN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uN=n=>lN.test(n);function cN(n,e="/"){let{pathname:t,search:i="",hash:s=""}=typeof n=="string"?zs(n):n,l;if(t)if(uN(t))l=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),tr(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${t}`)}t.startsWith("/")?l=cw(t.substring(1),"/"):l=cw(t,e)}else l=e;return{pathname:l,search:dN(i),hash:mN(s)}}function cw(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Gp(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function fN(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function AS(n){let e=fN(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function RS(n,e,t,i=!1){let s;typeof n=="string"?s=zs(n):(s={...n},gt(!s.pathname||!s.pathname.includes("?"),Gp("?","pathname","search",s)),gt(!s.pathname||!s.pathname.includes("#"),Gp("#","pathname","hash",s)),gt(!s.search||!s.search.includes("#"),Gp("#","search","hash",s)));let l=n===""||s.pathname==="",c=l?"/":s.pathname,d;if(c==null)d=t;else{let _=e.length-1;if(!i&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),_-=1;s.pathname=S.join("/")}d=_>=0?e[_]:"/"}let p=cN(s,d),g=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var Oi=n=>n.join("/").replace(/\/\/+/g,"/"),hN=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),dN=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,mN=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function pN(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var CS=["POST","PUT","PATCH","DELETE"];new Set(CS);var gN=["GET",...CS];new Set(gN);var sl=w.createContext(null);sl.displayName="DataRouter";var td=w.createContext(null);td.displayName="DataRouterState";w.createContext(!1);var IS=w.createContext({isTransitioning:!1});IS.displayName="ViewTransition";var yN=w.createContext(new Map);yN.displayName="Fetchers";var vN=w.createContext(null);vN.displayName="Await";var ii=w.createContext(null);ii.displayName="Navigation";var rc=w.createContext(null);rc.displayName="Location";var qi=w.createContext({outlet:null,matches:[],isDataRoute:!1});qi.displayName="Route";var iy=w.createContext(null);iy.displayName="RouteError";function _N(n,{relative:e}={}){gt(ic(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=w.useContext(ii),{hash:s,pathname:l,search:c}=ac(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:Oi([t,l])),i.createHref({pathname:d,search:c,hash:s})}function ic(){return w.useContext(rc)!=null}function Bs(){return gt(ic(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(rc).location}var NS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xS(n){w.useContext(ii).static||w.useLayoutEffect(n)}function ol(){let{isDataRoute:n}=w.useContext(qi);return n?ON():EN()}function EN(){gt(ic(),"useNavigate() may be used only in the context of a <Router> component.");let n=w.useContext(sl),{basename:e,navigator:t}=w.useContext(ii),{matches:i}=w.useContext(qi),{pathname:s}=Bs(),l=JSON.stringify(AS(i)),c=w.useRef(!1);return xS(()=>{c.current=!0}),w.useCallback((p,g={})=>{if(tr(c.current,NS),!c.current)return;if(typeof p=="number"){t.go(p);return}let v=RS(p,JSON.parse(l),s,g.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Oi([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,l,s,n])}w.createContext(null);function ac(n,{relative:e}={}){let{matches:t}=w.useContext(qi),{pathname:i}=Bs(),s=JSON.stringify(AS(t));return w.useMemo(()=>RS(n,JSON.parse(s),i,e==="path"),[n,s,i,e])}function TN(n,e){return DS(n,e)}function DS(n,e,t,i,s){gt(ic(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=w.useContext(ii),{matches:c}=w.useContext(qi),d=c[c.length-1],p=d?d.params:{},g=d?d.pathname:"/",v=d?d.pathnameBase:"/",_=d&&d.route;{let $=_&&_.path||"";OS(g,!_||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let S=Bs(),I;if(e){let $=typeof e=="string"?zs(e):e;gt(v==="/"||$.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${$.pathname}" was given in the \`location\` prop.`),I=$}else I=S;let O=I.pathname||"/",k=O;if(v!=="/"){let $=v.replace(/^\//,"").split("/");k="/"+O.replace(/^\//,"").split("/").slice($.length).join("/")}let C=wS(n,{pathname:k});tr(_||C!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),tr(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=RN(C&&C.map($=>Object.assign({},$,{params:Object.assign({},p,$.params),pathname:Oi([v,l.encodeLocation?l.encodeLocation($.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?v:Oi([v,l.encodeLocation?l.encodeLocation($.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathnameBase])})),c,t,i,s);return e&&z?w.createElement(rc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},z):z}function wN(){let n=DN(),e=pN(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:l},"ErrorBoundary")," or"," ",w.createElement("code",{style:l},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),t?w.createElement("pre",{style:s},t):null,c)}var SN=w.createElement(wN,null),bN=class extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?w.createElement(qi.Provider,{value:this.props.routeContext},w.createElement(iy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function AN({routeContext:n,match:e,children:t}){let i=w.useContext(sl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(qi.Provider,{value:n},t)}function RN(n,e=[],t=null,i=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,c=t?.errors;if(c!=null){let v=l.findIndex(_=>_.route.id&&c?.[_.route.id]!==void 0);gt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let d=!1,p=-1;if(t)for(let v=0;v<l.length;v++){let _=l[v];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=v),_.route.id){let{loaderData:S,errors:I}=t,O=_.route.loader&&!S.hasOwnProperty(_.route.id)&&(!I||I[_.route.id]===void 0);if(_.route.lazy||O){d=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let g=t&&i?(v,_)=>{i(v,{location:t.location,params:t.matches?.[0]?.params??{},errorInfo:_})}:void 0;return l.reduceRight((v,_,S)=>{let I,O=!1,k=null,C=null;t&&(I=c&&_.route.id?c[_.route.id]:void 0,k=_.route.errorElement||SN,d&&(p<0&&S===0?(OS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,C=null):p===S&&(O=!0,C=_.route.hydrateFallbackElement||null)));let z=e.concat(l.slice(0,S+1)),$=()=>{let Y;return I?Y=k:O?Y=C:_.route.Component?Y=w.createElement(_.route.Component,null):_.route.element?Y=_.route.element:Y=v,w.createElement(AN,{match:_,routeContext:{outlet:v,matches:z,isDataRoute:t!=null},children:Y})};return t&&(_.route.ErrorBoundary||_.route.errorElement||S===0)?w.createElement(bN,{location:t.location,revalidation:t.revalidation,component:k,error:I,children:$(),routeContext:{outlet:null,matches:z,isDataRoute:!0},onError:g}):$()},null)}function ay(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CN(n){let e=w.useContext(sl);return gt(e,ay(n)),e}function IN(n){let e=w.useContext(td);return gt(e,ay(n)),e}function NN(n){let e=w.useContext(qi);return gt(e,ay(n)),e}function sy(n){let e=NN(n),t=e.matches[e.matches.length-1];return gt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function xN(){return sy("useRouteId")}function DN(){let n=w.useContext(iy),e=IN("useRouteError"),t=sy("useRouteError");return n!==void 0?n:e.errors?.[t]}function ON(){let{router:n}=CN("useNavigate"),e=sy("useNavigate"),t=w.useRef(!1);return xS(()=>{t.current=!0}),w.useCallback(async(s,l={})=>{tr(t.current,NS),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...l}))},[n,e])}var fw={};function OS(n,e,t){!e&&!fw[n]&&(fw[n]=!0,tr(!1,t))}w.memo(MN);function MN({routes:n,future:e,state:t,unstable_onError:i}){return DS(n,void 0,t,i,e)}function Ra(n){gt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function VN({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:s,static:l=!1}){gt(!ic(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),d=w.useMemo(()=>({basename:c,navigator:s,static:l,future:{}}),[c,s,l]);typeof t=="string"&&(t=zs(t));let{pathname:p="/",search:g="",hash:v="",state:_=null,key:S="default"}=t,I=w.useMemo(()=>{let O=Pi(p,c);return O==null?null:{location:{pathname:O,search:g,hash:v,state:_,key:S},navigationType:i}},[c,p,g,v,_,S,i]);return tr(I!=null,`<Router basename="${c}"> is not able to match the URL "${p}${g}${v}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:w.createElement(ii.Provider,{value:d},w.createElement(rc.Provider,{children:e,value:I}))}function LN({children:n,location:e}){return TN(Tg(n),e)}function Tg(n,e=[]){let t=[];return w.Children.forEach(n,(i,s)=>{if(!w.isValidElement(i))return;let l=[...e,s];if(i.type===w.Fragment){t.push.apply(t,Tg(i.props.children,l));return}gt(i.type===Ra,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),gt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Tg(i.props.children,l)),t.push(c)}),t}var hh="get",dh="application/x-www-form-urlencoded";function nd(n){return n!=null&&typeof n.tagName=="string"}function kN(n){return nd(n)&&n.tagName.toLowerCase()==="button"}function PN(n){return nd(n)&&n.tagName.toLowerCase()==="form"}function UN(n){return nd(n)&&n.tagName.toLowerCase()==="input"}function jN(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function zN(n,e){return n.button===0&&(!e||e==="_self")&&!jN(n)}var eh=null;function BN(){if(eh===null)try{new FormData(document.createElement("form"),0),eh=!1}catch{eh=!0}return eh}var FN=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Kp(n){return n!=null&&!FN.has(n)?(tr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${dh}"`),null):n}function $N(n,e){let t,i,s,l,c;if(PN(n)){let d=n.getAttribute("action");i=d?Pi(d,e):null,t=n.getAttribute("method")||hh,s=Kp(n.getAttribute("enctype"))||dh,l=new FormData(n)}else if(kN(n)||UN(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||d.getAttribute("action");if(i=p?Pi(p,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||hh,s=Kp(n.getAttribute("formenctype"))||Kp(d.getAttribute("enctype"))||dh,l=new FormData(d,n),!BN()){let{name:g,type:v,value:_}=n;if(v==="image"){let S=g?`${g}.`:"";l.append(`${S}x`,"0"),l.append(`${S}y`,"0")}else g&&l.append(g,_)}}else{if(nd(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=hh,i=null,s=dh,c=n}return l&&s==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:s,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function oy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function HN(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&Pi(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function qN(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function GN(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function KN(n,e,t){let i=await Promise.all(n.map(async s=>{let l=e.routes[s.route.id];if(l){let c=await qN(l,t);return c.links?c.links():[]}return[]}));return WN(i.flat(1).filter(GN).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function hw(n,e,t,i,s,l){let c=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>t[g].pathname!==p.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,g)=>c(p,g)||d(p,g)):l==="data"?e.filter((p,g)=>{let v=i.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(c(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let _=p.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function YN(n,e,{includeHydrateFallback:t}={}){return QN(n.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let l=[s.module];return s.clientActionModule&&(l=l.concat(s.clientActionModule)),s.clientLoaderModule&&(l=l.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(l=l.concat(s.hydrateFallbackModule)),s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function QN(n){return[...new Set(n)]}function XN(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function WN(n,e){let t=new Set;return new Set(e),n.reduce((i,s)=>{let l=JSON.stringify(XN(s));return t.has(l)||(t.add(l),i.push({key:l,link:s})),i},[])}function MS(){let n=w.useContext(sl);return oy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function JN(){let n=w.useContext(td);return oy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var ly=w.createContext(void 0);ly.displayName="FrameworkContext";function VS(){let n=w.useContext(ly);return oy(n,"You must render this element inside a <HydratedRouter> element"),n}function ZN(n,e){let t=w.useContext(ly),[i,s]=w.useState(!1),[l,c]=w.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:_}=e,S=w.useRef(null);w.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let k=z=>{z.forEach($=>{c($.isIntersecting)})},C=new IntersectionObserver(k,{threshold:.5});return S.current&&C.observe(S.current),()=>{C.disconnect()}}},[n]),w.useEffect(()=>{if(i){let k=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(k)}}},[i]);let I=()=>{s(!0)},O=()=>{s(!1),c(!1)};return t?n!=="intent"?[l,S,{}]:[l,S,{onFocus:Ru(d,I),onBlur:Ru(p,O),onMouseEnter:Ru(g,I),onMouseLeave:Ru(v,O),onTouchStart:Ru(_,I)}]:[!1,S,{}]}function Ru(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function ex({page:n,...e}){let{router:t}=MS(),i=w.useMemo(()=>wS(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?w.createElement(nx,{page:n,matches:i,...e}):null}function tx(n){let{manifest:e,routeModules:t}=VS(),[i,s]=w.useState([]);return w.useEffect(()=>{let l=!1;return KN(n,e,t).then(c=>{l||s(c)}),()=>{l=!0}},[n,e,t]),i}function nx({page:n,matches:e,...t}){let i=Bs(),{manifest:s,routeModules:l}=VS(),{basename:c}=MS(),{loaderData:d,matches:p}=JN(),g=w.useMemo(()=>hw(n,e,p,s,i,"data"),[n,e,p,s,i]),v=w.useMemo(()=>hw(n,e,p,s,i,"assets"),[n,e,p,s,i]),_=w.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let O=new Set,k=!1;if(e.forEach(z=>{let $=s.routes[z.route.id];!$||!$.hasLoader||(!g.some(Y=>Y.route.id===z.route.id)&&z.route.id in d&&l[z.route.id]?.shouldRevalidate||$.hasClientLoader?k=!0:O.add(z.route.id))}),O.size===0)return[];let C=HN(n,c,"data");return k&&O.size>0&&C.searchParams.set("_routes",e.filter(z=>O.has(z.route.id)).map(z=>z.route.id).join(",")),[C.pathname+C.search]},[c,d,i,s,g,e,n,l]),S=w.useMemo(()=>YN(v,s),[v,s]),I=tx(v);return w.createElement(w.Fragment,null,_.map(O=>w.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...t})),S.map(O=>w.createElement("link",{key:O,rel:"modulepreload",href:O,...t})),I.map(({key:O,link:k})=>w.createElement("link",{key:O,nonce:t.nonce,...k})))}function rx(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var LS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{LS&&(window.__reactRouterVersion="7.9.6")}catch{}function ix({basename:n,children:e,window:t}){let i=w.useRef();i.current==null&&(i.current=qI({window:t,v5Compat:!0}));let s=i.current,[l,c]=w.useState({action:s.action,location:s.location}),d=w.useCallback(p=>{w.startTransition(()=>c(p))},[c]);return w.useLayoutEffect(()=>s.listen(d),[s,d]),w.createElement(VN,{basename:n,children:e,location:l.location,navigationType:l.action,navigator:s})}var kS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xr=w.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:s,reloadDocument:l,replace:c,state:d,target:p,to:g,preventScrollReset:v,viewTransition:_,...S},I){let{basename:O}=w.useContext(ii),k=typeof g=="string"&&kS.test(g),C,z=!1;if(typeof g=="string"&&k&&(C=g,LS))try{let D=new URL(window.location.href),P=g.startsWith("//")?new URL(D.protocol+g):new URL(g),L=Pi(P.pathname,O);P.origin===D.origin&&L!=null?g=L+P.search+P.hash:z=!0}catch{tr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=_N(g,{relative:s}),[Y,oe,fe]=ZN(i,S),ue=lx(g,{replace:c,state:d,target:p,preventScrollReset:v,relative:s,viewTransition:_});function x(D){e&&e(D),D.defaultPrevented||ue(D)}let N=w.createElement("a",{...S,...fe,href:C||$,onClick:z||l?e:x,ref:rx(I,oe),target:p,"data-discover":!k&&t==="render"?"true":void 0});return Y&&!k?w.createElement(w.Fragment,null,N,w.createElement(ex,{page:$})):N});Xr.displayName="Link";var ax=w.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:s=!1,style:l,to:c,viewTransition:d,children:p,...g},v){let _=ac(c,{relative:g.relative}),S=Bs(),I=w.useContext(td),{navigator:O,basename:k}=w.useContext(ii),C=I!=null&&dx(_)&&d===!0,z=O.encodeLocation?O.encodeLocation(_).pathname:_.pathname,$=S.pathname,Y=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;t||($=$.toLowerCase(),Y=Y?Y.toLowerCase():null,z=z.toLowerCase()),Y&&k&&(Y=Pi(Y,k)||Y);const oe=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let fe=$===z||!s&&$.startsWith(z)&&$.charAt(oe)==="/",ue=Y!=null&&(Y===z||!s&&Y.startsWith(z)&&Y.charAt(z.length)==="/"),x={isActive:fe,isPending:ue,isTransitioning:C},N=fe?e:void 0,D;typeof i=="function"?D=i(x):D=[i,fe?"active":null,ue?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(x):l;return w.createElement(Xr,{...g,"aria-current":N,className:D,ref:v,style:P,to:c,viewTransition:d},typeof p=="function"?p(x):p)});ax.displayName="NavLink";var sx=w.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:s,state:l,method:c=hh,action:d,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:_,...S},I)=>{let O=fx(),k=hx(d,{relative:g}),C=c.toLowerCase()==="get"?"get":"post",z=typeof d=="string"&&kS.test(d),$=Y=>{if(p&&p(Y),Y.defaultPrevented)return;Y.preventDefault();let oe=Y.nativeEvent.submitter,fe=oe?.getAttribute("formmethod")||c;O(oe||Y.currentTarget,{fetcherKey:e,method:fe,navigate:t,replace:s,state:l,relative:g,preventScrollReset:v,viewTransition:_})};return w.createElement("form",{ref:I,method:C,action:k,onSubmit:i?p:$,...S,"data-discover":!z&&n==="render"?"true":void 0})});sx.displayName="Form";function ox(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PS(n){let e=w.useContext(sl);return gt(e,ox(n)),e}function lx(n,{target:e,replace:t,state:i,preventScrollReset:s,relative:l,viewTransition:c}={}){let d=ol(),p=Bs(),g=ac(n,{relative:l});return w.useCallback(v=>{if(zN(v,e)){v.preventDefault();let _=t!==void 0?t:Fu(p)===Fu(g);d(n,{replace:_,state:i,preventScrollReset:s,relative:l,viewTransition:c})}},[p,d,g,t,i,e,n,s,l,c])}var ux=0,cx=()=>`__${String(++ux)}__`;function fx(){let{router:n}=PS("useSubmit"),{basename:e}=w.useContext(ii),t=xN();return w.useCallback(async(i,s={})=>{let{action:l,method:c,encType:d,formData:p,body:g}=$N(i,e);if(s.navigate===!1){let v=s.fetcherKey||cx();await n.fetch(v,t,s.action||l,{preventScrollReset:s.preventScrollReset,formData:p,body:g,formMethod:s.method||c,formEncType:s.encType||d,flushSync:s.flushSync})}else await n.navigate(s.action||l,{preventScrollReset:s.preventScrollReset,formData:p,body:g,formMethod:s.method||c,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function hx(n,{relative:e}={}){let{basename:t}=w.useContext(ii),i=w.useContext(qi);gt(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),l={...ac(n||".",{relative:e})},c=Bs();if(n==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(v=>v==="")){d.delete("index"),p.filter(_=>_).forEach(_=>d.append("index",_));let v=d.toString();l.search=v?`?${v}`:""}}return(!n||n===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Oi([t,l.pathname])),Fu(l)}function dx(n,{relative:e}={}){let t=w.useContext(IS);gt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=PS("useViewTransitionState"),s=ac(n,{relative:e});if(!t.isTransitioning)return!1;let l=Pi(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Pi(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Rh(s.pathname,c)!=null||Rh(s.pathname,l)!=null}var Yp={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var dw;function mx(){return dw||(dw=1,(function(n){(function(){var e={}.hasOwnProperty;function t(){for(var l="",c=0;c<arguments.length;c++){var d=arguments[c];d&&(l=s(l,i(d)))}return l}function i(l){if(typeof l=="string"||typeof l=="number")return l;if(typeof l!="object")return"";if(Array.isArray(l))return t.apply(null,l);if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]"))return l.toString();var c="";for(var d in l)e.call(l,d)&&l[d]&&(c=s(c,d));return c}function s(l,c){return c?l?l+" "+c:l+c:l}n.exports?(t.default=t,n.exports=t):window.classNames=t})()})(Yp)),Yp.exports}var px=mx();const ge=ed(px);function wg(){return wg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)({}).hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},wg.apply(null,arguments)}function US(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)!==-1)continue;t[i]=n[i]}return t}function mw(n){return"default"+n.charAt(0).toUpperCase()+n.substr(1)}function gx(n){var e=yx(n,"string");return typeof e=="symbol"?e:String(e)}function yx(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var i=t.call(n,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function vx(n,e,t){var i=w.useRef(n!==void 0),s=w.useState(e),l=s[0],c=s[1],d=n!==void 0,p=i.current;return i.current=d,!d&&p&&l!==e&&c(e),[d?n:l,w.useCallback(function(g){for(var v=arguments.length,_=new Array(v>1?v-1:0),S=1;S<v;S++)_[S-1]=arguments[S];t&&t.apply(void 0,[g].concat(_)),c(g)},[t])]}function uy(n,e){return Object.keys(e).reduce(function(t,i){var s,l=t,c=l[mw(i)],d=l[i],p=US(l,[mw(i),i].map(gx)),g=e[i],v=vx(d,c,n[g]),_=v[0],S=v[1];return wg({},p,(s={},s[i]=_,s[g]=S,s))},n)}function Sg(n,e){return Sg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,i){return t.__proto__=i,t},Sg(n,e)}function _x(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Sg(n,e)}const Ex=["xxl","xl","lg","md","sm","xs"],Tx="xs",sc=w.createContext({prefixes:{},breakpoints:Ex,minBreakpoint:Tx}),{Consumer:G6,Provider:K6}=sc;function Te(n,e){const{prefixes:t}=w.useContext(sc);return n||t[e]||e}function jS(){const{breakpoints:n}=w.useContext(sc);return n}function zS(){const{minBreakpoint:n}=w.useContext(sc);return n}function wx(){const{dir:n}=w.useContext(sc);return n==="rtl"}function rd(n){return n&&n.ownerDocument||document}function Sx(n){var e=rd(n);return e&&e.defaultView||window}function bx(n,e){return Sx(n).getComputedStyle(n,e)}var Ax=/([A-Z])/g;function Rx(n){return n.replace(Ax,"-$1").toLowerCase()}var Cx=/^ms-/;function th(n){return Rx(n).replace(Cx,"-ms-")}var Ix=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function Nx(n){return!!(n&&Ix.test(n))}function Mi(n,e){var t="",i="";if(typeof e=="string")return n.style.getPropertyValue(th(e))||bx(n).getPropertyValue(th(e));Object.keys(e).forEach(function(s){var l=e[s];!l&&l!==0?n.style.removeProperty(th(s)):Nx(s)?i+=s+"("+l+") ":t+=th(s)+": "+l+";"}),i&&(t+="transform: "+i+";"),n.style.cssText+=";"+t}var Qp={exports:{}},Xp,pw;function xx(){if(pw)return Xp;pw=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Xp=n,Xp}var Wp,gw;function Dx(){if(gw)return Wp;gw=1;var n=xx();function e(){}function t(){}return t.resetWarningCache=e,Wp=function(){function i(c,d,p,g,v,_){if(_!==n){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}i.isRequired=i;function s(){return i}var l={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:s,element:i,elementType:i,instanceOf:s,node:i,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return l.PropTypes=l,l},Wp}var yw;function Ox(){return yw||(yw=1,Qp.exports=Dx()()),Qp.exports}var Mx=Ox();const Vi=ed(Mx);var Vx=TS();const qo=ed(Vx),vw={disabled:!1},BS=Ni.createContext(null);var Lx=function(e){return e.scrollTop},xu="unmounted",Ca="exited",vr="entering",Ai="entered",$u="exiting",Gi=(function(n){_x(e,n);function e(i,s){var l;l=n.call(this,i,s)||this;var c=s,d=c&&!c.isMounting?i.enter:i.appear,p;return l.appearStatus=null,i.in?d?(p=Ca,l.appearStatus=vr):p=Ai:i.unmountOnExit||i.mountOnEnter?p=xu:p=Ca,l.state={status:p},l.nextCallback=null,l}e.getDerivedStateFromProps=function(s,l){var c=s.in;return c&&l.status===xu?{status:Ca}:null};var t=e.prototype;return t.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},t.componentDidUpdate=function(s){var l=null;if(s!==this.props){var c=this.state.status;this.props.in?c!==vr&&c!==Ai&&(l=vr):(c===vr||c===Ai)&&(l=$u)}this.updateStatus(!1,l)},t.componentWillUnmount=function(){this.cancelNextCallback()},t.getTimeouts=function(){var s=this.props.timeout,l,c,d;return l=c=d=s,s!=null&&typeof s!="number"&&(l=s.exit,c=s.enter,d=s.appear!==void 0?s.appear:c),{exit:l,enter:c,appear:d}},t.updateStatus=function(s,l){if(s===void 0&&(s=!1),l!==null)if(this.cancelNextCallback(),l===vr){if(this.props.unmountOnExit||this.props.mountOnEnter){var c=this.props.nodeRef?this.props.nodeRef.current:qo.findDOMNode(this);c&&Lx(c)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ca&&this.setState({status:xu})},t.performEnter=function(s){var l=this,c=this.props.enter,d=this.context?this.context.isMounting:s,p=this.props.nodeRef?[d]:[qo.findDOMNode(this),d],g=p[0],v=p[1],_=this.getTimeouts(),S=d?_.appear:_.enter;if(!s&&!c||vw.disabled){this.safeSetState({status:Ai},function(){l.props.onEntered(g)});return}this.props.onEnter(g,v),this.safeSetState({status:vr},function(){l.props.onEntering(g,v),l.onTransitionEnd(S,function(){l.safeSetState({status:Ai},function(){l.props.onEntered(g,v)})})})},t.performExit=function(){var s=this,l=this.props.exit,c=this.getTimeouts(),d=this.props.nodeRef?void 0:qo.findDOMNode(this);if(!l||vw.disabled){this.safeSetState({status:Ca},function(){s.props.onExited(d)});return}this.props.onExit(d),this.safeSetState({status:$u},function(){s.props.onExiting(d),s.onTransitionEnd(c.exit,function(){s.safeSetState({status:Ca},function(){s.props.onExited(d)})})})},t.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},t.safeSetState=function(s,l){l=this.setNextCallback(l),this.setState(s,l)},t.setNextCallback=function(s){var l=this,c=!0;return this.nextCallback=function(d){c&&(c=!1,l.nextCallback=null,s(d))},this.nextCallback.cancel=function(){c=!1},this.nextCallback},t.onTransitionEnd=function(s,l){this.setNextCallback(l);var c=this.props.nodeRef?this.props.nodeRef.current:qo.findDOMNode(this),d=s==null&&!this.props.addEndListener;if(!c||d){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var p=this.props.nodeRef?[this.nextCallback]:[c,this.nextCallback],g=p[0],v=p[1];this.props.addEndListener(g,v)}s!=null&&setTimeout(this.nextCallback,s)},t.render=function(){var s=this.state.status;if(s===xu)return null;var l=this.props,c=l.children;l.in,l.mountOnEnter,l.unmountOnExit,l.appear,l.enter,l.exit,l.timeout,l.addEndListener,l.onEnter,l.onEntering,l.onEntered,l.onExit,l.onExiting,l.onExited,l.nodeRef;var d=US(l,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ni.createElement(BS.Provider,{value:null},typeof c=="function"?c(s,d):Ni.cloneElement(Ni.Children.only(c),d))},e})(Ni.Component);Gi.contextType=BS;Gi.propTypes={};function Uo(){}Gi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Uo,onEntering:Uo,onEntered:Uo,onExit:Uo,onExiting:Uo,onExited:Uo};Gi.UNMOUNTED=xu;Gi.EXITED=Ca;Gi.ENTERING=vr;Gi.ENTERED=Ai;Gi.EXITING=$u;function kx(n){return n.code==="Escape"||n.keyCode===27}function Px(){const n=w.version.split(".");return{major:+n[0],minor:+n[1],patch:+n[2]}}function ll(n){if(!n||typeof n=="function")return null;const{major:e}=Px();return e>=19?n.props.ref:n.ref}const ul=!!(typeof window<"u"&&window.document&&window.document.createElement);var bg=!1,Ag=!1;try{var Jp={get passive(){return bg=!0},get once(){return Ag=bg=!0}};ul&&(window.addEventListener("test",Jp,Jp),window.removeEventListener("test",Jp,!0))}catch{}function FS(n,e,t,i){if(i&&typeof i!="boolean"&&!Ag){var s=i.once,l=i.capture,c=t;!Ag&&s&&(c=t.__once||function d(p){this.removeEventListener(e,d,l),t.call(this,p)},t.__once=c),n.addEventListener(e,c,bg?i:l)}n.addEventListener(e,t,i)}function Rg(n,e,t,i){var s=i&&typeof i!="boolean"?i.capture:i;n.removeEventListener(e,t,s),t.__once&&n.removeEventListener(e,t.__once,s)}function Ch(n,e,t,i){return FS(n,e,t,i),function(){Rg(n,e,t,i)}}function Ux(n,e,t,i){if(i===void 0&&(i=!0),n){var s=document.createEvent("HTMLEvents");s.initEvent(e,t,i),n.dispatchEvent(s)}}function jx(n){var e=Mi(n,"transitionDuration")||"",t=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*t}function zx(n,e,t){t===void 0&&(t=5);var i=!1,s=setTimeout(function(){i||Ux(n,"transitionend",!0)},e+t),l=Ch(n,"transitionend",function(){i=!0},{once:!0});return function(){clearTimeout(s),l()}}function $S(n,e,t,i){t==null&&(t=jx(n)||0);var s=zx(n,t,i),l=Ch(n,"transitionend",e);return function(){s(),l()}}function _w(n,e){const t=Mi(n,e)||"",i=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*i}function cy(n,e){const t=_w(n,"transitionDuration"),i=_w(n,"transitionDelay"),s=$S(n,l=>{l.target===n&&(s(),e(l))},t+i)}function Cu(...n){return n.filter(e=>e!=null).reduce((e,t)=>{if(typeof t!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?t:function(...s){e.apply(this,s),t.apply(this,s)}},null)}function HS(n){n.offsetHeight}const Ew=n=>!n||typeof n=="function"?n:e=>{n.current=e};function Bx(n,e){const t=Ew(n),i=Ew(e);return s=>{t&&t(s),i&&i(s)}}function qS(n,e){return w.useMemo(()=>Bx(n,e),[n,e])}function Fx(n){return n&&"setState"in n?qo.findDOMNode(n):n??null}const id=Ni.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:i,onExiting:s,onExited:l,addEndListener:c,children:d,childRef:p,...g},v)=>{const _=w.useRef(null),S=qS(_,p),I=ue=>{S(Fx(ue))},O=ue=>x=>{ue&&_.current&&ue(_.current,x)},k=w.useCallback(O(n),[n]),C=w.useCallback(O(e),[e]),z=w.useCallback(O(t),[t]),$=w.useCallback(O(i),[i]),Y=w.useCallback(O(s),[s]),oe=w.useCallback(O(l),[l]),fe=w.useCallback(O(c),[c]);return A.jsx(Gi,{ref:v,...g,onEnter:k,onEntered:z,onEntering:C,onExit:$,onExited:oe,onExiting:Y,addEndListener:fe,nodeRef:_,children:typeof d=="function"?(ue,x)=>d(ue,{...x,ref:I}):Ni.cloneElement(d,{ref:I})})});id.displayName="TransitionWrapper";const $x={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function Hx(n,e){const t=`offset${n[0].toUpperCase()}${n.slice(1)}`,i=e[t],s=$x[n];return i+parseInt(Mi(e,s[0]),10)+parseInt(Mi(e,s[1]),10)}const qx={[Ca]:"collapse",[$u]:"collapsing",[vr]:"collapsing",[Ai]:"collapse show"},GS=Ni.forwardRef(({onEnter:n,onEntering:e,onEntered:t,onExit:i,onExiting:s,className:l,children:c,dimension:d="height",in:p=!1,timeout:g=300,mountOnEnter:v=!1,unmountOnExit:_=!1,appear:S=!1,getDimensionValue:I=Hx,...O},k)=>{const C=typeof d=="function"?d():d,z=w.useMemo(()=>Cu(ue=>{ue.style[C]="0"},n),[C,n]),$=w.useMemo(()=>Cu(ue=>{const x=`scroll${C[0].toUpperCase()}${C.slice(1)}`;ue.style[C]=`${ue[x]}px`},e),[C,e]),Y=w.useMemo(()=>Cu(ue=>{ue.style[C]=null},t),[C,t]),oe=w.useMemo(()=>Cu(ue=>{ue.style[C]=`${I(C,ue)}px`,HS(ue)},i),[i,I,C]),fe=w.useMemo(()=>Cu(ue=>{ue.style[C]=null},s),[C,s]);return A.jsx(id,{ref:k,addEndListener:cy,...O,"aria-expanded":O.role?p:null,onEnter:z,onEntering:$,onEntered:Y,onExit:oe,onExiting:fe,childRef:ll(c),in:p,timeout:g,mountOnEnter:v,unmountOnExit:_,appear:S,children:(ue,x)=>Ni.cloneElement(c,{...x,className:ge(l,c.props.className,qx[ue],C==="width"&&"collapse-horizontal")})})});GS.displayName="Collapse";function Gx(n){const e=w.useRef(n);return w.useEffect(()=>{e.current=n},[n]),e}function Ms(n){const e=Gx(n);return w.useCallback(function(...t){return e.current&&e.current(...t)},[e])}const oc=(n=>w.forwardRef((e,t)=>A.jsx("div",{...e,ref:t,className:ge(e.className,n)}))),KS=oc("h4");KS.displayName="DivStyledAsH4";const YS=w.forwardRef(({className:n,bsPrefix:e,as:t=KS,...i},s)=>(e=Te(e,"alert-heading"),A.jsx(t,{ref:s,className:ge(n,e),...i})));YS.displayName="AlertHeading";function Kx(n){const e=w.useRef(n);return w.useEffect(()=>{e.current=n},[n]),e}function Ri(n){const e=Kx(n);return w.useCallback(function(...t){return e.current&&e.current(...t)},[e])}function Yx(){const n=w.useRef(!0),e=w.useRef(()=>n.current);return w.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[]),e.current}function Qx(n){const e=w.useRef(null);return w.useEffect(()=>{e.current=n}),e.current}const Xx=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",Wx=typeof document<"u",Tw=Wx||Xx?w.useLayoutEffect:w.useEffect,Jx=["as","disabled"];function Zx(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function eD(n){return!n||n.trim()==="#"}function fy({tagName:n,disabled:e,href:t,target:i,rel:s,role:l,onClick:c,tabIndex:d=0,type:p}){n||(t!=null||i!=null||s!=null?n="a":n="button");const g={tagName:n};if(n==="button")return[{type:p||"button",disabled:e},g];const v=S=>{if((e||n==="a"&&eD(t))&&S.preventDefault(),e){S.stopPropagation();return}c?.(S)},_=S=>{S.key===" "&&(S.preventDefault(),v(S))};return n==="a"&&(t||(t="#"),e&&(t=void 0)),[{role:l??"button",disabled:void 0,tabIndex:e?void 0:d,href:t,target:n==="a"?i:void 0,"aria-disabled":e||void 0,rel:n==="a"?s:void 0,onClick:v,onKeyDown:_},g]}const QS=w.forwardRef((n,e)=>{let{as:t,disabled:i}=n,s=Zx(n,Jx);const[l,{tagName:c}]=fy(Object.assign({tagName:t,disabled:i},s));return A.jsx(c,Object.assign({},s,l,{ref:e}))});QS.displayName="Button";const tD=["onKeyDown"];function nD(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function rD(n){return!n||n.trim()==="#"}const ad=w.forwardRef((n,e)=>{let{onKeyDown:t}=n,i=nD(n,tD);const[s]=fy(Object.assign({tagName:"a"},i)),l=Ri(c=>{s.onKeyDown(c),t?.(c)});return rD(i.href)||i.role==="button"?A.jsx("a",Object.assign({ref:e},i,s,{onKeyDown:l})):A.jsx("a",Object.assign({ref:e},i,{onKeyDown:t}))});ad.displayName="Anchor";const XS=w.forwardRef(({className:n,bsPrefix:e,as:t=ad,...i},s)=>(e=Te(e,"alert-link"),A.jsx(t,{ref:s,className:ge(n,e),...i})));XS.displayName="AlertLink";const iD={[vr]:"show",[Ai]:"show"},Zo=w.forwardRef(({className:n,children:e,transitionClasses:t={},onEnter:i,...s},l)=>{const c={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...s},d=w.useCallback((p,g)=>{HS(p),i?.(p,g)},[i]);return A.jsx(id,{ref:l,addEndListener:cy,...c,onEnter:d,childRef:ll(e),children:(p,g)=>w.cloneElement(e,{...g,className:ge("fade",n,e.props.className,iD[p],t[p])})})});Zo.displayName="Fade";const aD={"aria-label":Vi.string,onClick:Vi.func,variant:Vi.oneOf(["white"])},sd=w.forwardRef(({className:n,variant:e,"aria-label":t="Close",...i},s)=>A.jsx("button",{ref:s,type:"button",className:ge("btn-close",e&&`btn-close-${e}`,n),"aria-label":t,...i}));sd.displayName="CloseButton";sd.propTypes=aD;const WS=w.forwardRef((n,e)=>{const{bsPrefix:t,show:i=!0,closeLabel:s="Close alert",closeVariant:l,className:c,children:d,variant:p="primary",onClose:g,dismissible:v,transition:_=Zo,...S}=uy(n,{show:"onClose"}),I=Te(t,"alert"),O=Ms(z=>{g&&g(!1,z)}),k=_===!0?Zo:_,C=A.jsxs("div",{role:"alert",...k?void 0:S,ref:e,className:ge(c,I,p&&`${I}-${p}`,v&&`${I}-dismissible`),children:[v&&A.jsx(sd,{onClick:O,"aria-label":s,variant:l}),d]});return k?A.jsx(k,{unmountOnExit:!0,...S,ref:void 0,in:i,children:C}):i?C:null});WS.displayName="Alert";const Oa=Object.assign(WS,{Link:XS,Heading:YS}),mt=w.forwardRef(({as:n,bsPrefix:e,variant:t="primary",size:i,active:s=!1,disabled:l=!1,className:c,...d},p)=>{const g=Te(e,"btn"),[v,{tagName:_}]=fy({tagName:n,disabled:l,...d}),S=_;return A.jsx(S,{...v,...d,ref:p,disabled:l,className:ge(c,g,s&&"active",t&&`${g}-${t}`,i&&`${g}-${i}`,d.href&&l&&"disabled")})});mt.displayName="Button";const JS=w.forwardRef(({bsPrefix:n,size:e,vertical:t=!1,className:i,role:s="group",as:l="div",...c},d)=>{const p=Te(n,"btn-group");let g=p;return t&&(g=`${p}-vertical`),A.jsx(l,{...c,ref:d,role:s,className:ge(i,g,e&&`${p}-${e}`)})});JS.displayName="ButtonGroup";const hy=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},s)=>(e=Te(e,"card-body"),A.jsx(t,{ref:s,className:ge(n,e),...i})));hy.displayName="CardBody";const ZS=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},s)=>(e=Te(e,"card-footer"),A.jsx(t,{ref:s,className:ge(n,e),...i})));ZS.displayName="CardFooter";const dy=w.createContext(null);dy.displayName="CardHeaderContext";const eb=w.forwardRef(({bsPrefix:n,className:e,as:t="div",...i},s)=>{const l=Te(n,"card-header"),c=w.useMemo(()=>({cardHeaderBsPrefix:l}),[l]);return A.jsx(dy.Provider,{value:c,children:A.jsx(t,{ref:s,...i,className:ge(e,l)})})});eb.displayName="CardHeader";const tb=w.forwardRef(({bsPrefix:n,className:e,variant:t,as:i="img",...s},l)=>{const c=Te(n,"card-img");return A.jsx(i,{ref:l,className:ge(t?`${c}-${t}`:c,e),...s})});tb.displayName="CardImg";const nb=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},s)=>(e=Te(e,"card-img-overlay"),A.jsx(t,{ref:s,className:ge(n,e),...i})));nb.displayName="CardImgOverlay";const rb=w.forwardRef(({className:n,bsPrefix:e,as:t="a",...i},s)=>(e=Te(e,"card-link"),A.jsx(t,{ref:s,className:ge(n,e),...i})));rb.displayName="CardLink";const sD=oc("h6"),ib=w.forwardRef(({className:n,bsPrefix:e,as:t=sD,...i},s)=>(e=Te(e,"card-subtitle"),A.jsx(t,{ref:s,className:ge(n,e),...i})));ib.displayName="CardSubtitle";const ab=w.forwardRef(({className:n,bsPrefix:e,as:t="p",...i},s)=>(e=Te(e,"card-text"),A.jsx(t,{ref:s,className:ge(n,e),...i})));ab.displayName="CardText";const oD=oc("h5"),sb=w.forwardRef(({className:n,bsPrefix:e,as:t=oD,...i},s)=>(e=Te(e,"card-title"),A.jsx(t,{ref:s,className:ge(n,e),...i})));sb.displayName="CardTitle";const ob=w.forwardRef(({bsPrefix:n,className:e,bg:t,text:i,border:s,body:l=!1,children:c,as:d="div",...p},g)=>{const v=Te(n,"card");return A.jsx(d,{ref:g,...p,className:ge(e,v,t&&`bg-${t}`,i&&`text-${i}`,s&&`border-${s}`),children:l?A.jsx(hy,{children:c}):c})});ob.displayName="Card";const od=Object.assign(ob,{Img:tb,Title:sb,Subtitle:ib,Body:hy,Link:rb,Text:ab,Header:eb,Footer:ZS,ImgOverlay:nb});function lD(n){const e=w.useRef(n);return e.current=n,e}function uD(n){const e=lD(n);w.useEffect(()=>()=>e.current(),[])}function cD(n,e){return w.Children.toArray(n).some(t=>w.isValidElement(t)&&t.type===e)}function fD({as:n,bsPrefix:e,className:t,...i}){e=Te(e,"col");const s=jS(),l=zS(),c=[],d=[];return s.forEach(p=>{const g=i[p];delete i[p];let v,_,S;typeof g=="object"&&g!=null?{span:v,offset:_,order:S}=g:v=g;const I=p!==l?`-${p}`:"";v&&c.push(v===!0?`${e}${I}`:`${e}${I}-${v}`),S!=null&&d.push(`order${I}-${S}`),_!=null&&d.push(`offset${I}-${_}`)}),[{...i,className:ge(t,...c,...d)},{as:n,bsPrefix:e,spans:c}]}const Ci=w.forwardRef((n,e)=>{const[{className:t,...i},{as:s="div",bsPrefix:l,spans:c}]=fD(n);return A.jsx(s,{...i,ref:e,className:ge(t,!c.length&&l)})});Ci.displayName="Col";const Fs=w.forwardRef(({bsPrefix:n,fluid:e=!1,as:t="div",className:i,...s},l)=>{const c=Te(n,"container"),d=typeof e=="string"?`-${e}`:"-fluid";return A.jsx(t,{ref:l,...s,className:ge(i,e?`${c}${d}`:c)})});Fs.displayName="Container";var hD=Function.prototype.bind.call(Function.prototype.call,[].slice);function Is(n,e){return hD(n.querySelectorAll(e))}function dD(){const[,n]=w.useReducer(e=>e+1,0);return n}function ww(n,e){if(n.contains)return n.contains(e);if(n.compareDocumentPosition)return n===e||!!(n.compareDocumentPosition(e)&16)}const Ih=w.createContext(null),my=(n,e=null)=>n!=null?String(n):e||null,py=w.createContext(null);py.displayName="NavContext";const mD="data-rr-ui-",pD="rrUi";function ld(n){return`${mD}${n}`}function gD(n){return`${pD}${n}`}const lb=w.createContext(ul?window:void 0);lb.Provider;function gy(){return w.useContext(lb)}const yD=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",vD=typeof document<"u",_D=vD||yD?w.useLayoutEffect:w.useEffect,cl=w.createContext(null);cl.displayName="NavbarContext";const ED={type:Vi.string,tooltip:Vi.bool,as:Vi.elementType},ud=w.forwardRef(({as:n="div",className:e,type:t="valid",tooltip:i=!1,...s},l)=>A.jsx(n,{...s,ref:l,className:ge(e,`${t}-${i?"tooltip":"feedback"}`)}));ud.displayName="Feedback";ud.propTypes=ED;const Ui=w.createContext({}),yy=w.forwardRef(({id:n,bsPrefix:e,className:t,type:i="checkbox",isValid:s=!1,isInvalid:l=!1,as:c="input",...d},p)=>{const{controlId:g}=w.useContext(Ui);return e=Te(e,"form-check-input"),A.jsx(c,{...d,ref:p,type:i,id:n||g,className:ge(t,e,s&&"is-valid",l&&"is-invalid")})});yy.displayName="FormCheckInput";const Nh=w.forwardRef(({bsPrefix:n,className:e,htmlFor:t,...i},s)=>{const{controlId:l}=w.useContext(Ui);return n=Te(n,"form-check-label"),A.jsx("label",{...i,ref:s,htmlFor:t||l,className:ge(e,n)})});Nh.displayName="FormCheckLabel";const ub=w.forwardRef(({id:n,bsPrefix:e,bsSwitchPrefix:t,inline:i=!1,reverse:s=!1,disabled:l=!1,isValid:c=!1,isInvalid:d=!1,feedbackTooltip:p=!1,feedback:g,feedbackType:v,className:_,style:S,title:I="",type:O="checkbox",label:k,children:C,as:z="input",...$},Y)=>{e=Te(e,"form-check"),t=Te(t,"form-switch");const{controlId:oe}=w.useContext(Ui),fe=w.useMemo(()=>({controlId:n||oe}),[oe,n]),ue=!C&&k!=null&&k!==!1||cD(C,Nh),x=A.jsx(yy,{...$,type:O==="switch"?"checkbox":O,ref:Y,isValid:c,isInvalid:d,disabled:l,as:z});return A.jsx(Ui.Provider,{value:fe,children:A.jsx("div",{style:S,className:ge(_,ue&&e,i&&`${e}-inline`,s&&`${e}-reverse`,O==="switch"&&t),children:C||A.jsxs(A.Fragment,{children:[x,ue&&A.jsx(Nh,{title:I,children:k}),g&&A.jsx(ud,{type:v,tooltip:p,children:g})]})})})});ub.displayName="FormCheck";const xh=Object.assign(ub,{Input:yy,Label:Nh}),cb=w.forwardRef(({bsPrefix:n,type:e,size:t,htmlSize:i,id:s,className:l,isValid:c=!1,isInvalid:d=!1,plaintext:p,readOnly:g,as:v="input",..._},S)=>{const{controlId:I}=w.useContext(Ui);return n=Te(n,"form-control"),A.jsx(v,{..._,type:e,size:i,ref:S,readOnly:g,id:s||I,className:ge(l,p?`${n}-plaintext`:n,t&&`${n}-${t}`,e==="color"&&`${n}-color`,c&&"is-valid",d&&"is-invalid")})});cb.displayName="FormControl";const TD=Object.assign(cb,{Feedback:ud}),fb=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},s)=>(e=Te(e,"form-floating"),A.jsx(t,{ref:s,className:ge(n,e),...i})));fb.displayName="FormFloating";const vy=w.forwardRef(({controlId:n,as:e="div",...t},i)=>{const s=w.useMemo(()=>({controlId:n}),[n]);return A.jsx(Ui.Provider,{value:s,children:A.jsx(e,{...t,ref:i})})});vy.displayName="FormGroup";const hb=w.forwardRef(({as:n="label",bsPrefix:e,column:t=!1,visuallyHidden:i=!1,className:s,htmlFor:l,...c},d)=>{const{controlId:p}=w.useContext(Ui);e=Te(e,"form-label");let g="col-form-label";typeof t=="string"&&(g=`${g} ${g}-${t}`);const v=ge(s,e,i&&"visually-hidden",t&&g);return l=l||p,t?A.jsx(Ci,{ref:d,as:"label",className:v,htmlFor:l,...c}):A.jsx(n,{ref:d,className:v,htmlFor:l,...c})});hb.displayName="FormLabel";const db=w.forwardRef(({bsPrefix:n,className:e,id:t,...i},s)=>{const{controlId:l}=w.useContext(Ui);return n=Te(n,"form-range"),A.jsx("input",{...i,type:"range",ref:s,className:ge(e,n),id:t||l})});db.displayName="FormRange";const mb=w.forwardRef(({bsPrefix:n,size:e,htmlSize:t,className:i,isValid:s=!1,isInvalid:l=!1,id:c,...d},p)=>{const{controlId:g}=w.useContext(Ui);return n=Te(n,"form-select"),A.jsx("select",{...d,size:t,ref:p,className:ge(i,n,e&&`${n}-${e}`,s&&"is-valid",l&&"is-invalid"),id:c||g})});mb.displayName="FormSelect";const pb=w.forwardRef(({bsPrefix:n,className:e,as:t="small",muted:i,...s},l)=>(n=Te(n,"form-text"),A.jsx(t,{...s,ref:l,className:ge(e,n,i&&"text-muted")})));pb.displayName="FormText";const gb=w.forwardRef((n,e)=>A.jsx(xh,{...n,ref:e,type:"switch"}));gb.displayName="Switch";const wD=Object.assign(gb,{Input:xh.Input,Label:xh.Label}),yb=w.forwardRef(({bsPrefix:n,className:e,children:t,controlId:i,label:s,...l},c)=>(n=Te(n,"form-floating"),A.jsxs(vy,{ref:c,className:ge(e,n),controlId:i,...l,children:[t,A.jsx("label",{htmlFor:i,children:s})]})));yb.displayName="FloatingLabel";const SD={_ref:Vi.any,validated:Vi.bool,as:Vi.elementType},_y=w.forwardRef(({className:n,validated:e,as:t="form",...i},s)=>A.jsx(t,{...i,ref:s,className:ge(n,e&&"was-validated")}));_y.displayName="Form";_y.propTypes=SD;const He=Object.assign(_y,{Group:vy,Control:TD,Floating:fb,Check:xh,Switch:wD,Label:hb,Text:pb,Range:db,Select:mb,FloatingLabel:yb}),Sw=n=>!n||typeof n=="function"?n:e=>{n.current=e};function bD(n,e){const t=Sw(n),i=Sw(e);return s=>{t&&t(s),i&&i(s)}}function cd(n,e){return w.useMemo(()=>bD(n,e),[n,e])}const vb=w.createContext(null),AD=["as","active","eventKey"];function RD(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function _b({key:n,onClick:e,active:t,id:i,role:s,disabled:l}){const c=w.useContext(Ih),d=w.useContext(py),p=w.useContext(vb);let g=t;const v={role:s};if(d){!s&&d.role==="tablist"&&(v.role="tab");const _=d.getControllerId(n??null),S=d.getControlledId(n??null);v[ld("event-key")]=n,v.id=_||i,g=t==null&&n!=null?d.activeKey===n:t,(g||!(p!=null&&p.unmountOnExit)&&!(p!=null&&p.mountOnEnter))&&(v["aria-controls"]=S)}return v.role==="tab"&&(v["aria-selected"]=g,g||(v.tabIndex=-1),l&&(v.tabIndex=-1,v["aria-disabled"]=!0)),v.onClick=Ri(_=>{l||(e?.(_),n!=null&&c&&!_.isPropagationStopped()&&c(n,_))}),[v,{isActive:g}]}const Eb=w.forwardRef((n,e)=>{let{as:t=QS,active:i,eventKey:s}=n,l=RD(n,AD);const[c,d]=_b(Object.assign({key:my(s,l.href),active:i},l));return c[ld("active")]=d.isActive,A.jsx(t,Object.assign({},l,c,{ref:e}))});Eb.displayName="NavItem";const CD=["as","onSelect","activeKey","role","onKeyDown"];function ID(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}const bw=()=>{},Aw=ld("event-key"),Tb=w.forwardRef((n,e)=>{let{as:t="div",onSelect:i,activeKey:s,role:l,onKeyDown:c}=n,d=ID(n,CD);const p=dD(),g=w.useRef(!1),v=w.useContext(Ih),_=w.useContext(vb);let S,I;_&&(l=l||"tablist",s=_.activeKey,S=_.getControlledId,I=_.getControllerId);const O=w.useRef(null),k=Y=>{const oe=O.current;if(!oe)return null;const fe=Is(oe,`[${Aw}]:not([aria-disabled=true])`),ue=oe.querySelector("[aria-selected=true]");if(!ue||ue!==document.activeElement)return null;const x=fe.indexOf(ue);if(x===-1)return null;let N=x+Y;return N>=fe.length&&(N=0),N<0&&(N=fe.length-1),fe[N]},C=(Y,oe)=>{Y!=null&&(i?.(Y,oe),v?.(Y,oe))},z=Y=>{if(c?.(Y),!_)return;let oe;switch(Y.key){case"ArrowLeft":case"ArrowUp":oe=k(-1);break;case"ArrowRight":case"ArrowDown":oe=k(1);break;default:return}oe&&(Y.preventDefault(),C(oe.dataset[gD("EventKey")]||null,Y),g.current=!0,p())};w.useEffect(()=>{if(O.current&&g.current){const Y=O.current.querySelector(`[${Aw}][aria-selected=true]`);Y?.focus()}g.current=!1});const $=cd(e,O);return A.jsx(Ih.Provider,{value:C,children:A.jsx(py.Provider,{value:{role:l,activeKey:my(s),getControlledId:S||bw,getControllerId:I||bw},children:A.jsx(t,Object.assign({},d,{onKeyDown:z,ref:$,role:l}))})})});Tb.displayName="Nav";const ND=Object.assign(Tb,{Item:Eb});var nh;function Rw(n){if((!nh&&nh!==0||n)&&ul){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),nh=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return nh}function xD(){return w.useState(null)}function Zp(n){n===void 0&&(n=rd());try{var e=n.activeElement;return!e||!e.nodeName?null:e}catch{return n.body}}function DD(n){const e=w.useRef(n);return e.current=n,e}function OD(n){const e=DD(n);w.useEffect(()=>()=>e.current(),[])}function MD(n=document){const e=n.defaultView;return Math.abs(e.innerWidth-n.documentElement.clientWidth)}const Cw=ld("modal-open");class Ey{constructor({ownerDocument:e,handleContainerOverflow:t=!0,isRTL:i=!1}={}){this.handleContainerOverflow=t,this.isRTL=i,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return MD(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},i=this.isRTL?"paddingLeft":"paddingRight",s=this.getElement();e.style={overflow:s.style.overflow,[i]:s.style[i]},e.scrollBarWidth&&(t[i]=`${parseInt(Mi(s,i)||"0",10)+e.scrollBarWidth}px`),s.setAttribute(Cw,""),Mi(s,t)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(Cw),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return t!==-1||(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),t!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t}remove(e){const t=this.modals.indexOf(e);t!==-1&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const eg=(n,e)=>ul?n==null?(e||rd()).body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),n&&("nodeType"in n||n.getBoundingClientRect)?n:null):null;function VD(n,e){const t=gy(),[i,s]=w.useState(()=>eg(n,t?.document));if(!i){const l=eg(n);l&&s(l)}return w.useEffect(()=>{},[e,i]),w.useEffect(()=>{const l=eg(n);l!==i&&s(l)},[n,i]),i}function LD({children:n,in:e,onExited:t,mountOnEnter:i,unmountOnExit:s}){const l=w.useRef(null),c=w.useRef(e),d=Ri(t);w.useEffect(()=>{e?c.current=!0:d(l.current)},[e,d]);const p=cd(l,ll(n)),g=w.cloneElement(n,{ref:p});return e?g:s||!c.current&&i?null:g}const kD=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function PD(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}function UD(n){let{onEnter:e,onEntering:t,onEntered:i,onExit:s,onExiting:l,onExited:c,addEndListener:d,children:p}=n,g=PD(n,kD);const v=w.useRef(null),_=cd(v,ll(p)),S=oe=>fe=>{oe&&v.current&&oe(v.current,fe)},I=w.useCallback(S(e),[e]),O=w.useCallback(S(t),[t]),k=w.useCallback(S(i),[i]),C=w.useCallback(S(s),[s]),z=w.useCallback(S(l),[l]),$=w.useCallback(S(c),[c]),Y=w.useCallback(S(d),[d]);return Object.assign({},g,{nodeRef:v},e&&{onEnter:I},t&&{onEntering:O},i&&{onEntered:k},s&&{onExit:C},l&&{onExiting:z},c&&{onExited:$},d&&{addEndListener:Y},{children:typeof p=="function"?(oe,fe)=>p(oe,Object.assign({},fe,{ref:_})):w.cloneElement(p,{ref:_})})}const jD=["component"];function zD(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}const BD=w.forwardRef((n,e)=>{let{component:t}=n,i=zD(n,jD);const s=UD(i);return A.jsx(t,Object.assign({ref:e},s))});function FD({in:n,onTransition:e}){const t=w.useRef(null),i=w.useRef(!0),s=Ri(e);return Tw(()=>{if(!t.current)return;let l=!1;return s({in:n,element:t.current,initial:i.current,isStale:()=>l}),()=>{l=!0}},[n,s]),Tw(()=>(i.current=!1,()=>{i.current=!0}),[]),t}function $D({children:n,in:e,onExited:t,onEntered:i,transition:s}){const[l,c]=w.useState(!e);e&&l&&c(!1);const d=FD({in:!!e,onTransition:g=>{const v=()=>{g.isStale()||(g.in?i?.(g.element,g.initial):(c(!0),t?.(g.element)))};Promise.resolve(s(g)).then(v,_=>{throw g.in||c(!0),_})}}),p=cd(d,ll(n));return l&&!e?null:w.cloneElement(n,{ref:p})}function Iw(n,e,t){return n?A.jsx(BD,Object.assign({},t,{component:n})):e?A.jsx($D,Object.assign({},t,{transition:e})):A.jsx(LD,Object.assign({},t))}const HD=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function qD(n,e){if(n==null)return{};var t={};for(var i in n)if({}.hasOwnProperty.call(n,i)){if(e.indexOf(i)>=0)continue;t[i]=n[i]}return t}let tg;function GD(n){return tg||(tg=new Ey({ownerDocument:n?.document})),tg}function KD(n){const e=gy(),t=n||GD(e),i=w.useRef({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>t.add(i.current),remove:()=>t.remove(i.current),isTopModal:()=>t.isTopModal(i.current),setDialogRef:w.useCallback(s=>{i.current.dialog=s},[]),setBackdropRef:w.useCallback(s=>{i.current.backdrop=s},[])})}const wb=w.forwardRef((n,e)=>{let{show:t=!1,role:i="dialog",className:s,style:l,children:c,backdrop:d=!0,keyboard:p=!0,onBackdropClick:g,onEscapeKeyDown:v,transition:_,runTransition:S,backdropTransition:I,runBackdropTransition:O,autoFocus:k=!0,enforceFocus:C=!0,restoreFocus:z=!0,restoreFocusOptions:$,renderDialog:Y,renderBackdrop:oe=We=>A.jsx("div",Object.assign({},We)),manager:fe,container:ue,onShow:x,onHide:N=()=>{},onExit:D,onExited:P,onExiting:L,onEnter:B,onEntering:M,onEntered:qe}=n,lt=qD(n,HD);const W=gy(),se=VD(ue),ce=KD(fe),De=Yx(),Le=Qx(t),[U,Z]=w.useState(!t),ie=w.useRef(null);w.useImperativeHandle(e,()=>ce,[ce]),ul&&!Le&&t&&(ie.current=Zp(W?.document)),t&&U&&Z(!1);const ae=Ri(()=>{if(ce.add(),dn.current=Ch(document,"keydown",pt),Xe.current=Ch(document,"focus",()=>setTimeout(be),!0),x&&x(),k){var We,Pn;const ir=Zp((We=(Pn=ce.dialog)==null?void 0:Pn.ownerDocument)!=null?We:W?.document);ce.dialog&&ir&&!ww(ce.dialog,ir)&&(ie.current=ir,ce.dialog.focus())}}),ye=Ri(()=>{if(ce.remove(),dn.current==null||dn.current(),Xe.current==null||Xe.current(),z){var We;(We=ie.current)==null||We.focus==null||We.focus($),ie.current=null}});w.useEffect(()=>{!t||!se||ae()},[t,se,ae]),w.useEffect(()=>{U&&ye()},[U,ye]),OD(()=>{ye()});const be=Ri(()=>{if(!C||!De()||!ce.isTopModal())return;const We=Zp(W?.document);ce.dialog&&We&&!ww(ce.dialog,We)&&ce.dialog.focus()}),Oe=Ri(We=>{We.target===We.currentTarget&&(g?.(We),d===!0&&N())}),pt=Ri(We=>{p&&kx(We)&&ce.isTopModal()&&(v?.(We),We.defaultPrevented||N())}),Xe=w.useRef(),dn=w.useRef(),rr=(...We)=>{Z(!0),P?.(...We)};if(!se)return null;const Sn=Object.assign({role:i,ref:ce.setDialogRef,"aria-modal":i==="dialog"?!0:void 0},lt,{style:l,className:s,tabIndex:-1});let kn=Y?Y(Sn):A.jsx("div",Object.assign({},Sn,{children:w.cloneElement(c,{role:"document"})}));kn=Iw(_,S,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!t,onExit:D,onExiting:L,onExited:rr,onEnter:B,onEntering:M,onEntered:qe,children:kn});let Yt=null;return d&&(Yt=oe({ref:ce.setBackdropRef,onClick:Oe}),Yt=Iw(I,O,{in:!!t,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:Yt})),A.jsx(A.Fragment,{children:qo.createPortal(A.jsxs(A.Fragment,{children:[Yt,kn]}),se)})});wb.displayName="Modal";const Sb=Object.assign(wb,{Manager:Ey});function YD(n,e){return n.classList?n.classList.contains(e):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+e+" ")!==-1}function QD(n,e){n.classList?n.classList.add(e):YD(n,e)||(typeof n.className=="string"?n.className=n.className+" "+e:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+e))}function Nw(n,e){return n.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function XD(n,e){n.classList?n.classList.remove(e):typeof n.className=="string"?n.className=Nw(n.className,e):n.setAttribute("class",Nw(n.className&&n.className.baseVal||"",e))}const jo={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class bb extends Ey{adjustAndStore(e,t,i){const s=t.style[e];t.dataset[e]=s,Mi(t,{[e]:`${parseFloat(Mi(t,e))+i}px`})}restore(e,t){const i=t.dataset[e];i!==void 0&&(delete t.dataset[e],Mi(t,{[e]:i}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();if(QD(t,"modal-open"),!e.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Is(t,jo.FIXED_CONTENT).forEach(l=>this.adjustAndStore(i,l,e.scrollBarWidth)),Is(t,jo.STICKY_CONTENT).forEach(l=>this.adjustAndStore(s,l,-e.scrollBarWidth)),Is(t,jo.NAVBAR_TOGGLER).forEach(l=>this.adjustAndStore(s,l,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();XD(t,"modal-open");const i=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Is(t,jo.FIXED_CONTENT).forEach(l=>this.restore(i,l)),Is(t,jo.STICKY_CONTENT).forEach(l=>this.restore(s,l)),Is(t,jo.NAVBAR_TOGGLER).forEach(l=>this.restore(s,l))}}let ng;function Ab(n){return ng||(ng=new bb(n)),ng}const Rb=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},s)=>(e=Te(e,"modal-body"),A.jsx(t,{ref:s,className:ge(n,e),...i})));Rb.displayName="ModalBody";const Ty=w.createContext({onHide(){}}),wy=w.forwardRef(({bsPrefix:n,className:e,contentClassName:t,centered:i,size:s,fullscreen:l,children:c,scrollable:d,...p},g)=>{n=Te(n,"modal");const v=`${n}-dialog`,_=typeof l=="string"?`${n}-fullscreen-${l}`:`${n}-fullscreen`;return A.jsx("div",{...p,ref:g,className:ge(v,e,s&&`${n}-${s}`,i&&`${v}-centered`,d&&`${v}-scrollable`,l&&_),children:A.jsx("div",{className:ge(`${n}-content`,t),children:c})})});wy.displayName="ModalDialog";const Cb=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},s)=>(e=Te(e,"modal-footer"),A.jsx(t,{ref:s,className:ge(n,e),...i})));Cb.displayName="ModalFooter";const Sy=w.forwardRef(({closeLabel:n="Close",closeVariant:e,closeButton:t=!1,onHide:i,children:s,...l},c)=>{const d=w.useContext(Ty),p=Ms(()=>{d?.onHide(),i?.()});return A.jsxs("div",{ref:c,...l,children:[s,t&&A.jsx(sd,{"aria-label":n,variant:e,onClick:p})]})});Sy.displayName="AbstractModalHeader";const Ib=w.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:i=!1,...s},l)=>(n=Te(n,"modal-header"),A.jsx(Sy,{ref:l,...s,className:ge(e,n),closeLabel:t,closeButton:i})));Ib.displayName="ModalHeader";const WD=oc("h4"),Nb=w.forwardRef(({className:n,bsPrefix:e,as:t=WD,...i},s)=>(e=Te(e,"modal-title"),A.jsx(t,{ref:s,className:ge(n,e),...i})));Nb.displayName="ModalTitle";function JD(n){return A.jsx(Zo,{...n,timeout:null})}function ZD(n){return A.jsx(Zo,{...n,timeout:null})}const xb=w.forwardRef(({bsPrefix:n,className:e,style:t,dialogClassName:i,contentClassName:s,children:l,dialogAs:c=wy,"data-bs-theme":d,"aria-labelledby":p,"aria-describedby":g,"aria-label":v,show:_=!1,animation:S=!0,backdrop:I=!0,keyboard:O=!0,onEscapeKeyDown:k,onShow:C,onHide:z,container:$,autoFocus:Y=!0,enforceFocus:oe=!0,restoreFocus:fe=!0,restoreFocusOptions:ue,onEntered:x,onExit:N,onExiting:D,onEnter:P,onEntering:L,onExited:B,backdropClassName:M,manager:qe,...lt},W)=>{const[se,ce]=w.useState({}),[De,Le]=w.useState(!1),U=w.useRef(!1),Z=w.useRef(!1),ie=w.useRef(null),[ae,ye]=xD(),be=qS(W,ye),Oe=Ms(z),pt=wx();n=Te(n,"modal");const Xe=w.useMemo(()=>({onHide:Oe}),[Oe]);function dn(){return qe||Ab({isRTL:pt})}function rr(ke){if(!ul)return;const Un=dn().getScrollbarWidth()>0,ar=ke.scrollHeight>rd(ke).documentElement.clientHeight;ce({paddingRight:Un&&!ar?Rw():void 0,paddingLeft:!Un&&ar?Rw():void 0})}const Sn=Ms(()=>{ae&&rr(ae.dialog)});uD(()=>{Rg(window,"resize",Sn),ie.current==null||ie.current()});const kn=()=>{U.current=!0},Yt=ke=>{U.current&&ae&&ke.target===ae.dialog&&(Z.current=!0),U.current=!1},We=()=>{Le(!0),ie.current=$S(ae.dialog,()=>{Le(!1)})},Pn=ke=>{ke.target===ke.currentTarget&&We()},ir=ke=>{if(I==="static"){Pn(ke);return}if(Z.current||ke.target!==ke.currentTarget){Z.current=!1;return}z?.()},Ja=ke=>{O?k?.(ke):(ke.preventDefault(),I==="static"&&We())},vt=(ke,Un)=>{ke&&rr(ke),P?.(ke,Un)},Tt=ke=>{ie.current==null||ie.current(),N?.(ke)},Cr=(ke,Un)=>{L?.(ke,Un),FS(window,"resize",Sn)},bl=ke=>{ke&&(ke.style.display=""),B?.(ke),Rg(window,"resize",Sn)},Qs=w.useCallback(ke=>A.jsx("div",{...ke,className:ge(`${n}-backdrop`,M,!S&&"show")}),[S,M,n]),$t={...t,...se};$t.display="block";const ai=ke=>A.jsx("div",{role:"dialog",...ke,style:$t,className:ge(e,n,De&&`${n}-static`,!S&&"show"),onClick:I?ir:void 0,onMouseUp:Yt,"data-bs-theme":d,"aria-label":v,"aria-labelledby":p,"aria-describedby":g,children:A.jsx(c,{...lt,onMouseDown:kn,className:i,contentClassName:s,children:l})});return A.jsx(Ty.Provider,{value:Xe,children:A.jsx(Sb,{show:_,ref:be,backdrop:I,container:$,keyboard:!0,autoFocus:Y,enforceFocus:oe,restoreFocus:fe,restoreFocusOptions:ue,onEscapeKeyDown:Ja,onShow:C,onHide:z,onEnter:vt,onEntering:Cr,onEntered:x,onExit:Tt,onExiting:D,onExited:bl,manager:dn(),transition:S?JD:void 0,backdropTransition:S?ZD:void 0,renderBackdrop:Qs,renderDialog:ai})})});xb.displayName="Modal";const Iu=Object.assign(xb,{Body:Rb,Header:Ib,Title:Nb,Footer:Cb,Dialog:wy,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),Db=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},s)=>(e=Te(e,"nav-item"),A.jsx(t,{ref:s,className:ge(n,e),...i})));Db.displayName="NavItem";const Ob=w.forwardRef(({bsPrefix:n,className:e,as:t=ad,active:i,eventKey:s,disabled:l=!1,...c},d)=>{n=Te(n,"nav-link");const[p,g]=_b({key:my(s,c.href),active:i,disabled:l,...c});return A.jsx(t,{...c,...p,ref:d,disabled:l,className:ge(e,n,l&&"disabled",g.isActive&&"active")})});Ob.displayName="NavLink";const Mb=w.forwardRef((n,e)=>{const{as:t="div",bsPrefix:i,variant:s,fill:l=!1,justify:c=!1,navbar:d,navbarScroll:p,className:g,activeKey:v,..._}=uy(n,{activeKey:"onSelect"}),S=Te(i,"nav");let I,O,k=!1;const C=w.useContext(cl),z=w.useContext(dy);return C?(I=C.bsPrefix,k=d??!0):z&&({cardHeaderBsPrefix:O}=z),A.jsx(ND,{as:t,ref:e,activeKey:v,className:ge(g,{[S]:!k,[`${I}-nav`]:k,[`${I}-nav-scroll`]:k&&p,[`${O}-${s}`]:!!O,[`${S}-${s}`]:!!s,[`${S}-fill`]:l,[`${S}-justified`]:c}),..._})});Mb.displayName="Nav";const Cs=Object.assign(Mb,{Item:Db,Link:Ob}),Vb=w.forwardRef(({bsPrefix:n,className:e,as:t,...i},s)=>{n=Te(n,"navbar-brand");const l=t||(i.href?"a":"span");return A.jsx(l,{...i,ref:s,className:ge(e,n)})});Vb.displayName="NavbarBrand";const Lb=w.forwardRef(({children:n,bsPrefix:e,...t},i)=>{e=Te(e,"navbar-collapse");const s=w.useContext(cl);return A.jsx(GS,{in:!!(s&&s.expanded),...t,children:A.jsx("div",{ref:i,className:e,children:n})})});Lb.displayName="NavbarCollapse";const kb=w.forwardRef(({bsPrefix:n,className:e,children:t,label:i="Toggle navigation",as:s="button",onClick:l,...c},d)=>{n=Te(n,"navbar-toggler");const{onToggle:p,expanded:g}=w.useContext(cl)||{},v=Ms(_=>{l&&l(_),p&&p()});return s==="button"&&(c.type="button"),A.jsx(s,{...c,ref:d,onClick:v,"aria-label":i,className:ge(e,n,!g&&"collapsed"),children:t||A.jsx("span",{className:`${n}-icon`})})});kb.displayName="NavbarToggle";const Cg=new WeakMap,xw=(n,e)=>{if(!n||!e)return;const t=Cg.get(e)||new Map;Cg.set(e,t);let i=t.get(n);return i||(i=e.matchMedia(n),i.refCount=0,t.set(i.media,i)),i};function e2(n,e=typeof window>"u"?void 0:window){const t=xw(n,e),[i,s]=w.useState(()=>t?t.matches:!1);return _D(()=>{let l=xw(n,e);if(!l)return s(!1);let c=Cg.get(e);const d=()=>{s(l.matches)};return l.refCount++,l.addListener(d),d(),()=>{l.removeListener(d),l.refCount--,l.refCount<=0&&c?.delete(l.media),l=void 0}},[n]),i}function t2(n){const e=Object.keys(n);function t(d,p){return d===p?p:d?`${d} and ${p}`:p}function i(d){return e[Math.min(e.indexOf(d)+1,e.length-1)]}function s(d){const p=i(d);let g=n[p];return typeof g=="number"?g=`${g-.2}px`:g=`calc(${g} - 0.2px)`,`(max-width: ${g})`}function l(d){let p=n[d];return typeof p=="number"&&(p=`${p}px`),`(min-width: ${p})`}function c(d,p,g){let v;typeof d=="object"?(v=d,g=p,p=!0):(p=p||!0,v={[d]:p});let _=w.useMemo(()=>Object.entries(v).reduce((S,[I,O])=>((O==="up"||O===!0)&&(S=t(S,l(I))),(O==="down"||O===!0)&&(S=t(S,s(I))),S),""),[JSON.stringify(v)]);return e2(_,g)}return c}const n2=t2({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),Pb=w.forwardRef(({className:n,bsPrefix:e,as:t="div",...i},s)=>(e=Te(e,"offcanvas-body"),A.jsx(t,{ref:s,className:ge(n,e),...i})));Pb.displayName="OffcanvasBody";const r2={[vr]:"show",[Ai]:"show"},Ub=w.forwardRef(({bsPrefix:n,className:e,children:t,in:i=!1,mountOnEnter:s=!1,unmountOnExit:l=!1,appear:c=!1,...d},p)=>(n=Te(n,"offcanvas"),A.jsx(id,{ref:p,addEndListener:cy,in:i,mountOnEnter:s,unmountOnExit:l,appear:c,...d,childRef:ll(t),children:(g,v)=>w.cloneElement(t,{...v,className:ge(e,t.props.className,(g===vr||g===$u)&&`${n}-toggling`,r2[g])})})));Ub.displayName="OffcanvasToggling";const jb=w.forwardRef(({bsPrefix:n,className:e,closeLabel:t="Close",closeButton:i=!1,...s},l)=>(n=Te(n,"offcanvas-header"),A.jsx(Sy,{ref:l,...s,className:ge(e,n),closeLabel:t,closeButton:i})));jb.displayName="OffcanvasHeader";const i2=oc("h5"),zb=w.forwardRef(({className:n,bsPrefix:e,as:t=i2,...i},s)=>(e=Te(e,"offcanvas-title"),A.jsx(t,{ref:s,className:ge(n,e),...i})));zb.displayName="OffcanvasTitle";function a2(n){return A.jsx(Ub,{...n})}function s2(n){return A.jsx(Zo,{...n})}const Bb=w.forwardRef(({bsPrefix:n,className:e,children:t,"aria-labelledby":i,placement:s="start",responsive:l,show:c=!1,backdrop:d=!0,keyboard:p=!0,scroll:g=!1,onEscapeKeyDown:v,onShow:_,onHide:S,container:I,autoFocus:O=!0,enforceFocus:k=!0,restoreFocus:C=!0,restoreFocusOptions:z,onEntered:$,onExit:Y,onExiting:oe,onEnter:fe,onEntering:ue,onExited:x,backdropClassName:N,manager:D,renderStaticNode:P=!1,...L},B)=>{const M=w.useRef();n=Te(n,"offcanvas");const[qe,lt]=w.useState(!1),W=Ms(S),se=n2(l||"xs","up");w.useEffect(()=>{lt(l?c&&!se:c)},[c,l,se]);const ce=w.useMemo(()=>({onHide:W}),[W]);function De(){return D||(g?(M.current||(M.current=new bb({handleContainerOverflow:!1})),M.current):Ab())}const Le=(ae,...ye)=>{ae&&(ae.style.visibility="visible"),fe?.(ae,...ye)},U=(ae,...ye)=>{ae&&(ae.style.visibility=""),x?.(...ye)},Z=w.useCallback(ae=>A.jsx("div",{...ae,className:ge(`${n}-backdrop`,N)}),[N,n]),ie=ae=>A.jsx("div",{...ae,...L,className:ge(e,l?`${n}-${l}`:n,`${n}-${s}`),"aria-labelledby":i,children:t});return A.jsxs(A.Fragment,{children:[!qe&&(l||P)&&ie({}),A.jsx(Ty.Provider,{value:ce,children:A.jsx(Sb,{show:qe,ref:B,backdrop:d,container:I,keyboard:p,autoFocus:O,enforceFocus:k&&!g,restoreFocus:C,restoreFocusOptions:z,onEscapeKeyDown:v,onShow:_,onHide:W,onEnter:Le,onEntering:ue,onEntered:$,onExit:Y,onExiting:oe,onExited:U,manager:De(),transition:a2,backdropTransition:s2,renderBackdrop:Z,renderDialog:ie})})]})});Bb.displayName="Offcanvas";const o2=Object.assign(Bb,{Body:Pb,Header:jb,Title:zb}),Fb=w.forwardRef(({onHide:n,...e},t)=>{const i=w.useContext(cl),s=Ms(()=>{i==null||i.onToggle==null||i.onToggle(),n?.()});return A.jsx(o2,{ref:t,show:!!(i!=null&&i.expanded),...e,renderStaticNode:!0,onHide:s})});Fb.displayName="NavbarOffcanvas";const $b=w.forwardRef(({className:n,bsPrefix:e,as:t="span",...i},s)=>(e=Te(e,"navbar-text"),A.jsx(t,{ref:s,className:ge(n,e),...i})));$b.displayName="NavbarText";const Hb=w.forwardRef((n,e)=>{const{bsPrefix:t,expand:i=!0,variant:s="light",bg:l,fixed:c,sticky:d,className:p,as:g="nav",expanded:v,onToggle:_,onSelect:S,collapseOnSelect:I=!1,...O}=uy(n,{expanded:"onToggle"}),k=Te(t,"navbar"),C=w.useCallback((...Y)=>{S?.(...Y),I&&v&&_?.(!1)},[S,I,v,_]);O.role===void 0&&g!=="nav"&&(O.role="navigation");let z=`${k}-expand`;typeof i=="string"&&(z=`${z}-${i}`);const $=w.useMemo(()=>({onToggle:()=>_?.(!v),bsPrefix:k,expanded:!!v,expand:i}),[k,v,i,_]);return A.jsx(cl.Provider,{value:$,children:A.jsx(Ih.Provider,{value:C,children:A.jsx(g,{ref:e,...O,className:ge(p,k,i&&z,s&&`${k}-${s}`,l&&`bg-${l}`,d&&`sticky-${d}`,c&&`fixed-${c}`)})})})});Hb.displayName="Navbar";const rh=Object.assign(Hb,{Brand:Vb,Collapse:Lb,Offcanvas:Fb,Text:$b,Toggle:kb}),by=w.forwardRef(({active:n=!1,disabled:e=!1,className:t,style:i,activeLabel:s="(current)",children:l,linkStyle:c,linkClassName:d,as:p=ad,...g},v)=>{const _=n||e?"span":p;return A.jsx("li",{ref:v,style:i,className:ge(t,"page-item",{active:n,disabled:e}),children:A.jsxs(_,{className:ge("page-link",d),style:c,...g,children:[l,n&&s&&A.jsx("span",{className:"visually-hidden",children:s})]})})});by.displayName="PageItem";function lc(n,e,t=n){const i=w.forwardRef(({children:s,...l},c)=>A.jsxs(by,{...l,ref:c,children:[A.jsx("span",{"aria-hidden":"true",children:s||e}),A.jsx("span",{className:"visually-hidden",children:t})]}));return i.displayName=n,i}const l2=lc("First",""),u2=lc("Prev","","Previous"),c2=lc("Ellipsis","","More"),f2=lc("Next",""),h2=lc("Last",""),qb=w.forwardRef(({bsPrefix:n,className:e,size:t,...i},s)=>{const l=Te(n,"pagination");return A.jsx("ul",{ref:s,...i,className:ge(e,l,t&&`${l}-${t}`)})});qb.displayName="Pagination";const Dh=Object.assign(qb,{First:l2,Prev:u2,Ellipsis:c2,Item:by,Next:f2,Last:h2}),Hu=w.forwardRef(({bsPrefix:n,className:e,as:t="div",...i},s)=>{const l=Te(n,"row"),c=jS(),d=zS(),p=`${l}-cols`,g=[];return c.forEach(v=>{const _=i[v];delete i[v];let S;_!=null&&typeof _=="object"?{cols:S}=_:S=_;const I=v!==d?`-${v}`:"";S!=null&&g.push(`${p}${I}-${S}`)}),A.jsx(t,{ref:s,...i,className:ge(e,l,...g)})});Hu.displayName="Row";const Gb=w.forwardRef(({bsPrefix:n,variant:e,animation:t="border",size:i,as:s="div",className:l,...c},d)=>{n=Te(n,"spinner");const p=`${n}-${t}`;return A.jsx(s,{ref:d,...c,className:ge(l,p,i&&`${p}-${i}`,e&&`text-${e}`)})});Gb.displayName="Spinner";const d2=()=>{},Ig=w.forwardRef(({bsPrefix:n,name:e,className:t,checked:i,type:s,onChange:l,value:c,disabled:d,id:p,inputRef:g,...v},_)=>(n=Te(n,"btn-check"),A.jsxs(A.Fragment,{children:[A.jsx("input",{className:n,name:e,type:s,value:c,ref:g,autoComplete:"off",checked:!!i,disabled:!!d,onChange:l||d2,id:p}),A.jsx(mt,{...v,ref:_,className:ge(t,d&&"disabled"),type:void 0,role:void 0,as:"label",htmlFor:p})]})));Ig.displayName="ToggleButton";/**
 * react-router v7.10.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Dw="popstate";function m2(n={}){function e(i,s){let{pathname:l,search:c,hash:d}=i.location;return Ng("",{pathname:l,search:c,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(i,s){return typeof s=="string"?s:qu(s)}return g2(e,t,null,n)}function Bt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Tr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function p2(){return Math.random().toString(36).substring(2,10)}function Ow(n,e){return{usr:n.state,key:n.key,idx:e}}function Ng(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?uc(e):e,state:t,key:e&&e.key||i||p2()}}function qu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function uc(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function g2(n,e,t,i={}){let{window:s=document.defaultView,v5Compat:l=!1}=i,c=s.history,d="POP",p=null,g=v();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function v(){return(c.state||{idx:null}).idx}function _(){d="POP";let C=v(),z=C==null?null:C-g;g=C,p&&p({action:d,location:k.location,delta:z})}function S(C,z){d="PUSH";let $=Ng(k.location,C,z);g=v()+1;let Y=Ow($,g),oe=k.createHref($);try{c.pushState(Y,"",oe)}catch(fe){if(fe instanceof DOMException&&fe.name==="DataCloneError")throw fe;s.location.assign(oe)}l&&p&&p({action:d,location:k.location,delta:1})}function I(C,z){d="REPLACE";let $=Ng(k.location,C,z);g=v();let Y=Ow($,g),oe=k.createHref($);c.replaceState(Y,"",oe),l&&p&&p({action:d,location:k.location,delta:0})}function O(C){return y2(C)}let k={get action(){return d},get location(){return n(s,c)},listen(C){if(p)throw new Error("A history only accepts one active listener");return s.addEventListener(Dw,_),p=C,()=>{s.removeEventListener(Dw,_),p=null}},createHref(C){return e(s,C)},createURL:O,encodeLocation(C){let z=O(C);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:S,replace:I,go(C){return c.go(C)}};return k}function y2(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Bt(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:qu(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function Kb(n,e,t="/"){return v2(n,e,t,!1)}function v2(n,e,t,i){let s=typeof e=="string"?uc(e):e,l=ji(s.pathname||"/",t);if(l==null)return null;let c=Yb(n);_2(c);let d=null;for(let p=0;d==null&&p<c.length;++p){let g=x2(l);d=I2(c[p],g,i)}return d}function Yb(n,e=[],t=[],i="",s=!1){let l=(c,d,p=s,g)=>{let v={relativePath:g===void 0?c.path||"":g,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(i)&&p)return;Bt(v.relativePath.startsWith(i),`Absolute route path "${v.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(i.length)}let _=Li([i,v.relativePath]),S=t.concat(v);c.children&&c.children.length>0&&(Bt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),Yb(c.children,e,S,_,p)),!(c.path==null&&!c.index)&&e.push({path:_,score:R2(_,c.index),routesMeta:S})};return n.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let p of Qb(c.path))l(c,d,!0,p)}),e}function Qb(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return s?[l,""]:[l];let c=Qb(i.join("/")),d=[];return d.push(...c.map(p=>p===""?l:[l,p].join("/"))),s&&d.push(...c),d.map(p=>n.startsWith("/")&&p===""?"/":p)}function _2(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:C2(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var E2=/^:[\w-]+$/,T2=3,w2=2,S2=1,b2=10,A2=-2,Mw=n=>n==="*";function R2(n,e){let t=n.split("/"),i=t.length;return t.some(Mw)&&(i+=A2),e&&(i+=w2),t.filter(s=>!Mw(s)).reduce((s,l)=>s+(E2.test(l)?T2:l===""?S2:b2),i)}function C2(n,e){return n.length===e.length&&n.slice(0,-1).every((i,s)=>i===e[s])?n[n.length-1]-e[e.length-1]:0}function I2(n,e,t=!1){let{routesMeta:i}=n,s={},l="/",c=[];for(let d=0;d<i.length;++d){let p=i[d],g=d===i.length-1,v=l==="/"?e:e.slice(l.length)||"/",_=Oh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},v),S=p.route;if(!_&&g&&t&&!i[i.length-1].route.index&&(_=Oh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},v)),!_)return null;Object.assign(s,_.params),c.push({params:s,pathname:Li([l,_.pathname]),pathnameBase:L2(Li([l,_.pathnameBase])),route:S}),_.pathnameBase!=="/"&&(l=Li([l,_.pathnameBase]))}return c}function Oh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=N2(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let l=s[0],c=l.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:i.reduce((g,{paramName:v,isOptional:_},S)=>{if(v==="*"){let O=d[S]||"";c=l.slice(0,l.length-O.length).replace(/(.)\/+$/,"$1")}const I=d[S];return _&&!I?g[v]=void 0:g[v]=(I||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:n}}function N2(n,e=!1,t=!0){Tr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,p)=>(i.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function x2(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Tr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ji(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}var D2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,O2=n=>D2.test(n);function M2(n,e="/"){let{pathname:t,search:i="",hash:s=""}=typeof n=="string"?uc(n):n,l;if(t)if(O2(t))l=t;else{if(t.includes("//")){let c=t;t=t.replace(/\/\/+/g,"/"),Tr(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${t}`)}t.startsWith("/")?l=Vw(t.substring(1),"/"):l=Vw(t,e)}else l=e;return{pathname:l,search:k2(i),hash:P2(s)}}function Vw(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function rg(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function V2(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Xb(n){let e=V2(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Wb(n,e,t,i=!1){let s;typeof n=="string"?s=uc(n):(s={...n},Bt(!s.pathname||!s.pathname.includes("?"),rg("?","pathname","search",s)),Bt(!s.pathname||!s.pathname.includes("#"),rg("#","pathname","hash",s)),Bt(!s.search||!s.search.includes("#"),rg("#","search","hash",s)));let l=n===""||s.pathname==="",c=l?"/":s.pathname,d;if(c==null)d=t;else{let _=e.length-1;if(!i&&c.startsWith("..")){let S=c.split("/");for(;S[0]==="..";)S.shift(),_-=1;s.pathname=S.join("/")}d=_>=0?e[_]:"/"}let p=M2(s,d),g=c&&c!=="/"&&c.endsWith("/"),v=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||v)&&(p.pathname+="/"),p}var Li=n=>n.join("/").replace(/\/\/+/g,"/"),L2=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),k2=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,P2=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function U2(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function j2(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Jb=["POST","PUT","PATCH","DELETE"];new Set(Jb);var z2=["GET",...Jb];new Set(z2);var fl=w.createContext(null);fl.displayName="DataRouter";var fd=w.createContext(null);fd.displayName="DataRouterState";w.createContext(!1);var Zb=w.createContext({isTransitioning:!1});Zb.displayName="ViewTransition";var B2=w.createContext(new Map);B2.displayName="Fetchers";var F2=w.createContext(null);F2.displayName="Await";var Ar=w.createContext(null);Ar.displayName="Navigation";var hd=w.createContext(null);hd.displayName="Location";var Ki=w.createContext({outlet:null,matches:[],isDataRoute:!1});Ki.displayName="Route";var Ay=w.createContext(null);Ay.displayName="RouteError";function $2(n,{relative:e}={}){Bt(cc(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=w.useContext(Ar),{hash:s,pathname:l,search:c}=fc(n,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:Li([t,l])),i.createHref({pathname:d,search:c,hash:s})}function cc(){return w.useContext(hd)!=null}function $s(){return Bt(cc(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(hd).location}var eA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function tA(n){w.useContext(Ar).static||w.useLayoutEffect(n)}function dd(){let{isDataRoute:n}=w.useContext(Ki);return n?nO():H2()}function H2(){Bt(cc(),"useNavigate() may be used only in the context of a <Router> component.");let n=w.useContext(fl),{basename:e,navigator:t}=w.useContext(Ar),{matches:i}=w.useContext(Ki),{pathname:s}=$s(),l=JSON.stringify(Xb(i)),c=w.useRef(!1);return tA(()=>{c.current=!0}),w.useCallback((p,g={})=>{if(Tr(c.current,eA),!c.current)return;if(typeof p=="number"){t.go(p);return}let v=Wb(p,JSON.parse(l),s,g.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Li([e,v.pathname])),(g.replace?t.replace:t.push)(v,g.state,g)},[e,t,l,s,n])}w.createContext(null);function fc(n,{relative:e}={}){let{matches:t}=w.useContext(Ki),{pathname:i}=$s(),s=JSON.stringify(Xb(t));return w.useMemo(()=>Wb(n,JSON.parse(s),i,e==="path"),[n,s,i,e])}function q2(n,e,t,i,s){Bt(cc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=w.useContext(Ar),{matches:c}=w.useContext(Ki),d=c[c.length-1],p=d?d.params:{},g=d?d.pathname:"/",v=d?d.pathnameBase:"/",_=d&&d.route;{let $=_&&_.path||"";nA(g,!_||$.endsWith("*")||$.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${$}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${$}"> to <Route path="${$==="/"?"*":`${$}/*`}">.`)}let S=$s(),I;I=S;let O=I.pathname||"/",k=O;if(v!=="/"){let $=v.replace(/^\//,"").split("/");k="/"+O.replace(/^\//,"").split("/").slice($.length).join("/")}let C=Kb(n,{pathname:k});return Tr(_||C!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),Tr(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),X2(C&&C.map($=>Object.assign({},$,{params:Object.assign({},p,$.params),pathname:Li([v,l.encodeLocation?l.encodeLocation($.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathname]),pathnameBase:$.pathnameBase==="/"?v:Li([v,l.encodeLocation?l.encodeLocation($.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:$.pathnameBase])})),c,t,i,s)}function G2(){let n=tO(),e=U2(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:l},"ErrorBoundary")," or"," ",w.createElement("code",{style:l},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),t?w.createElement("pre",{style:s},t):null,c)}var K2=w.createElement(G2,null),Y2=class extends w.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?w.createElement(Ki.Provider,{value:this.props.routeContext},w.createElement(Ay.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Q2({routeContext:n,match:e,children:t}){let i=w.useContext(fl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(Ki.Provider,{value:n},t)}function X2(n,e=[],t=null,i=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,c=t?.errors;if(c!=null){let v=l.findIndex(_=>_.route.id&&c?.[_.route.id]!==void 0);Bt(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,v+1))}let d=!1,p=-1;if(t)for(let v=0;v<l.length;v++){let _=l[v];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=v),_.route.id){let{loaderData:S,errors:I}=t,O=_.route.loader&&!S.hasOwnProperty(_.route.id)&&(!I||I[_.route.id]===void 0);if(_.route.lazy||O){d=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}let g=t&&i?(v,_)=>{i(v,{location:t.location,params:t.matches?.[0]?.params??{},unstable_pattern:j2(t.matches),errorInfo:_})}:void 0;return l.reduceRight((v,_,S)=>{let I,O=!1,k=null,C=null;t&&(I=c&&_.route.id?c[_.route.id]:void 0,k=_.route.errorElement||K2,d&&(p<0&&S===0?(nA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,C=null):p===S&&(O=!0,C=_.route.hydrateFallbackElement||null)));let z=e.concat(l.slice(0,S+1)),$=()=>{let Y;return I?Y=k:O?Y=C:_.route.Component?Y=w.createElement(_.route.Component,null):_.route.element?Y=_.route.element:Y=v,w.createElement(Q2,{match:_,routeContext:{outlet:v,matches:z,isDataRoute:t!=null},children:Y})};return t&&(_.route.ErrorBoundary||_.route.errorElement||S===0)?w.createElement(Y2,{location:t.location,revalidation:t.revalidation,component:k,error:I,children:$(),routeContext:{outlet:null,matches:z,isDataRoute:!0},onError:g}):$()},null)}function Ry(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function W2(n){let e=w.useContext(fl);return Bt(e,Ry(n)),e}function J2(n){let e=w.useContext(fd);return Bt(e,Ry(n)),e}function Z2(n){let e=w.useContext(Ki);return Bt(e,Ry(n)),e}function Cy(n){let e=Z2(n),t=e.matches[e.matches.length-1];return Bt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function eO(){return Cy("useRouteId")}function tO(){let n=w.useContext(Ay),e=J2("useRouteError"),t=Cy("useRouteError");return n!==void 0?n:e.errors?.[t]}function nO(){let{router:n}=W2("useNavigate"),e=Cy("useNavigate"),t=w.useRef(!1);return tA(()=>{t.current=!0}),w.useCallback(async(s,l={})=>{Tr(t.current,eA),t.current&&(typeof s=="number"?await n.navigate(s):await n.navigate(s,{fromRouteId:e,...l}))},[n,e])}var Lw={};function nA(n,e,t){!e&&!Lw[n]&&(Lw[n]=!0,Tr(!1,t))}w.memo(rO);function rO({routes:n,future:e,state:t,unstable_onError:i}){return q2(n,void 0,t,i,e)}function iO({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:s,static:l=!1,unstable_useTransitions:c}){Bt(!cc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=n.replace(/^\/*/,"/"),p=w.useMemo(()=>({basename:d,navigator:s,static:l,unstable_useTransitions:c,future:{}}),[d,s,l,c]);typeof t=="string"&&(t=uc(t));let{pathname:g="/",search:v="",hash:_="",state:S=null,key:I="default"}=t,O=w.useMemo(()=>{let k=ji(g,d);return k==null?null:{location:{pathname:k,search:v,hash:_,state:S,key:I},navigationType:i}},[d,g,v,_,S,I,i]);return Tr(O!=null,`<Router basename="${d}"> is not able to match the URL "${g}${v}${_}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:w.createElement(Ar.Provider,{value:p},w.createElement(hd.Provider,{children:e,value:O}))}var mh="get",ph="application/x-www-form-urlencoded";function md(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function aO(n){return md(n)&&n.tagName.toLowerCase()==="button"}function sO(n){return md(n)&&n.tagName.toLowerCase()==="form"}function oO(n){return md(n)&&n.tagName.toLowerCase()==="input"}function lO(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function uO(n,e){return n.button===0&&(!e||e==="_self")&&!lO(n)}var ih=null;function cO(){if(ih===null)try{new FormData(document.createElement("form"),0),ih=!1}catch{ih=!0}return ih}var fO=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ig(n){return n!=null&&!fO.has(n)?(Tr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ph}"`),null):n}function hO(n,e){let t,i,s,l,c;if(sO(n)){let d=n.getAttribute("action");i=d?ji(d,e):null,t=n.getAttribute("method")||mh,s=ig(n.getAttribute("enctype"))||ph,l=new FormData(n)}else if(aO(n)||oO(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||d.getAttribute("action");if(i=p?ji(p,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||mh,s=ig(n.getAttribute("formenctype"))||ig(d.getAttribute("enctype"))||ph,l=new FormData(d,n),!cO()){let{name:g,type:v,value:_}=n;if(v==="image"){let S=g?`${g}.`:"";l.append(`${S}x`,"0"),l.append(`${S}y`,"0")}else g&&l.append(g,_)}}else{if(md(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=mh,i=null,s=ph,c=n}return l&&s==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:s,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Iy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function dO(n,e,t){let i=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return i.pathname==="/"?i.pathname=`_root.${t}`:e&&ji(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${t}`,i}async function mO(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pO(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function gO(n,e,t){let i=await Promise.all(n.map(async s=>{let l=e.routes[s.route.id];if(l){let c=await mO(l,t);return c.links?c.links():[]}return[]}));return EO(i.flat(1).filter(pO).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function kw(n,e,t,i,s,l){let c=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,d=(p,g)=>t[g].pathname!==p.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==p.params["*"];return l==="assets"?e.filter((p,g)=>c(p,g)||d(p,g)):l==="data"?e.filter((p,g)=>{let v=i.routes[p.route.id];if(!v||!v.hasLoader)return!1;if(c(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let _=p.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function yO(n,e,{includeHydrateFallback:t}={}){return vO(n.map(i=>{let s=e.routes[i.route.id];if(!s)return[];let l=[s.module];return s.clientActionModule&&(l=l.concat(s.clientActionModule)),s.clientLoaderModule&&(l=l.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(l=l.concat(s.hydrateFallbackModule)),s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function vO(n){return[...new Set(n)]}function _O(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function EO(n,e){let t=new Set;return new Set(e),n.reduce((i,s)=>{let l=JSON.stringify(_O(s));return t.has(l)||(t.add(l),i.push({key:l,link:s})),i},[])}function rA(){let n=w.useContext(fl);return Iy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function TO(){let n=w.useContext(fd);return Iy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Ny=w.createContext(void 0);Ny.displayName="FrameworkContext";function iA(){let n=w.useContext(Ny);return Iy(n,"You must render this element inside a <HydratedRouter> element"),n}function wO(n,e){let t=w.useContext(Ny),[i,s]=w.useState(!1),[l,c]=w.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:v,onTouchStart:_}=e,S=w.useRef(null);w.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let k=z=>{z.forEach($=>{c($.isIntersecting)})},C=new IntersectionObserver(k,{threshold:.5});return S.current&&C.observe(S.current),()=>{C.disconnect()}}},[n]),w.useEffect(()=>{if(i){let k=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(k)}}},[i]);let I=()=>{s(!0)},O=()=>{s(!1),c(!1)};return t?n!=="intent"?[l,S,{}]:[l,S,{onFocus:Nu(d,I),onBlur:Nu(p,O),onMouseEnter:Nu(g,I),onMouseLeave:Nu(v,O),onTouchStart:Nu(_,I)}]:[!1,S,{}]}function Nu(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function SO({page:n,...e}){let{router:t}=rA(),i=w.useMemo(()=>Kb(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?w.createElement(AO,{page:n,matches:i,...e}):null}function bO(n){let{manifest:e,routeModules:t}=iA(),[i,s]=w.useState([]);return w.useEffect(()=>{let l=!1;return gO(n,e,t).then(c=>{l||s(c)}),()=>{l=!0}},[n,e,t]),i}function AO({page:n,matches:e,...t}){let i=$s(),{manifest:s,routeModules:l}=iA(),{basename:c}=rA(),{loaderData:d,matches:p}=TO(),g=w.useMemo(()=>kw(n,e,p,s,i,"data"),[n,e,p,s,i]),v=w.useMemo(()=>kw(n,e,p,s,i,"assets"),[n,e,p,s,i]),_=w.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let O=new Set,k=!1;if(e.forEach(z=>{let $=s.routes[z.route.id];!$||!$.hasLoader||(!g.some(Y=>Y.route.id===z.route.id)&&z.route.id in d&&l[z.route.id]?.shouldRevalidate||$.hasClientLoader?k=!0:O.add(z.route.id))}),O.size===0)return[];let C=dO(n,c,"data");return k&&O.size>0&&C.searchParams.set("_routes",e.filter(z=>O.has(z.route.id)).map(z=>z.route.id).join(",")),[C.pathname+C.search]},[c,d,i,s,g,e,n,l]),S=w.useMemo(()=>yO(v,s),[v,s]),I=bO(v);return w.createElement(w.Fragment,null,_.map(O=>w.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...t})),S.map(O=>w.createElement("link",{key:O,rel:"modulepreload",href:O,...t})),I.map(({key:O,link:k})=>w.createElement("link",{key:O,nonce:t.nonce,...k})))}function RO(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var aA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{aA&&(window.__reactRouterVersion="7.10.1")}catch{}function CO({basename:n,children:e,unstable_useTransitions:t,window:i}){let s=w.useRef();s.current==null&&(s.current=m2({window:i,v5Compat:!0}));let l=s.current,[c,d]=w.useState({action:l.action,location:l.location}),p=w.useCallback(g=>{t===!1?d(g):w.startTransition(()=>d(g))},[t]);return w.useLayoutEffect(()=>l.listen(p),[l,p]),w.createElement(iO,{basename:n,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:t===!0})}var sA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oA=w.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:s,reloadDocument:l,replace:c,state:d,target:p,to:g,preventScrollReset:v,viewTransition:_,...S},I){let{basename:O,unstable_useTransitions:k}=w.useContext(Ar),C=typeof g=="string"&&sA.test(g),z,$=!1;if(typeof g=="string"&&C&&(z=g,aA))try{let P=new URL(window.location.href),L=g.startsWith("//")?new URL(P.protocol+g):new URL(g),B=ji(L.pathname,O);L.origin===P.origin&&B!=null?g=B+L.search+L.hash:$=!0}catch{Tr(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=$2(g,{relative:s}),[oe,fe,ue]=wO(i,S),x=DO(g,{replace:c,state:d,target:p,preventScrollReset:v,relative:s,viewTransition:_,unstable_useTransitions:k});function N(P){e&&e(P),P.defaultPrevented||x(P)}let D=w.createElement("a",{...S,...ue,href:z||Y,onClick:$||l?e:N,ref:RO(I,fe),target:p,"data-discover":!C&&t==="render"?"true":void 0});return oe&&!C?w.createElement(w.Fragment,null,D,w.createElement(SO,{page:Y})):D});oA.displayName="Link";var IO=w.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:s=!1,style:l,to:c,viewTransition:d,children:p,...g},v){let _=fc(c,{relative:g.relative}),S=$s(),I=w.useContext(fd),{navigator:O,basename:k}=w.useContext(Ar),C=I!=null&&kO(_)&&d===!0,z=O.encodeLocation?O.encodeLocation(_).pathname:_.pathname,$=S.pathname,Y=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;t||($=$.toLowerCase(),Y=Y?Y.toLowerCase():null,z=z.toLowerCase()),Y&&k&&(Y=ji(Y,k)||Y);const oe=z!=="/"&&z.endsWith("/")?z.length-1:z.length;let fe=$===z||!s&&$.startsWith(z)&&$.charAt(oe)==="/",ue=Y!=null&&(Y===z||!s&&Y.startsWith(z)&&Y.charAt(z.length)==="/"),x={isActive:fe,isPending:ue,isTransitioning:C},N=fe?e:void 0,D;typeof i=="function"?D=i(x):D=[i,fe?"active":null,ue?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let P=typeof l=="function"?l(x):l;return w.createElement(oA,{...g,"aria-current":N,className:D,ref:v,style:P,to:c,viewTransition:d},typeof p=="function"?p(x):p)});IO.displayName="NavLink";var NO=w.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:s,state:l,method:c=mh,action:d,onSubmit:p,relative:g,preventScrollReset:v,viewTransition:_,...S},I)=>{let{unstable_useTransitions:O}=w.useContext(Ar),k=VO(),C=LO(d,{relative:g}),z=c.toLowerCase()==="get"?"get":"post",$=typeof d=="string"&&sA.test(d),Y=oe=>{if(p&&p(oe),oe.defaultPrevented)return;oe.preventDefault();let fe=oe.nativeEvent.submitter,ue=fe?.getAttribute("formmethod")||c,x=()=>k(fe||oe.currentTarget,{fetcherKey:e,method:ue,navigate:t,replace:s,state:l,relative:g,preventScrollReset:v,viewTransition:_});O&&t!==!1?w.startTransition(()=>x()):x()};return w.createElement("form",{ref:I,method:z,action:C,onSubmit:i?p:Y,...S,"data-discover":!$&&n==="render"?"true":void 0})});NO.displayName="Form";function xO(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lA(n){let e=w.useContext(fl);return Bt(e,xO(n)),e}function DO(n,{target:e,replace:t,state:i,preventScrollReset:s,relative:l,viewTransition:c,unstable_useTransitions:d}={}){let p=dd(),g=$s(),v=fc(n,{relative:l});return w.useCallback(_=>{if(uO(_,e)){_.preventDefault();let S=t!==void 0?t:qu(g)===qu(v),I=()=>p(n,{replace:S,state:i,preventScrollReset:s,relative:l,viewTransition:c});d?w.startTransition(()=>I()):I()}},[g,p,v,t,i,e,n,s,l,c,d])}var OO=0,MO=()=>`__${String(++OO)}__`;function VO(){let{router:n}=lA("useSubmit"),{basename:e}=w.useContext(Ar),t=eO(),i=n.fetch,s=n.navigate;return w.useCallback(async(l,c={})=>{let{action:d,method:p,encType:g,formData:v,body:_}=hO(l,e);if(c.navigate===!1){let S=c.fetcherKey||MO();await i(S,t,c.action||d,{preventScrollReset:c.preventScrollReset,formData:v,body:_,formMethod:c.method||p,formEncType:c.encType||g,flushSync:c.flushSync})}else await s(c.action||d,{preventScrollReset:c.preventScrollReset,formData:v,body:_,formMethod:c.method||p,formEncType:c.encType||g,replace:c.replace,state:c.state,fromRouteId:t,flushSync:c.flushSync,viewTransition:c.viewTransition})},[i,s,e,t])}function LO(n,{relative:e}={}){let{basename:t}=w.useContext(Ar),i=w.useContext(Ki);Bt(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),l={...fc(n||".",{relative:e})},c=$s();if(n==null){l.search=c.search;let d=new URLSearchParams(l.search),p=d.getAll("index");if(p.some(v=>v==="")){d.delete("index"),p.filter(_=>_).forEach(_=>d.append("index",_));let v=d.toString();l.search=v?`?${v}`:""}}return(!n||n===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:Li([t,l.pathname])),qu(l)}function kO(n,{relative:e}={}){let t=w.useContext(Zb);Bt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=lA("useViewTransitionState"),s=fc(n,{relative:e});if(!t.isTransitioning)return!1;let l=ji(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=ji(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Oh(s.pathname,c)!=null||Oh(s.pathname,l)!=null}function PO(){const n=dd();return A.jsxs("div",{children:[A.jsx("h1",{children:"Welcome to Riffrate"}),A.jsx("br",{}),A.jsx("h2",{children:"Track artists and venues you love."}),A.jsx("h2",{children:"Tell your friends whats good."}),A.jsx("br",{})," ",A.jsx("br",{})," ",A.jsx("br",{})," ",A.jsx("br",{})," ",A.jsx("br",{})," ",A.jsx("br",{}),A.jsxs("div",{className:"d-grid gap-2 d-md-block",children:[A.jsx(mt,{type:"button",style:{backgroundColor:"#ffb0b0ff",borderColor:"#520000ff",color:"#520000ff"},className:"btn btn-outline-dark me-4",onClick:()=>n("/ReviewByBand"),children:"See Reviews by Band"}),A.jsx(mt,{type:"button",style:{backgroundColor:"#ffb0b0ff",borderColor:"#520000ff",color:"#520000ff"},className:"btn btn-outline-dark me-4",onClick:()=>n("/ReviewByVenue"),children:"See Reviews by Venue"}),A.jsx(mt,{type:"button",style:{backgroundColor:"#eff6ee",borderColor:"#273043",color:"#273043"},className:"btn btn-success",onClick:()=>n("/ReviewPage"),children:"Write a Review"})]})]})}const UO=()=>{};var Pw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},jO=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const s=n[t++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const l=n[t++];e[i++]=String.fromCharCode((s&31)<<6|l&63)}else if(s>239&&s<365){const l=n[t++],c=n[t++],d=n[t++],p=((s&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((s&15)<<12|(l&63)<<6|c&63)}}return e.join("")},cA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const l=n[s],c=s+1<n.length,d=c?n[s+1]:0,p=s+2<n.length,g=p?n[s+2]:0,v=l>>2,_=(l&3)<<4|d>>4;let S=(d&15)<<2|g>>6,I=g&63;p||(I=64,c||(S=64)),i.push(t[v],t[_],t[S],t[I])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(uA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):jO(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const l=t[n.charAt(s++)],d=s<n.length?t[n.charAt(s)]:0;++s;const g=s<n.length?t[n.charAt(s)]:64;++s;const _=s<n.length?t[n.charAt(s)]:64;if(++s,l==null||d==null||g==null||_==null)throw new zO;const S=l<<2|d>>4;if(i.push(S),g!==64){const I=d<<4&240|g>>2;if(i.push(I),_!==64){const O=g<<6&192|_;i.push(O)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class zO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BO=function(n){const e=uA(n);return cA.encodeByteArray(e,!0)},Mh=function(n){return BO(n).replace(/\./g,"")},fA=function(n){try{return cA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $O=()=>FO().__FIREBASE_DEFAULTS__,HO=()=>{if(typeof process>"u"||typeof Pw>"u")return;const n=Pw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},qO=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&fA(n[1]);return e&&JSON.parse(e)},pd=()=>{try{return UO()||$O()||HO()||qO()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},hA=n=>pd()?.emulatorHosts?.[n],GO=n=>{const e=hA(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},dA=()=>pd()?.config,mA=n=>pd()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hl(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function pA(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YO(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",s=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Mh(JSON.stringify(t)),Mh(JSON.stringify(c)),""].join(".")}const ku={};function QO(){const n={prod:[],emulator:[]};for(const e of Object.keys(ku))ku[e]?n.emulator.push(e):n.prod.push(e);return n}function XO(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let Uw=!1;function gA(n,e){if(typeof window>"u"||typeof document>"u"||!hl(window.location.host)||ku[n]===e||ku[n]||Uw)return;ku[n]=e;function t(S){return`__firebase__banner__${S}`}const i="__firebase__banner",l=QO().prod.length>0;function c(){const S=document.getElementById(i);S&&S.remove()}function d(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,I){S.setAttribute("width","24"),S.setAttribute("id",I),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function g(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{Uw=!0,c()},S}function v(S,I){S.setAttribute("id",I),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function _(){const S=XO(i),I=t("text"),O=document.getElementById(I)||document.createElement("span"),k=t("learnmore"),C=document.getElementById(k)||document.createElement("a"),z=t("preprendIcon"),$=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const Y=S.element;d(Y),v(C,k);const oe=g();p($,z),Y.append($,O,C,oe),document.body.appendChild(Y)}l?(O.innerText="Preview backend disconnected.",$.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):($.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function WO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function JO(){const n=pd()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ZO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yA(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function eM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function tM(){const n=un();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function nM(){return!JO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vA(){try{return typeof indexedDB=="object"}catch{return!1}}function _A(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}function rM(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM="FirebaseError";class Rr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=iM,Object.setPrototypeOf(this,Rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hs.prototype.create)}}class Hs{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},s=`${this.service}/${e}`,l=this.errors[e],c=l?aM(l,i):"Error",d=`${this.serviceName}: ${c} (${s}).`;return new Rr(s,d,i)}}function aM(n,e){return n.replace(sM,(t,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const sM=/\{\$([^}]+)}/g;function oM(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ua(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const s of t){if(!i.includes(s))return!1;const l=n[s],c=e[s];if(jw(l)&&jw(c)){if(!Ua(l,c))return!1}else if(l!==c)return!1}for(const s of i)if(!t.includes(s))return!1;return!0}function jw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hc(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Du(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,l]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(l)}}),e}function Ou(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function lM(n,e){const t=new uM(n,e);return t.subscribe.bind(t)}class uM{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let s;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");cM(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:i},s.next===void 0&&(s.next=ag),s.error===void 0&&(s.error=ag),s.complete===void 0&&(s.complete=ag);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cM(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function ag(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM=1e3,hM=2,dM=14400*1e3,mM=.5;function zw(n,e=fM,t=hM){const i=e*Math.pow(t,n),s=Math.round(mM*i*(Math.random()-.5)*2);return Math.min(dM,i+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(n){return n&&n._delegate?n._delegate:n}class wr{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ns="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new KO;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yM(e))try{this.getOrInitializeService({instanceIdentifier:Ns})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:s});i.resolve(l)}catch{}}}}clearInstance(e=Ns){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ns){return this.instances.has(e)}getOptions(e=Ns){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(s)}return s}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(i)??new Set;s.add(e),this.onInitCallbacks.set(i,s);const l=this.instances.get(i);return l&&e(l,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const s of i)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:gM(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ns){return this.component?this.component.multipleInstances?e:Ns:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gM(n){return n===Ns?void 0:n}function yM(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new pM(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(je||(je={}));const _M={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},EM=je.INFO,TM={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},wM=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),s=TM[e];if(s)console[s](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gd{constructor(e){this.name=e,this._logLevel=EM,this._logHandler=wM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_M[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const SM=(n,e)=>e.some(t=>n instanceof t);let Bw,Fw;function bM(){return Bw||(Bw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AM(){return Fw||(Fw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const EA=new WeakMap,xg=new WeakMap,TA=new WeakMap,sg=new WeakMap,xy=new WeakMap;function RM(n){const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(Ma(n.result)),s()},c=()=>{i(n.error),s()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&EA.set(t,n)}).catch(()=>{}),xy.set(e,n),e}function CM(n){if(xg.has(n))return;const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),s()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});xg.set(n,e)}let Dg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return xg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||TA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ma(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function IM(n){Dg=n(Dg)}function NM(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(og(this),e,...t);return TA.set(i,e.sort?e.sort():[e]),Ma(i)}:AM().includes(n)?function(...e){return n.apply(og(this),e),Ma(EA.get(this))}:function(...e){return Ma(n.apply(og(this),e))}}function xM(n){return typeof n=="function"?NM(n):(n instanceof IDBTransaction&&CM(n),SM(n,bM())?new Proxy(n,Dg):n)}function Ma(n){if(n instanceof IDBRequest)return RM(n);if(sg.has(n))return sg.get(n);const e=xM(n);return e!==n&&(sg.set(n,e),xy.set(e,n)),e}const og=n=>xy.get(n);function wA(n,e,{blocked:t,upgrade:i,blocking:s,terminated:l}={}){const c=indexedDB.open(n,e),d=Ma(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Ma(c.result),p.oldVersion,p.newVersion,Ma(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{l&&p.addEventListener("close",()=>l()),s&&p.addEventListener("versionchange",g=>s(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const DM=["get","getKey","getAll","getAllKeys","count"],OM=["put","add","delete","clear"],lg=new Map;function $w(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(lg.get(e))return lg.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,s=OM.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(s||DM.includes(t)))return;const l=async function(c,...d){const p=this.transaction(c,s?"readwrite":"readonly");let g=p.store;return i&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),s&&p.done]))[0]};return lg.set(e,l),l}IM(n=>({...n,get:(e,t,i)=>$w(e,t)||n.get(e,t,i),has:(e,t)=>!!$w(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(VM(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function VM(n){return n.getComponent()?.type==="VERSION"}const Og="@firebase/app",Hw="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi=new gd("@firebase/app"),LM="@firebase/app-compat",kM="@firebase/analytics-compat",PM="@firebase/analytics",UM="@firebase/app-check-compat",jM="@firebase/app-check",zM="@firebase/auth",BM="@firebase/auth-compat",FM="@firebase/database",$M="@firebase/data-connect",HM="@firebase/database-compat",qM="@firebase/functions",GM="@firebase/functions-compat",KM="@firebase/installations",YM="@firebase/installations-compat",QM="@firebase/messaging",XM="@firebase/messaging-compat",WM="@firebase/performance",JM="@firebase/performance-compat",ZM="@firebase/remote-config",eV="@firebase/remote-config-compat",tV="@firebase/storage",nV="@firebase/storage-compat",rV="@firebase/firestore",iV="@firebase/ai",aV="@firebase/firestore-compat",sV="firebase",oV="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mg="[DEFAULT]",lV={[Og]:"fire-core",[LM]:"fire-core-compat",[PM]:"fire-analytics",[kM]:"fire-analytics-compat",[jM]:"fire-app-check",[UM]:"fire-app-check-compat",[zM]:"fire-auth",[BM]:"fire-auth-compat",[FM]:"fire-rtdb",[$M]:"fire-data-connect",[HM]:"fire-rtdb-compat",[qM]:"fire-fn",[GM]:"fire-fn-compat",[KM]:"fire-iid",[YM]:"fire-iid-compat",[QM]:"fire-fcm",[XM]:"fire-fcm-compat",[WM]:"fire-perf",[JM]:"fire-perf-compat",[ZM]:"fire-rc",[eV]:"fire-rc-compat",[tV]:"fire-gcs",[nV]:"fire-gcs-compat",[rV]:"fire-fst",[aV]:"fire-fst-compat",[iV]:"fire-vertex","fire-js":"fire-js",[sV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vh=new Map,uV=new Map,Vg=new Map;function qw(n,e){try{n.container.addComponent(e)}catch(t){zi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ni(n){const e=n.name;if(Vg.has(e))return zi.debug(`There were multiple attempts to register component ${e}.`),!1;Vg.set(e,n);for(const t of Vh.values())qw(t,n);for(const t of uV.values())qw(t,n);return!0}function qs(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Mn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Va=new Hs("app","Firebase",cV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new wr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Va.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl=oV;function SA(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i={name:Mg,automaticDataCollectionEnabled:!0,...e},s=i.name;if(typeof s!="string"||!s)throw Va.create("bad-app-name",{appName:String(s)});if(t||(t=dA()),!t)throw Va.create("no-options");const l=Vh.get(s);if(l){if(Ua(t,l.options)&&Ua(i,l.config))return l;throw Va.create("duplicate-app",{appName:s})}const c=new vM(s);for(const p of Vg.values())c.addComponent(p);const d=new fV(t,i,c);return Vh.set(s,d),d}function Dy(n=Mg){const e=Vh.get(n);if(!e&&n===Mg&&dA())return SA();if(!e)throw Va.create("no-app",{appName:n});return e}function Zn(n,e,t){let i=lV[n]??n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),l=e.match(/\s|\//);if(s||l){const c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zi.warn(c.join(" "));return}ni(new wr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV="firebase-heartbeat-database",dV=1,Gu="firebase-heartbeat-store";let ug=null;function bA(){return ug||(ug=wA(hV,dV,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Gu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Va.create("idb-open",{originalErrorMessage:n.message})})),ug}async function mV(n){try{const t=(await bA()).transaction(Gu),i=await t.objectStore(Gu).get(AA(n));return await t.done,i}catch(e){if(e instanceof Rr)zi.warn(e.message);else{const t=Va.create("idb-get",{originalErrorMessage:e?.message});zi.warn(t.message)}}}async function Gw(n,e){try{const i=(await bA()).transaction(Gu,"readwrite");await i.objectStore(Gu).put(e,AA(n)),await i.done}catch(t){if(t instanceof Rr)zi.warn(t.message);else{const i=Va.create("idb-set",{originalErrorMessage:t?.message});zi.warn(i.message)}}}function AA(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV=1024,gV=30;class yV{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new _V(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Kw();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>gV){const s=EV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){zi.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Kw(),{heartbeatsToSend:t,unsentEntries:i}=vV(this._heartbeatsCache.heartbeats),s=Mh(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return zi.warn(e),""}}}function Kw(){return new Date().toISOString().substring(0,10)}function vV(n,e=pV){const t=[];let i=n.slice();for(const s of n){const l=t.find(c=>c.agent===s.agent);if(l){if(l.dates.push(s.date),Yw(t)>e){l.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Yw(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class _V{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vA()?_A().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await mV(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Gw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return Gw(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Yw(n){return Mh(JSON.stringify({version:2,heartbeats:n})).length}function EV(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TV(n){ni(new wr("platform-logger",e=>new MM(e),"PRIVATE")),ni(new wr("heartbeat",e=>new yV(e),"PRIVATE")),Zn(Og,Hw,n),Zn(Og,Hw,"esm2020"),Zn("fire-js","")}TV("");var Qw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var La,RA;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,N){function D(){}D.prototype=N.prototype,x.F=N.prototype,x.prototype=new D,x.prototype.constructor=x,x.D=function(P,L,B){for(var M=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)M[qe-2]=arguments[qe];return N.prototype[L].apply(P,M)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(x,N,D){D||(D=0);const P=Array(16);if(typeof N=="string")for(var L=0;L<16;++L)P[L]=N.charCodeAt(D++)|N.charCodeAt(D++)<<8|N.charCodeAt(D++)<<16|N.charCodeAt(D++)<<24;else for(L=0;L<16;++L)P[L]=N[D++]|N[D++]<<8|N[D++]<<16|N[D++]<<24;N=x.g[0],D=x.g[1],L=x.g[2];let B=x.g[3],M;M=N+(B^D&(L^B))+P[0]+3614090360&4294967295,N=D+(M<<7&4294967295|M>>>25),M=B+(L^N&(D^L))+P[1]+3905402710&4294967295,B=N+(M<<12&4294967295|M>>>20),M=L+(D^B&(N^D))+P[2]+606105819&4294967295,L=B+(M<<17&4294967295|M>>>15),M=D+(N^L&(B^N))+P[3]+3250441966&4294967295,D=L+(M<<22&4294967295|M>>>10),M=N+(B^D&(L^B))+P[4]+4118548399&4294967295,N=D+(M<<7&4294967295|M>>>25),M=B+(L^N&(D^L))+P[5]+1200080426&4294967295,B=N+(M<<12&4294967295|M>>>20),M=L+(D^B&(N^D))+P[6]+2821735955&4294967295,L=B+(M<<17&4294967295|M>>>15),M=D+(N^L&(B^N))+P[7]+4249261313&4294967295,D=L+(M<<22&4294967295|M>>>10),M=N+(B^D&(L^B))+P[8]+1770035416&4294967295,N=D+(M<<7&4294967295|M>>>25),M=B+(L^N&(D^L))+P[9]+2336552879&4294967295,B=N+(M<<12&4294967295|M>>>20),M=L+(D^B&(N^D))+P[10]+4294925233&4294967295,L=B+(M<<17&4294967295|M>>>15),M=D+(N^L&(B^N))+P[11]+2304563134&4294967295,D=L+(M<<22&4294967295|M>>>10),M=N+(B^D&(L^B))+P[12]+1804603682&4294967295,N=D+(M<<7&4294967295|M>>>25),M=B+(L^N&(D^L))+P[13]+4254626195&4294967295,B=N+(M<<12&4294967295|M>>>20),M=L+(D^B&(N^D))+P[14]+2792965006&4294967295,L=B+(M<<17&4294967295|M>>>15),M=D+(N^L&(B^N))+P[15]+1236535329&4294967295,D=L+(M<<22&4294967295|M>>>10),M=N+(L^B&(D^L))+P[1]+4129170786&4294967295,N=D+(M<<5&4294967295|M>>>27),M=B+(D^L&(N^D))+P[6]+3225465664&4294967295,B=N+(M<<9&4294967295|M>>>23),M=L+(N^D&(B^N))+P[11]+643717713&4294967295,L=B+(M<<14&4294967295|M>>>18),M=D+(B^N&(L^B))+P[0]+3921069994&4294967295,D=L+(M<<20&4294967295|M>>>12),M=N+(L^B&(D^L))+P[5]+3593408605&4294967295,N=D+(M<<5&4294967295|M>>>27),M=B+(D^L&(N^D))+P[10]+38016083&4294967295,B=N+(M<<9&4294967295|M>>>23),M=L+(N^D&(B^N))+P[15]+3634488961&4294967295,L=B+(M<<14&4294967295|M>>>18),M=D+(B^N&(L^B))+P[4]+3889429448&4294967295,D=L+(M<<20&4294967295|M>>>12),M=N+(L^B&(D^L))+P[9]+568446438&4294967295,N=D+(M<<5&4294967295|M>>>27),M=B+(D^L&(N^D))+P[14]+3275163606&4294967295,B=N+(M<<9&4294967295|M>>>23),M=L+(N^D&(B^N))+P[3]+4107603335&4294967295,L=B+(M<<14&4294967295|M>>>18),M=D+(B^N&(L^B))+P[8]+1163531501&4294967295,D=L+(M<<20&4294967295|M>>>12),M=N+(L^B&(D^L))+P[13]+2850285829&4294967295,N=D+(M<<5&4294967295|M>>>27),M=B+(D^L&(N^D))+P[2]+4243563512&4294967295,B=N+(M<<9&4294967295|M>>>23),M=L+(N^D&(B^N))+P[7]+1735328473&4294967295,L=B+(M<<14&4294967295|M>>>18),M=D+(B^N&(L^B))+P[12]+2368359562&4294967295,D=L+(M<<20&4294967295|M>>>12),M=N+(D^L^B)+P[5]+4294588738&4294967295,N=D+(M<<4&4294967295|M>>>28),M=B+(N^D^L)+P[8]+2272392833&4294967295,B=N+(M<<11&4294967295|M>>>21),M=L+(B^N^D)+P[11]+1839030562&4294967295,L=B+(M<<16&4294967295|M>>>16),M=D+(L^B^N)+P[14]+4259657740&4294967295,D=L+(M<<23&4294967295|M>>>9),M=N+(D^L^B)+P[1]+2763975236&4294967295,N=D+(M<<4&4294967295|M>>>28),M=B+(N^D^L)+P[4]+1272893353&4294967295,B=N+(M<<11&4294967295|M>>>21),M=L+(B^N^D)+P[7]+4139469664&4294967295,L=B+(M<<16&4294967295|M>>>16),M=D+(L^B^N)+P[10]+3200236656&4294967295,D=L+(M<<23&4294967295|M>>>9),M=N+(D^L^B)+P[13]+681279174&4294967295,N=D+(M<<4&4294967295|M>>>28),M=B+(N^D^L)+P[0]+3936430074&4294967295,B=N+(M<<11&4294967295|M>>>21),M=L+(B^N^D)+P[3]+3572445317&4294967295,L=B+(M<<16&4294967295|M>>>16),M=D+(L^B^N)+P[6]+76029189&4294967295,D=L+(M<<23&4294967295|M>>>9),M=N+(D^L^B)+P[9]+3654602809&4294967295,N=D+(M<<4&4294967295|M>>>28),M=B+(N^D^L)+P[12]+3873151461&4294967295,B=N+(M<<11&4294967295|M>>>21),M=L+(B^N^D)+P[15]+530742520&4294967295,L=B+(M<<16&4294967295|M>>>16),M=D+(L^B^N)+P[2]+3299628645&4294967295,D=L+(M<<23&4294967295|M>>>9),M=N+(L^(D|~B))+P[0]+4096336452&4294967295,N=D+(M<<6&4294967295|M>>>26),M=B+(D^(N|~L))+P[7]+1126891415&4294967295,B=N+(M<<10&4294967295|M>>>22),M=L+(N^(B|~D))+P[14]+2878612391&4294967295,L=B+(M<<15&4294967295|M>>>17),M=D+(B^(L|~N))+P[5]+4237533241&4294967295,D=L+(M<<21&4294967295|M>>>11),M=N+(L^(D|~B))+P[12]+1700485571&4294967295,N=D+(M<<6&4294967295|M>>>26),M=B+(D^(N|~L))+P[3]+2399980690&4294967295,B=N+(M<<10&4294967295|M>>>22),M=L+(N^(B|~D))+P[10]+4293915773&4294967295,L=B+(M<<15&4294967295|M>>>17),M=D+(B^(L|~N))+P[1]+2240044497&4294967295,D=L+(M<<21&4294967295|M>>>11),M=N+(L^(D|~B))+P[8]+1873313359&4294967295,N=D+(M<<6&4294967295|M>>>26),M=B+(D^(N|~L))+P[15]+4264355552&4294967295,B=N+(M<<10&4294967295|M>>>22),M=L+(N^(B|~D))+P[6]+2734768916&4294967295,L=B+(M<<15&4294967295|M>>>17),M=D+(B^(L|~N))+P[13]+1309151649&4294967295,D=L+(M<<21&4294967295|M>>>11),M=N+(L^(D|~B))+P[4]+4149444226&4294967295,N=D+(M<<6&4294967295|M>>>26),M=B+(D^(N|~L))+P[11]+3174756917&4294967295,B=N+(M<<10&4294967295|M>>>22),M=L+(N^(B|~D))+P[2]+718787259&4294967295,L=B+(M<<15&4294967295|M>>>17),M=D+(B^(L|~N))+P[9]+3951481745&4294967295,x.g[0]=x.g[0]+N&4294967295,x.g[1]=x.g[1]+(L+(M<<21&4294967295|M>>>11))&4294967295,x.g[2]=x.g[2]+L&4294967295,x.g[3]=x.g[3]+B&4294967295}i.prototype.v=function(x,N){N===void 0&&(N=x.length);const D=N-this.blockSize,P=this.C;let L=this.h,B=0;for(;B<N;){if(L==0)for(;B<=D;)s(this,x,B),B+=this.blockSize;if(typeof x=="string"){for(;B<N;)if(P[L++]=x.charCodeAt(B++),L==this.blockSize){s(this,P),L=0;break}}else for(;B<N;)if(P[L++]=x[B++],L==this.blockSize){s(this,P),L=0;break}}this.h=L,this.o+=N},i.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var N=1;N<x.length-8;++N)x[N]=0;N=this.o*8;for(var D=x.length-8;D<x.length;++D)x[D]=N&255,N/=256;for(this.v(x),x=Array(16),N=0,D=0;D<4;++D)for(let P=0;P<32;P+=8)x[N++]=this.g[D]>>>P&255;return x};function l(x,N){var D=d;return Object.prototype.hasOwnProperty.call(D,x)?D[x]:D[x]=N(x)}function c(x,N){this.h=N;const D=[];let P=!0;for(let L=x.length-1;L>=0;L--){const B=x[L]|0;P&&B==N||(D[L]=B,P=!1)}this.g=D}var d={};function p(x){return-128<=x&&x<128?l(x,function(N){return new c([N|0],N<0?-1:0)}):new c([x|0],x<0?-1:0)}function g(x){if(isNaN(x)||!isFinite(x))return _;if(x<0)return C(g(-x));const N=[];let D=1;for(let P=0;x>=D;P++)N[P]=x/D|0,D*=4294967296;return new c(N,0)}function v(x,N){if(x.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(x.charAt(0)=="-")return C(v(x.substring(1),N));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=g(Math.pow(N,8));let P=_;for(let B=0;B<x.length;B+=8){var L=Math.min(8,x.length-B);const M=parseInt(x.substring(B,B+L),N);L<8?(L=g(Math.pow(N,L)),P=P.j(L).add(g(M))):(P=P.j(D),P=P.add(g(M)))}return P}var _=p(0),S=p(1),I=p(16777216);n=c.prototype,n.m=function(){if(k(this))return-C(this).m();let x=0,N=1;for(let D=0;D<this.g.length;D++){const P=this.i(D);x+=(P>=0?P:4294967296+P)*N,N*=4294967296}return x},n.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(O(this))return"0";if(k(this))return"-"+C(this).toString(x);const N=g(Math.pow(x,6));var D=this;let P="";for(;;){const L=oe(D,N).g;D=z(D,L.j(N));let B=((D.g.length>0?D.g[0]:D.h)>>>0).toString(x);if(D=L,O(D))return B+P;for(;B.length<6;)B="0"+B;P=B+P}},n.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function O(x){if(x.h!=0)return!1;for(let N=0;N<x.g.length;N++)if(x.g[N]!=0)return!1;return!0}function k(x){return x.h==-1}n.l=function(x){return x=z(this,x),k(x)?-1:O(x)?0:1};function C(x){const N=x.g.length,D=[];for(let P=0;P<N;P++)D[P]=~x.g[P];return new c(D,~x.h).add(S)}n.abs=function(){return k(this)?C(this):this},n.add=function(x){const N=Math.max(this.g.length,x.g.length),D=[];let P=0;for(let L=0;L<=N;L++){let B=P+(this.i(L)&65535)+(x.i(L)&65535),M=(B>>>16)+(this.i(L)>>>16)+(x.i(L)>>>16);P=M>>>16,B&=65535,M&=65535,D[L]=M<<16|B}return new c(D,D[D.length-1]&-2147483648?-1:0)};function z(x,N){return x.add(C(N))}n.j=function(x){if(O(this)||O(x))return _;if(k(this))return k(x)?C(this).j(C(x)):C(C(this).j(x));if(k(x))return C(this.j(C(x)));if(this.l(I)<0&&x.l(I)<0)return g(this.m()*x.m());const N=this.g.length+x.g.length,D=[];for(var P=0;P<2*N;P++)D[P]=0;for(P=0;P<this.g.length;P++)for(let L=0;L<x.g.length;L++){const B=this.i(P)>>>16,M=this.i(P)&65535,qe=x.i(L)>>>16,lt=x.i(L)&65535;D[2*P+2*L]+=M*lt,$(D,2*P+2*L),D[2*P+2*L+1]+=B*lt,$(D,2*P+2*L+1),D[2*P+2*L+1]+=M*qe,$(D,2*P+2*L+1),D[2*P+2*L+2]+=B*qe,$(D,2*P+2*L+2)}for(x=0;x<N;x++)D[x]=D[2*x+1]<<16|D[2*x];for(x=N;x<2*N;x++)D[x]=0;return new c(D,0)};function $(x,N){for(;(x[N]&65535)!=x[N];)x[N+1]+=x[N]>>>16,x[N]&=65535,N++}function Y(x,N){this.g=x,this.h=N}function oe(x,N){if(O(N))throw Error("division by zero");if(O(x))return new Y(_,_);if(k(x))return N=oe(C(x),N),new Y(C(N.g),C(N.h));if(k(N))return N=oe(x,C(N)),new Y(C(N.g),N.h);if(x.g.length>30){if(k(x)||k(N))throw Error("slowDivide_ only works with positive integers.");for(var D=S,P=N;P.l(x)<=0;)D=fe(D),P=fe(P);var L=ue(D,1),B=ue(P,1);for(P=ue(P,2),D=ue(D,2);!O(P);){var M=B.add(P);M.l(x)<=0&&(L=L.add(D),B=M),P=ue(P,1),D=ue(D,1)}return N=z(x,L.j(N)),new Y(L,N)}for(L=_;x.l(N)>=0;){for(D=Math.max(1,Math.floor(x.m()/N.m())),P=Math.ceil(Math.log(D)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),B=g(D),M=B.j(N);k(M)||M.l(x)>0;)D-=P,B=g(D),M=B.j(N);O(B)&&(B=S),L=L.add(B),x=z(x,M)}return new Y(L,x)}n.B=function(x){return oe(this,x).h},n.and=function(x){const N=Math.max(this.g.length,x.g.length),D=[];for(let P=0;P<N;P++)D[P]=this.i(P)&x.i(P);return new c(D,this.h&x.h)},n.or=function(x){const N=Math.max(this.g.length,x.g.length),D=[];for(let P=0;P<N;P++)D[P]=this.i(P)|x.i(P);return new c(D,this.h|x.h)},n.xor=function(x){const N=Math.max(this.g.length,x.g.length),D=[];for(let P=0;P<N;P++)D[P]=this.i(P)^x.i(P);return new c(D,this.h^x.h)};function fe(x){const N=x.g.length+1,D=[];for(let P=0;P<N;P++)D[P]=x.i(P)<<1|x.i(P-1)>>>31;return new c(D,x.h)}function ue(x,N){const D=N>>5;N%=32;const P=x.g.length-D,L=[];for(let B=0;B<P;B++)L[B]=N>0?x.i(B+D)>>>N|x.i(B+D+1)<<32-N:x.i(B+D);return new c(L,x.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,RA=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,La=c}).apply(typeof Qw<"u"?Qw:typeof self<"u"?self:typeof window<"u"?window:{});var ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var CA,Mu,IA,gh,Lg,NA,xA,DA;(function(){var n,e=Object.defineProperty;function t(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof ah=="object"&&ah];for(var y=0;y<f.length;++y){var T=f[y];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=t(this);function s(f,y){if(y)e:{var T=i;f=f.split(".");for(var R=0;R<f.length-1;R++){var H=f[R];if(!(H in T))break e;T=T[H]}f=f[f.length-1],R=T[f],y=y(R),y!=R&&y!=null&&e(T,f,{configurable:!0,writable:!0,value:y})}}s("Symbol.dispose",function(f){return f||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(f){return f||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(f){return f||function(y){var T=[],R;for(R in y)Object.prototype.hasOwnProperty.call(y,R)&&T.push([R,y[R]]);return T}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(f){var y=typeof f;return y=="object"&&f!=null||y=="function"}function p(f,y,T){return f.call.apply(f.bind,arguments)}function g(f,y,T){return g=p,g.apply(null,arguments)}function v(f,y){var T=Array.prototype.slice.call(arguments,1);return function(){var R=T.slice();return R.push.apply(R,arguments),f.apply(this,R)}}function _(f,y){function T(){}T.prototype=y.prototype,f.Z=y.prototype,f.prototype=new T,f.prototype.constructor=f,f.Ob=function(R,H,Q){for(var le=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)le[Ie-2]=arguments[Ie];return y.prototype[H].apply(R,le)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?f=>f&&AsyncContext.Snapshot.wrap(f):f=>f;function I(f){const y=f.length;if(y>0){const T=Array(y);for(let R=0;R<y;R++)T[R]=f[R];return T}return[]}function O(f,y){for(let R=1;R<arguments.length;R++){const H=arguments[R];var T=typeof H;if(T=T!="object"?T:H?Array.isArray(H)?"array":T:"null",T=="array"||T=="object"&&typeof H.length=="number"){T=f.length||0;const Q=H.length||0;f.length=T+Q;for(let le=0;le<Q;le++)f[T+le]=H[le]}else f.push(H)}}class k{constructor(y,T){this.i=y,this.j=T,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function C(f){c.setTimeout(()=>{throw f},0)}function z(){var f=x;let y=null;return f.g&&(y=f.g,f.g=f.g.next,f.g||(f.h=null),y.next=null),y}class ${constructor(){this.h=this.g=null}add(y,T){const R=Y.get();R.set(y,T),this.h?this.h.next=R:this.g=R,this.h=R}}var Y=new k(()=>new oe,f=>f.reset());class oe{constructor(){this.next=this.g=this.h=null}set(y,T){this.h=y,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,ue=!1,x=new $,N=()=>{const f=Promise.resolve(void 0);fe=()=>{f.then(D)}};function D(){for(var f;f=z();){try{f.h.call(f.g)}catch(T){C(T)}var y=Y;y.j(f),y.h<100&&(y.h++,f.next=y.g,y.g=f)}ue=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function L(f,y){this.type=f,this.g=this.target=y,this.defaultPrevented=!1}L.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var f=!1,y=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};c.addEventListener("test",T,y),c.removeEventListener("test",T,y)}catch{}return f})();function M(f){return/^[\s\xa0]*$/.test(f)}function qe(f,y){L.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f&&this.init(f,y)}_(qe,L),qe.prototype.init=function(f,y){const T=this.type=f.type,R=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;this.target=f.target||f.srcElement,this.g=y,y=f.relatedTarget,y||(T=="mouseover"?y=f.fromElement:T=="mouseout"&&(y=f.toElement)),this.relatedTarget=y,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=f.pointerType,this.state=f.state,this.i=f,f.defaultPrevented&&qe.Z.h.call(this)},qe.prototype.h=function(){qe.Z.h.call(this);const f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var lt="closure_listenable_"+(Math.random()*1e6|0),W=0;function se(f,y,T,R,H){this.listener=f,this.proxy=null,this.src=y,this.type=T,this.capture=!!R,this.ha=H,this.key=++W,this.da=this.fa=!1}function ce(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function De(f,y,T){for(const R in f)y.call(T,f[R],R,f)}function Le(f,y){for(const T in f)y.call(void 0,f[T],T,f)}function U(f){const y={};for(const T in f)y[T]=f[T];return y}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ie(f,y){let T,R;for(let H=1;H<arguments.length;H++){R=arguments[H];for(T in R)f[T]=R[T];for(let Q=0;Q<Z.length;Q++)T=Z[Q],Object.prototype.hasOwnProperty.call(R,T)&&(f[T]=R[T])}}function ae(f){this.src=f,this.g={},this.h=0}ae.prototype.add=function(f,y,T,R,H){const Q=f.toString();f=this.g[Q],f||(f=this.g[Q]=[],this.h++);const le=be(f,y,R,H);return le>-1?(y=f[le],T||(y.fa=!1)):(y=new se(y,this.src,Q,!!R,H),y.fa=T,f.push(y)),y};function ye(f,y){const T=y.type;if(T in f.g){var R=f.g[T],H=Array.prototype.indexOf.call(R,y,void 0),Q;(Q=H>=0)&&Array.prototype.splice.call(R,H,1),Q&&(ce(y),f.g[T].length==0&&(delete f.g[T],f.h--))}}function be(f,y,T,R){for(let H=0;H<f.length;++H){const Q=f[H];if(!Q.da&&Q.listener==y&&Q.capture==!!T&&Q.ha==R)return H}return-1}var Oe="closure_lm_"+(Math.random()*1e6|0),pt={};function Xe(f,y,T,R,H){if(Array.isArray(y)){for(let Q=0;Q<y.length;Q++)Xe(f,y[Q],T,R,H);return null}return T=Ja(T),f&&f[lt]?f.J(y,T,d(R)?!!R.capture:!1,H):dn(f,y,T,!1,R,H)}function dn(f,y,T,R,H,Q){if(!y)throw Error("Invalid event type");const le=d(H)?!!H.capture:!!H;let Ie=Pn(f);if(Ie||(f[Oe]=Ie=new ae(f)),T=Ie.add(y,T,R,le,Q),T.proxy)return T;if(R=rr(),T.proxy=R,R.src=f,R.listener=T,f.addEventListener)B||(H=le),H===void 0&&(H=!1),f.addEventListener(y.toString(),R,H);else if(f.attachEvent)f.attachEvent(Yt(y.toString()),R);else if(f.addListener&&f.removeListener)f.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return T}function rr(){function f(T){return y.call(f.src,f.listener,T)}const y=We;return f}function Sn(f,y,T,R,H){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)Sn(f,y[Q],T,R,H);else R=d(R)?!!R.capture:!!R,T=Ja(T),f&&f[lt]?(f=f.i,Q=String(y).toString(),Q in f.g&&(y=f.g[Q],T=be(y,T,R,H),T>-1&&(ce(y[T]),Array.prototype.splice.call(y,T,1),y.length==0&&(delete f.g[Q],f.h--)))):f&&(f=Pn(f))&&(y=f.g[y.toString()],f=-1,y&&(f=be(y,T,R,H)),(T=f>-1?y[f]:null)&&kn(T))}function kn(f){if(typeof f!="number"&&f&&!f.da){var y=f.src;if(y&&y[lt])ye(y.i,f);else{var T=f.type,R=f.proxy;y.removeEventListener?y.removeEventListener(T,R,f.capture):y.detachEvent?y.detachEvent(Yt(T),R):y.addListener&&y.removeListener&&y.removeListener(R),(T=Pn(y))?(ye(T,f),T.h==0&&(T.src=null,y[Oe]=null)):ce(f)}}}function Yt(f){return f in pt?pt[f]:pt[f]="on"+f}function We(f,y){if(f.da)f=!0;else{y=new qe(y,this);const T=f.listener,R=f.ha||f.src;f.fa&&kn(f),f=T.call(R,y)}return f}function Pn(f){return f=f[Oe],f instanceof ae?f:null}var ir="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ja(f){return typeof f=="function"?f:(f[ir]||(f[ir]=function(y){return f.handleEvent(y)}),f[ir])}function vt(){P.call(this),this.i=new ae(this),this.M=this,this.G=null}_(vt,P),vt.prototype[lt]=!0,vt.prototype.removeEventListener=function(f,y,T,R){Sn(this,f,y,T,R)};function Tt(f,y){var T,R=f.G;if(R)for(T=[];R;R=R.G)T.push(R);if(f=f.M,R=y.type||y,typeof y=="string")y=new L(y,f);else if(y instanceof L)y.target=y.target||f;else{var H=y;y=new L(R,f),ie(y,H)}H=!0;let Q,le;if(T)for(le=T.length-1;le>=0;le--)Q=y.g=T[le],H=Cr(Q,R,!0,y)&&H;if(Q=y.g=f,H=Cr(Q,R,!0,y)&&H,H=Cr(Q,R,!1,y)&&H,T)for(le=0;le<T.length;le++)Q=y.g=T[le],H=Cr(Q,R,!1,y)&&H}vt.prototype.N=function(){if(vt.Z.N.call(this),this.i){var f=this.i;for(const y in f.g){const T=f.g[y];for(let R=0;R<T.length;R++)ce(T[R]);delete f.g[y],f.h--}}this.G=null},vt.prototype.J=function(f,y,T,R){return this.i.add(String(f),y,!1,T,R)},vt.prototype.K=function(f,y,T,R){return this.i.add(String(f),y,!0,T,R)};function Cr(f,y,T,R){if(y=f.i.g[String(y)],!y)return!0;y=y.concat();let H=!0;for(let Q=0;Q<y.length;++Q){const le=y[Q];if(le&&!le.da&&le.capture==T){const Ie=le.listener,St=le.ha||le.src;le.fa&&ye(f.i,le),H=Ie.call(St,R)!==!1&&H}}return H&&!R.defaultPrevented}function bl(f,y){if(typeof f!="function")if(f&&typeof f.handleEvent=="function")f=g(f.handleEvent,f);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(f,y||0)}function Qs(f){f.g=bl(()=>{f.g=null,f.i&&(f.i=!1,Qs(f))},f.l);const y=f.h;f.h=null,f.m.apply(null,y)}class $t extends P{constructor(y,T){super(),this.m=y,this.l=T,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Qs(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ai(f){P.call(this),this.h=f,this.g={}}_(ai,P);var ke=[];function Un(f){De(f.g,function(y,T){this.g.hasOwnProperty(T)&&kn(y)},f),f.g={}}ai.prototype.N=function(){ai.Z.N.call(this),Un(this)},ai.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ar=c.JSON.stringify,$d=c.JSON.parse,Ac=class{stringify(f){return c.JSON.stringify(f,void 0)}parse(f){return c.JSON.parse(f,void 0)}};function Rc(){}function Cc(){}var sr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qt(){L.call(this,"d")}_(Qt,L);function jn(){L.call(this,"c")}_(jn,L);var wt={},Ic=null;function Xs(){return Ic=Ic||new vt}wt.Ia="serverreachability";function Nc(f){L.call(this,wt.Ia,f)}_(Nc,L);function Ir(f){const y=Xs();Tt(y,new Nc(y))}wt.STAT_EVENT="statevent";function Za(f,y){L.call(this,wt.STAT_EVENT,f),this.stat=y}_(Za,L);function Ct(f){const y=Xs();Tt(y,new Za(y,f))}wt.Ja="timingevent";function Nr(f,y){L.call(this,wt.Ja,f),this.size=y}_(Nr,L);function xr(f,y){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){f()},y)}function or(){this.g=!0}or.prototype.ua=function(){this.g=!1};function Hd(f,y,T,R,H,Q){f.info(function(){if(f.g)if(Q){var le="",Ie=Q.split("&");for(let Ye=0;Ye<Ie.length;Ye++){var St=Ie[Ye].split("=");if(St.length>1){const ht=St[0];St=St[1];const $n=ht.split("_");le=$n.length>=2&&$n[1]=="type"?le+(ht+"="+St+"&"):le+(ht+"=redacted&")}}}else le=null;else le=Q;return"XMLHTTP REQ ("+R+") [attempt "+H+"]: "+y+`
`+T+`
`+le})}function xc(f,y,T,R,H,Q,le){f.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+H+"]: "+y+`
`+T+`
`+Q+" "+le})}function Dr(f,y,T,R){f.info(function(){return"XMLHTTP TEXT ("+y+"): "+qd(f,T)+(R?" "+R:"")})}function es(f,y){f.info(function(){return"TIMEOUT: "+y})}or.prototype.info=function(){};function qd(f,y){if(!f.g)return y;if(!y)return null;try{const Q=JSON.parse(y);if(Q){for(f=0;f<Q.length;f++)if(Array.isArray(Q[f])){var T=Q[f];if(!(T.length<2)){var R=T[1];if(Array.isArray(R)&&!(R.length<1)){var H=R[0];if(H!="noop"&&H!="stop"&&H!="close")for(let le=1;le<R.length;le++)R[le]=""}}}}return ar(Q)}catch{return y}}var ts={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Al={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Rl;function ns(){}_(ns,Rc),ns.prototype.g=function(){return new XMLHttpRequest},Rl=new ns;function si(f){return encodeURIComponent(String(f))}function Dc(f){var y=1;f=f.split(":");const T=[];for(;y>0&&f.length;)T.push(f.shift()),y--;return f.length&&T.push(f.join(":")),T}function lr(f,y,T,R){this.j=f,this.i=y,this.l=T,this.S=R||1,this.V=new ai(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ur}function ur(){this.i=null,this.g="",this.h=!1}var It={},Ht={};function Or(f,y,T){f.M=1,f.A=rs(xt(y)),f.u=T,f.R=!0,Ws(f,null)}function Ws(f,y){f.F=Date.now(),Mr(f),f.B=xt(f.A);var T=f.B,R=f.S;Array.isArray(R)||(R=[String(R)]),to(T.i,"t",R),f.C=0,T=f.j.L,f.h=new ur,f.g=Gc(f.j,T?y:null,!f.u),f.P>0&&(f.O=new $t(g(f.Y,f,f.g),f.P)),y=f.V,T=f.g,R=f.ba;var H="readystatechange";Array.isArray(H)||(H&&(ke[0]=H.toString()),H=ke);for(let Q=0;Q<H.length;Q++){const le=Xe(T,H[Q],R||y.handleEvent,!1,y.h||y);if(!le)break;y.g[le.key]=le}y=f.J?U(f.J):{},f.u?(f.v||(f.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.B,f.v,f.u,y)):(f.v="GET",f.g.ea(f.B,f.v,null,y)),Ir(),Hd(f.i,f.v,f.B,f.l,f.S,f.u)}lr.prototype.ba=function(f){f=f.target;const y=this.O;y&&hr(f)==3?y.j():this.Y(f)},lr.prototype.Y=function(f){try{if(f==this.g)e:{const Ie=hr(this.g),St=this.g.ya(),Ye=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||Xt(this.g)))){this.K||Ie!=4||St==7||(St==8||Ye<=0?Ir(3):Ir(2)),Vr(this);var y=this.g.ca();this.X=y;var T=Gd(this);if(this.o=y==200,xc(this.i,this.v,this.B,this.l,this.S,Ie,y),this.o){if(this.U&&!this.L){t:{if(this.g){var R,H=this.g;if((R=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(R)){var Q=R;break t}}Q=null}if(f=Q)Dr(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Lr(this,f);else{this.o=!1,this.m=3,Ct(12),bn(this),zn(this);break e}}if(this.R){f=!0;let ht;for(;!this.K&&this.C<T.length;)if(ht=Mc(this,T),ht==Ht){Ie==4&&(this.m=4,Ct(14),f=!1),Dr(this.i,this.l,null,"[Incomplete Response]");break}else if(ht==It){this.m=4,Ct(15),Dr(this.i,this.l,T,"[Invalid Chunk]"),f=!1;break}else Dr(this.i,this.l,ht,null),Lr(this,ht);if(Oc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||T.length!=0||this.h.h||(this.m=1,Ct(16),f=!1),this.o=this.o&&f,!f)Dr(this.i,this.l,T,"[Invalid Chunked Response]"),bn(this),zn(this);else if(T.length>0&&!this.W){this.W=!0;var le=this.j;le.g==this&&le.aa&&!le.P&&(le.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),Bl(le),le.P=!0,Ct(11))}}else Dr(this.i,this.l,T,null),Lr(this,T);Ie==4&&bn(this),this.o&&!this.K&&(Ie==4?Fc(this.j,this):(this.o=!1,Mr(this)))}else li(this.g),y==400&&T.indexOf("Unknown SID")>0?(this.m=3,Ct(12)):(this.m=0,Ct(13)),bn(this),zn(this)}}}catch{}finally{}};function Gd(f){if(!Oc(f))return f.g.la();const y=Xt(f.g);if(y==="")return"";let T="";const R=y.length,H=hr(f.g)==4;if(!f.h.i){if(typeof TextDecoder>"u")return bn(f),zn(f),"";f.h.i=new c.TextDecoder}for(let Q=0;Q<R;Q++)f.h.h=!0,T+=f.h.i.decode(y[Q],{stream:!(H&&Q==R-1)});return y.length=0,f.h.g+=T,f.C=0,f.h.g}function Oc(f){return f.g?f.v=="GET"&&f.M!=2&&f.j.Aa:!1}function Mc(f,y){var T=f.C,R=y.indexOf(`
`,T);return R==-1?Ht:(T=Number(y.substring(T,R)),isNaN(T)?It:(R+=1,R+T>y.length?Ht:(y=y.slice(R,R+T),f.C=R+T,y)))}lr.prototype.cancel=function(){this.K=!0,bn(this)};function Mr(f){f.T=Date.now()+f.H,Js(f,f.H)}function Js(f,y){if(f.D!=null)throw Error("WatchDog timer not null");f.D=xr(g(f.aa,f),y)}function Vr(f){f.D&&(c.clearTimeout(f.D),f.D=null)}lr.prototype.aa=function(){this.D=null;const f=Date.now();f-this.T>=0?(es(this.i,this.B),this.M!=2&&(Ir(),Ct(17)),bn(this),this.m=2,zn(this)):Js(this,this.T-f)};function zn(f){f.j.I==0||f.K||Fc(f.j,f)}function bn(f){Vr(f);var y=f.O;y&&typeof y.dispose=="function"&&y.dispose(),f.O=null,Un(f.V),f.g&&(y=f.g,f.g=null,y.abort(),y.dispose())}function Lr(f,y){try{var T=f.j;if(T.I!=0&&(T.g==f||Pr(T.h,f))){if(!f.L&&Pr(T.h,f)&&T.I==3){try{var R=T.Ba.g.parse(y)}catch{R=null}if(Array.isArray(R)&&R.length==3){var H=R;if(H[0]==0){e:if(!T.v){if(T.g)if(T.g.F+3e3<f.F)so(T),ta(T);else break e;cs(T),Ct(18)}}else T.xa=H[1],0<T.xa-T.K&&H[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=xr(g(T.Va,T),6e3));kr(T.h)<=1&&T.ta&&(T.ta=void 0)}else $r(T,11)}else if((f.L||T.g==f)&&so(T),!M(y))for(H=T.Ba.g.parse(y),y=0;y<H.length;y++){let Ye=H[y];const ht=Ye[0];if(!(ht<=T.K))if(T.K=ht,Ye=Ye[1],T.I==2)if(Ye[0]=="c"){T.M=Ye[1],T.ba=Ye[2];const $n=Ye[3];$n!=null&&(T.ka=$n,T.j.info("VER="+T.ka));const Hr=Ye[4];Hr!=null&&(T.za=Hr,T.j.info("SVER="+T.za));const dr=Ye[5];dr!=null&&typeof dr=="number"&&dr>0&&(R=1.5*dr,T.O=R,T.j.info("backChannelRequestTimeoutMs_="+R)),R=T;const mr=f.g;if(mr){const fs=mr.g?mr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fs){var Q=R.h;Q.g||fs.indexOf("spdy")==-1&&fs.indexOf("quic")==-1&&fs.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Nl(Q,Q.h),Q.h=null))}if(R.G){const oo=mr.g?mr.g.getResponseHeader("X-HTTP-Session-Id"):null;oo&&(R.wa=oo,Ze(R.J,R.G,oo))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-f.F,T.j.info("Handshake RTT: "+T.T+"ms")),R=T;var le=f;if(R.na=qc(R,R.L?R.ba:null,R.W),le.L){xl(R.h,le);var Ie=le,St=R.O;St&&(Ie.H=St),Ie.D&&(Vr(Ie),Mr(Ie)),R.g=le}else zc(R);T.i.length>0&&Fr(T)}else Ye[0]!="stop"&&Ye[0]!="close"||$r(T,7);else T.I==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?$r(T,7):jl(T):Ye[0]!="noop"&&T.l&&T.l.qa(Ye),T.A=0)}}Ir(4)}catch{}}var Nt=class{constructor(f,y){this.g=f,this.map=y}};function Cl(f){this.l=f||10,c.PerformanceNavigationTiming?(f=c.performance.getEntriesByType("navigation"),f=f.length>0&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Il(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function kr(f){return f.h?1:f.g?f.g.size:0}function Pr(f,y){return f.h?f.h==y:f.g?f.g.has(y):!1}function Nl(f,y){f.g?f.g.add(y):f.h=y}function xl(f,y){f.h&&f.h==y?f.h=null:f.g&&f.g.has(y)&&f.g.delete(y)}Cl.prototype.cancel=function(){if(this.i=Dl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Dl(f){if(f.h!=null)return f.i.concat(f.h.G);if(f.g!=null&&f.g.size!==0){let y=f.i;for(const T of f.g.values())y=y.concat(T.G);return y}return I(f.i)}var Vc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Zs(f,y){if(f){f=f.split("&");for(let T=0;T<f.length;T++){const R=f[T].indexOf("=");let H,Q=null;R>=0?(H=f[T].substring(0,R),Q=f[T].substring(R+1)):H=f[T],y(H,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function An(f){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;f instanceof An?(this.l=f.l,qt(this,f.j),this.o=f.o,this.g=f.g,Yi(this,f.u),this.h=f.h,Ol(this,Uc(f.i)),this.m=f.m):f&&(y=String(f).match(Vc))?(this.l=!1,qt(this,y[1]||"",!0),this.o=Ur(y[2]||""),this.g=Ur(y[3]||"",!0),Yi(this,y[4]),this.h=Ur(y[5]||"",!0),Ol(this,y[6]||"",!0),this.m=Ur(y[7]||"")):(this.l=!1,this.i=new Xi(null,this.l))}An.prototype.toString=function(){const f=[];var y=this.j;y&&f.push(is(y,eo,!0),":");var T=this.g;return(T||y=="file")&&(f.push("//"),(y=this.o)&&f.push(is(y,eo,!0),"@"),f.push(si(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&f.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(is(T,T.charAt(0)=="/"?Ml:Lc,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",is(T,kc)),f.join("")},An.prototype.resolve=function(f){const y=xt(this);let T=!!f.j;T?qt(y,f.j):T=!!f.o,T?y.o=f.o:T=!!f.g,T?y.g=f.g:T=f.u!=null;var R=f.h;if(T)Yi(y,f.u);else if(T=!!f.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var H=y.h.lastIndexOf("/");H!=-1&&(R=y.h.slice(0,H+1)+R)}if(H=R,H==".."||H==".")R="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){R=H.lastIndexOf("/",0)==0,H=H.split("/");const Q=[];for(let le=0;le<H.length;){const Ie=H[le++];Ie=="."?R&&le==H.length&&Q.push(""):Ie==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),R&&le==H.length&&Q.push("")):(Q.push(Ie),R=!0)}R=Q.join("/")}else R=H}return T?y.h=R:T=f.i.toString()!=="",T?Ol(y,Uc(f.i)):T=!!f.m,T&&(y.m=f.m),y};function xt(f){return new An(f)}function qt(f,y,T){f.j=T?Ur(y,!0):y,f.j&&(f.j=f.j.replace(/:$/,""))}function Yi(f,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);f.u=y}else f.u=null}function Ol(f,y,T){y instanceof Xi?(f.i=y,no(f.i,f.l)):(T||(y=is(y,Qi)),f.i=new Xi(y,f.l))}function Ze(f,y,T){f.i.set(y,T)}function rs(f){return Ze(f,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),f}function Ur(f,y){return f?y?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function is(f,y,T){return typeof f=="string"?(f=encodeURI(f).replace(y,mn),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function mn(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var eo=/[#\/\?@]/g,Lc=/[#\?:]/g,Ml=/[#\?]/g,Qi=/[#\?@]/g,kc=/#/g;function Xi(f,y){this.h=this.g=null,this.i=f||null,this.j=!!y}function pn(f){f.g||(f.g=new Map,f.h=0,f.i&&Zs(f.i,function(y,T){f.add(decodeURIComponent(y.replace(/\+/g," ")),T)}))}n=Xi.prototype,n.add=function(f,y){pn(this),this.i=null,f=Wi(this,f);let T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(y),this.h+=1,this};function Pc(f,y){pn(f),y=Wi(f,y),f.g.has(y)&&(f.i=null,f.h-=f.g.get(y).length,f.g.delete(y))}function Vl(f,y){return pn(f),y=Wi(f,y),f.g.has(y)}n.forEach=function(f,y){pn(this),this.g.forEach(function(T,R){T.forEach(function(H){f.call(y,H,R,this)},this)},this)};function Ll(f,y){pn(f);let T=[];if(typeof y=="string")Vl(f,y)&&(T=T.concat(f.g.get(Wi(f,y))));else for(f=Array.from(f.g.values()),y=0;y<f.length;y++)T=T.concat(f[y]);return T}n.set=function(f,y){return pn(this),this.i=null,f=Wi(this,f),Vl(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[y]),this.h+=1,this},n.get=function(f,y){return f?(f=Ll(this,f),f.length>0?String(f[0]):y):y};function to(f,y,T){Pc(f,y),T.length>0&&(f.i=null,f.g.set(Wi(f,y),I(T)),f.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],y=Array.from(this.g.keys());for(let R=0;R<y.length;R++){var T=y[R];const H=si(T);T=Ll(this,T);for(let Q=0;Q<T.length;Q++){let le=H;T[Q]!==""&&(le+="="+si(T[Q])),f.push(le)}}return this.i=f.join("&")};function Uc(f){const y=new Xi;return y.i=f.i,f.g&&(y.g=new Map(f.g),y.h=f.h),y}function Wi(f,y){return y=String(y),f.j&&(y=y.toLowerCase()),y}function no(f,y){y&&!f.j&&(pn(f),f.i=null,f.g.forEach(function(T,R){const H=R.toLowerCase();R!=H&&(Pc(this,R),to(this,H,T))},f)),f.j=y}function cr(f,y){const T=new or;if(c.Image){const R=new Image;R.onload=v(Bn,T,"TestLoadImage: loaded",!0,y,R),R.onerror=v(Bn,T,"TestLoadImage: error",!1,y,R),R.onabort=v(Bn,T,"TestLoadImage: abort",!1,y,R),R.ontimeout=v(Bn,T,"TestLoadImage: timeout",!1,y,R),c.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=f}else y(!1)}function kl(f,y){const T=new or,R=new AbortController,H=setTimeout(()=>{R.abort(),Bn(T,"TestPingServer: timeout",!1,y)},1e4);fetch(f,{signal:R.signal}).then(Q=>{clearTimeout(H),Q.ok?Bn(T,"TestPingServer: ok",!0,y):Bn(T,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),Bn(T,"TestPingServer: error",!1,y)})}function Bn(f,y,T,R,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),R(T)}catch{}}function Ji(){this.g=new Ac}function jr(f){this.i=f.Sb||null,this.h=f.ab||!1}_(jr,Rc),jr.prototype.g=function(){return new as(this.i,this.h)};function as(f,y){vt.call(this),this.H=f,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(as,vt),n=as.prototype,n.open=function(f,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=f,this.D=y,this.readyState=1,fr(this)},n.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};f&&(y.body=f),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Zi(this)),this.readyState=0},n.Pa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,fr(this)),this.g&&(this.readyState=3,fr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ro(this)}else f.text().then(this.Oa.bind(this),this.ga.bind(this))};function ro(f){f.j.read().then(f.Ma.bind(f)).catch(f.ga.bind(f))}n.Ma=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var y=f.value?f.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!f.done}))&&(this.response=this.responseText+=y)}f.done?Zi(this):fr(this),this.readyState==3&&ro(this)}},n.Oa=function(f){this.g&&(this.response=this.responseText=f,Zi(this))},n.Na=function(f){this.g&&(this.response=f,Zi(this))},n.ga=function(){this.g&&Zi(this)};function Zi(f){f.readyState=4,f.l=null,f.j=null,f.B=null,fr(f)}n.setRequestHeader=function(f,y){this.A.append(f,y)},n.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],y=this.h.entries();for(var T=y.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=y.next();return f.join(`\r
`)};function fr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(as.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Fn(f){let y="";return De(f,function(T,R){y+=R,y+=":",y+=T,y+=`\r
`}),y}function ss(f,y,T){e:{for(R in T){var R=!1;break e}R=!0}R||(T=Fn(T),typeof f=="string"?T!=null&&si(T):Ze(f,y,T))}function nt(f){vt.call(this),this.headers=new Map,this.L=f||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(nt,vt);var zr=/^https?$/i,Pl=["POST","PUT"];n=nt.prototype,n.Fa=function(f){this.H=f},n.ea=function(f,y,T,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);y=y?y.toUpperCase():"GET",this.D=f,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Rl.g(),this.g.onreadystatechange=S(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(f),!0),this.B=!1}catch(Q){os(this,Q);return}if(f=T||"",T=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var H in R)T.set(H,R[H]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const Q of R.keys())T.set(Q,R.get(Q));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(T.keys()).find(Q=>Q.toLowerCase()=="content-type"),H=c.FormData&&f instanceof c.FormData,!(Array.prototype.indexOf.call(Pl,y,void 0)>=0)||R||H||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,le]of T)this.g.setRequestHeader(Q,le);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(f),this.v=!1}catch(Q){os(this,Q)}};function os(f,y){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=y,f.o=5,Ul(f),oi(f)}function Ul(f){f.A||(f.A=!0,Tt(f,"complete"),Tt(f,"error"))}n.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=f||7,Tt(this,"complete"),Tt(this,"abort"),oi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),oi(this,!0)),nt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?ls(this):this.Xa())},n.Xa=function(){ls(this)};function ls(f){if(f.h&&typeof l<"u"){if(f.v&&hr(f)==4)setTimeout(f.Ca.bind(f),0);else if(Tt(f,"readystatechange"),hr(f)==4){f.h=!1;try{const Q=f.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var T;if(!(T=y)){var R;if(R=Q===0){let le=String(f.D).match(Vc)[1]||null;!le&&c.self&&c.self.location&&(le=c.self.location.protocol.slice(0,-1)),R=!zr.test(le?le.toLowerCase():"")}T=R}if(T)Tt(f,"complete"),Tt(f,"success");else{f.o=6;try{var H=hr(f)>2?f.g.statusText:""}catch{H=""}f.l=H+" ["+f.ca()+"]",Ul(f)}}finally{oi(f)}}}}function oi(f,y){if(f.g){f.m&&(clearTimeout(f.m),f.m=null);const T=f.g;f.g=null,y||Tt(f,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function hr(f){return f.g?f.g.readyState:0}n.ca=function(){try{return hr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(f){if(this.g){var y=this.g.responseText;return f&&y.indexOf(f)==0&&(y=y.substring(f.length)),$d(y)}};function Xt(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.F){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function li(f){const y={};f=(f.g&&hr(f)>=2&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<f.length;R++){if(M(f[R]))continue;var T=Dc(f[R]);const H=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Q=y[H]||[];y[H]=Q,Q.push(T)}Le(y,function(R){return R.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Br(f,y,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||y}function ea(f){this.za=0,this.i=[],this.j=new or,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Br("failFast",!1,f),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Br("baseRetryDelayMs",5e3,f),this.Za=Br("retryDelaySeedMs",1e4,f),this.Ta=Br("forwardChannelMaxRetries",2,f),this.va=Br("forwardChannelRequestTimeoutMs",2e4,f),this.ma=f&&f.xmlHttpFactory||void 0,this.Ua=f&&f.Rb||void 0,this.Aa=f&&f.useFetchStreams||!1,this.O=void 0,this.L=f&&f.supportsCrossDomainXhr||!1,this.M="",this.h=new Cl(f&&f.concurrentRequestLimit),this.Ba=new Ji,this.S=f&&f.fastHandshake||!1,this.R=f&&f.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=f&&f.Pb||!1,f&&f.ua&&this.j.ua(),f&&f.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&f&&f.detectBufferingProxy||!1,this.ia=void 0,f&&f.longPollingTimeout&&f.longPollingTimeout>0&&(this.ia=f.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=ea.prototype,n.ka=8,n.I=1,n.connect=function(f,y,T,R){Ct(0),this.W=f,this.H=y||{},T&&R!==void 0&&(this.H.OSID=T,this.H.OAID=R),this.F=this.X,this.J=qc(this,null,this.W),Fr(this)};function jl(f){if(io(f),f.I==3){var y=f.V++,T=xt(f.J);if(Ze(T,"SID",f.M),Ze(T,"RID",y),Ze(T,"TYPE","terminate"),us(f,T),y=new lr(f,f.j,y),y.M=2,y.A=rs(xt(T)),T=!1,c.navigator&&c.navigator.sendBeacon)try{T=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!T&&c.Image&&(new Image().src=y.A,T=!0),T||(y.g=Gc(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Mr(y)}Hc(f)}function ta(f){f.g&&(Bl(f),f.g.cancel(),f.g=null)}function io(f){ta(f),f.v&&(c.clearTimeout(f.v),f.v=null),so(f),f.h.cancel(),f.m&&(typeof f.m=="number"&&c.clearTimeout(f.m),f.m=null)}function Fr(f){if(!Il(f.h)&&!f.m){f.m=!0;var y=f.Ea;fe||N(),ue||(fe(),ue=!0),x.add(y,f),f.D=0}}function ao(f,y){return kr(f.h)>=f.h.j-(f.m?1:0)?!1:f.m?(f.i=y.G.concat(f.i),!0):f.I==1||f.I==2||f.D>=(f.Sa?0:f.Ta)?!1:(f.m=xr(g(f.Ea,f,y),$c(f,f.D)),f.D++,!0)}n.Ea=function(f){if(this.m)if(this.m=null,this.I==1){if(!f){this.V=Math.floor(Math.random()*1e5),f=this.V++;const H=new lr(this,this.j,f);let Q=this.o;if(this.U&&(Q?(Q=U(Q),ie(Q,this.U)):Q=this.U),this.u!==null||this.R||(H.J=Q,Q=null),this.S)e:{for(var y=0,T=0;T<this.i.length;T++){t:{var R=this.i[T];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(y+=R,y>4096){y=T;break e}if(y===4096||T===this.i.length-1){y=T+1;break e}}y=1e3}else y=1e3;y=jc(this,H,y),T=xt(this.J),Ze(T,"RID",f),Ze(T,"CVER",22),this.G&&Ze(T,"X-HTTP-Session-Id",this.G),us(this,T),Q&&(this.R?y="headers="+si(Fn(Q))+"&"+y:this.u&&ss(T,this.u,Q)),Nl(this.h,H),this.Ra&&Ze(T,"TYPE","init"),this.S?(Ze(T,"$req",y),Ze(T,"SID","null"),H.U=!0,Or(H,T,null)):Or(H,T,y),this.I=2}}else this.I==3&&(f?zl(this,f):this.i.length==0||Il(this.h)||zl(this))};function zl(f,y){var T;y?T=y.l:T=f.V++;const R=xt(f.J);Ze(R,"SID",f.M),Ze(R,"RID",T),Ze(R,"AID",f.K),us(f,R),f.u&&f.o&&ss(R,f.u,f.o),T=new lr(f,f.j,T,f.D+1),f.u===null&&(T.J=f.o),y&&(f.i=y.G.concat(f.i)),y=jc(f,T,1e3),T.H=Math.round(f.va*.5)+Math.round(f.va*.5*Math.random()),Nl(f.h,T),Or(T,R,y)}function us(f,y){f.H&&De(f.H,function(T,R){Ze(y,R,T)}),f.l&&De({},function(T,R){Ze(y,R,T)})}function jc(f,y,T){T=Math.min(f.i.length,T);const R=f.l?g(f.l.Ka,f.l,f):null;e:{var H=f.i;let Ie=-1;for(;;){const St=["count="+T];Ie==-1?T>0?(Ie=H[0].g,St.push("ofs="+Ie)):Ie=0:St.push("ofs="+Ie);let Ye=!0;for(let ht=0;ht<T;ht++){var Q=H[ht].g;const $n=H[ht].map;if(Q-=Ie,Q<0)Ie=Math.max(0,H[ht].g-100),Ye=!1;else try{Q="req"+Q+"_"||"";try{var le=$n instanceof Map?$n:Object.entries($n);for(const[Hr,dr]of le){let mr=dr;d(dr)&&(mr=ar(dr)),St.push(Q+Hr+"="+encodeURIComponent(mr))}}catch(Hr){throw St.push(Q+"type="+encodeURIComponent("_badmap")),Hr}}catch{R&&R($n)}}if(Ye){le=St.join("&");break e}}le=void 0}return f=f.i.splice(0,T),y.G=f,le}function zc(f){if(!f.g&&!f.v){f.Y=1;var y=f.Da;fe||N(),ue||(fe(),ue=!0),x.add(y,f),f.A=0}}function cs(f){return f.g||f.v||f.A>=3?!1:(f.Y++,f.v=xr(g(f.Da,f),$c(f,f.A)),f.A++,!0)}n.Da=function(){if(this.v=null,Bc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var f=4*this.T;this.j.info("BP detection timer enabled: "+f),this.B=xr(g(this.Wa,this),f)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ct(10),ta(this),Bc(this))};function Bl(f){f.B!=null&&(c.clearTimeout(f.B),f.B=null)}function Bc(f){f.g=new lr(f,f.j,"rpc",f.Y),f.u===null&&(f.g.J=f.o),f.g.P=0;var y=xt(f.na);Ze(y,"RID","rpc"),Ze(y,"SID",f.M),Ze(y,"AID",f.K),Ze(y,"CI",f.F?"0":"1"),!f.F&&f.ia&&Ze(y,"TO",f.ia),Ze(y,"TYPE","xmlhttp"),us(f,y),f.u&&f.o&&ss(y,f.u,f.o),f.O&&(f.g.H=f.O);var T=f.g;f=f.ba,T.M=1,T.A=rs(xt(y)),T.u=null,T.R=!0,Ws(T,f)}n.Va=function(){this.C!=null&&(this.C=null,ta(this),cs(this),Ct(19))};function so(f){f.C!=null&&(c.clearTimeout(f.C),f.C=null)}function Fc(f,y){var T=null;if(f.g==y){so(f),Bl(f),f.g=null;var R=2}else if(Pr(f.h,y))T=y.G,xl(f.h,y),R=1;else return;if(f.I!=0){if(y.o)if(R==1){T=y.u?y.u.length:0,y=Date.now()-y.F;var H=f.D;R=Xs(),Tt(R,new Nr(R,T)),Fr(f)}else zc(f);else if(H=y.m,H==3||H==0&&y.X>0||!(R==1&&ao(f,y)||R==2&&cs(f)))switch(T&&T.length>0&&(y=f.h,y.i=y.i.concat(T)),H){case 1:$r(f,5);break;case 4:$r(f,10);break;case 3:$r(f,6);break;default:$r(f,2)}}}function $c(f,y){let T=f.Qa+Math.floor(Math.random()*f.Za);return f.isActive()||(T*=2),T*y}function $r(f,y){if(f.j.info("Error code "+y),y==2){var T=g(f.bb,f),R=f.Ua;const H=!R;R=new An(R||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||qt(R,"https"),rs(R),H?cr(R.toString(),T):kl(R.toString(),T)}else Ct(2);f.I=0,f.l&&f.l.pa(y),Hc(f),io(f)}n.bb=function(f){f?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function Hc(f){if(f.I=0,f.ja=[],f.l){const y=Dl(f.h);(y.length!=0||f.i.length!=0)&&(O(f.ja,y),O(f.ja,f.i),f.h.i.length=0,I(f.i),f.i.length=0),f.l.oa()}}function qc(f,y,T){var R=T instanceof An?xt(T):new An(T);if(R.g!="")y&&(R.g=y+"."+R.g),Yi(R,R.u);else{var H=c.location;R=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;const Q=new An(null);R&&qt(Q,R),y&&(Q.g=y),H&&Yi(Q,H),T&&(Q.h=T),R=Q}return T=f.G,y=f.wa,T&&y&&Ze(R,T,y),Ze(R,"VER",f.ka),us(f,R),R}function Gc(f,y,T){if(y&&!f.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=f.Aa&&!f.ma?new nt(new jr({ab:T})):new nt(f.ma),y.Fa(f.L),y}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Kc(){}n=Kc.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function na(){}na.prototype.g=function(f,y){return new cn(f,y)};function cn(f,y){vt.call(this),this.g=new ea(y),this.l=f,this.h=y&&y.messageUrlParams||null,f=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(f?f["X-WebChannel-Content-Type"]=y.messageContentType:f={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(f?f["X-WebChannel-Client-Profile"]=y.sa:f={"X-WebChannel-Client-Profile":y.sa}),this.g.U=f,(f=y&&y.Qb)&&!M(f)&&(this.g.u=f),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!M(y)&&(this.g.G=y,f=this.h,f!==null&&y in f&&(f=this.h,y in f&&delete f[y])),this.j=new ui(this)}_(cn,vt),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){jl(this.g)},cn.prototype.o=function(f){var y=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.v&&(T={},T.__data__=ar(f),f=T);y.i.push(new Nt(y.Ya++,f)),y.I==3&&Fr(y)},cn.prototype.N=function(){this.g.l=null,delete this.j,jl(this.g),delete this.g,cn.Z.N.call(this)};function Yc(f){Qt.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var y=f.__sm__;if(y){e:{for(const T in y){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,y=y!==null&&f in y?y[f]:void 0),this.data=y}else this.data=f}_(Yc,Qt);function Qc(){jn.call(this),this.status=1}_(Qc,jn);function ui(f){this.g=f}_(ui,Kc),ui.prototype.ra=function(){Tt(this.g,"a")},ui.prototype.qa=function(f){Tt(this.g,new Yc(f))},ui.prototype.pa=function(f){Tt(this.g,new Qc)},ui.prototype.oa=function(){Tt(this.g,"b")},na.prototype.createWebChannel=na.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,DA=function(){return new na},xA=function(){return Xs()},NA=wt,Lg={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ts.NO_ERROR=0,ts.TIMEOUT=8,ts.HTTP_ERROR=6,gh=ts,Al.COMPLETE="complete",IA=Al,Cc.EventType=sr,sr.OPEN="a",sr.CLOSE="b",sr.ERROR="c",sr.MESSAGE="d",vt.prototype.listen=vt.prototype.J,Mu=Cc,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa,CA=nt}).apply(typeof ah<"u"?ah:typeof self<"u"?self:typeof window<"u"?window:{});const Xw="@firebase/firestore",Ww="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ml="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs=new gd("@firebase/firestore");function Bo(){return Vs.logLevel}function de(n,...e){if(Vs.logLevel<=je.DEBUG){const t=e.map(Oy);Vs.debug(`Firestore (${ml}): ${n}`,...t)}}function Bi(n,...e){if(Vs.logLevel<=je.ERROR){const t=e.map(Oy);Vs.error(`Firestore (${ml}): ${n}`,...t)}}function el(n,...e){if(Vs.logLevel<=je.WARN){const t=e.map(Oy);Vs.warn(`Firestore (${ml}): ${n}`,...t)}}function Oy(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(n,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,OA(n,i,t)}function OA(n,e,t){let i=`FIRESTORE (${ml}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Bi(i),new Error(i)}function Je(n,e,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,n||OA(e,s,i)}function Ce(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Rr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(on.UNAUTHENTICATED)))}shutdown(){}}class SV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class bV{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Je(this.o===void 0,42304);let i=this.i;const s=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new ka;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ka,e.enqueueRetryable((()=>s(this.currentUser)))};const c=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await s(this.currentUser)}))},d=p=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((p=>d(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ka)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Je(typeof i.accessToken=="string",31837,{l:i}),new MA(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new on(e)}}class AV{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=on.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class RV{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new AV(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(on.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Jw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class CV{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Je(this.o===void 0,3512);const i=l=>{l.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,de("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const s=l=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>s(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?s(l):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Jw(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Je(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Jw(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IV(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class My{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=IV(40);for(let l=0;l<s.length;++l)i.length<20&&s[l]<t&&(i+=e.charAt(s[l]%62))}return i}}function ze(n,e){return n<e?-1:n>e?1:0}function kg(n,e){const t=Math.min(n.length,e.length);for(let i=0;i<t;i++){const s=n.charAt(i),l=e.charAt(i);if(s!==l)return cg(s)===cg(l)?ze(s,l):cg(s)?1:-1}return ze(n.length,e.length)}const NV=55296,xV=57343;function cg(n){const e=n.charCodeAt(0);return e>=NV&&e<=xV}function tl(n,e,t){return n.length===e.length&&n.every(((i,s)=>t(i,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zw="__name__";class Qr{constructor(e,t,i){t===void 0?t=0:t>e.length&&Se(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Se(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Qr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Qr?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let s=0;s<i;s++){const l=Qr.compareSegments(e.get(s),t.get(s));if(l!==0)return l}return ze(e.length,t.length)}static compareSegments(e,t){const i=Qr.isNumericId(e),s=Qr.isNumericId(t);return i&&!s?-1:!i&&s?1:i&&s?Qr.extractNumericId(e).compare(Qr.extractNumericId(t)):kg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return La.fromString(e.substring(4,e.length-2))}}class ot extends Qr{construct(e,t,i){return new ot(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new he(te.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((s=>s.length>0)))}return new ot(t)}static emptyPath(){return new ot([])}}const DV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends Qr{construct(e,t,i){return new nn(e,t,i)}static isValidIdentifier(e){return DV.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Zw}static keyField(){return new nn([Zw])}static fromServerFormat(e){const t=[];let i="",s=0;const l=()=>{if(i.length===0)throw new he(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new he(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[s+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new he(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,s+=2}else d==="`"?(c=!c,s++):d!=="."||c?(i+=d,s++):(l(),s++)}if(l(),c)throw new he(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(t)}static emptyPath(){return new nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(ot.fromString(e))}static fromName(e){return new _e(ot.fromString(e).popFirst(5))}static empty(){return new _e(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ot.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new ot(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(n,e,t){if(!t)throw new he(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function OV(n,e,t,i){if(e===!0&&i===!0)throw new he(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function e0(n){if(!_e.isDocumentKey(n))throw new he(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function t0(n){if(_e.isDocumentKey(n))throw new he(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function LA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function yd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Se(12329,{type:typeof n})}function Fi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new he(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=yd(n);throw new he(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function MV(n,e){if(e<=0)throw new he(te.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pt(n,e){const t={typeString:n};return e&&(t.value=e),t}function dc(n,e){if(!LA(n))throw new he(te.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const s=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in n)){t=`JSON missing required field: '${i}'`;break}const c=n[i];if(s&&typeof c!==s){t=`JSON field '${i}' must be a ${s}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new he(te.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0=-62135596800,r0=1e6;class ft{static now(){return ft.fromMillis(Date.now())}static fromDate(e){return ft.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*r0);return new ft(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<n0)throw new he(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/r0}_compareTo(e){return this.seconds===e.seconds?ze(this.nanoseconds,e.nanoseconds):ze(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ft._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(dc(e,ft._jsonSchema))return new ft(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-n0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ft._jsonSchemaVersion="firestore/timestamp/1.0",ft._jsonSchema={type:Pt("string",ft._jsonSchemaVersion),seconds:Pt("number"),nanoseconds:Pt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new ft(0,0))}static max(){return new Ae(new ft(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku=-1;function VV(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=Ae.fromTimestamp(i===1e9?new ft(t+1,0):new ft(t,i));return new ja(s,_e.empty(),e)}function LV(n){return new ja(n.readTime,n.key,Ku)}class ja{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ja(Ae.min(),_e.empty(),Ku)}static max(){return new ja(Ae.max(),_e.empty(),Ku)}}function kV(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(n.documentKey,e.documentKey),t!==0?t:ze(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pl(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==PV)throw n;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new re(((i,s)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,s)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof re?t:re.resolve(t)}catch(t){return re.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):re.reject(t)}static resolve(e){return new re(((t,i)=>{t(e)}))}static reject(e){return new re(((t,i)=>{i(e)}))}static waitFor(e){return new re(((t,i)=>{let s=0,l=0,c=!1;e.forEach((d=>{++s,d.next((()=>{++l,c&&l===s&&t()}),(p=>i(p)))})),c=!0,l===s&&t()}))}static or(e){let t=re.resolve(!1);for(const i of e)t=t.next((s=>s?re.resolve(s):i()));return t}static forEach(e,t){const i=[];return e.forEach(((s,l)=>{i.push(t.call(this,s,l))})),this.waitFor(i)}static mapArray(e,t){return new re(((i,s)=>{const l=e.length,c=new Array(l);let d=0;for(let p=0;p<l;p++){const g=p;t(e[g]).next((v=>{c[g]=v,++d,d===l&&i(c)}),(v=>s(v)))}}))}static doWhile(e,t){return new re(((i,s)=>{const l=()=>{e()===!0?t().next((()=>{l()}),s):i()};l()}))}}function jV(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function gl(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}vd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy=-1;function _d(n){return n==null}function Lh(n){return n===0&&1/n==-1/0}function zV(n){return typeof n=="number"&&Number.isInteger(n)&&!Lh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA="";function BV(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=i0(e)),e=FV(n.get(t),e);return i0(e)}function FV(n,e){let t=e;const i=n.length;for(let s=0;s<i;s++){const l=n.charAt(s);switch(l){case"\0":t+="";break;case kA:t+="";break;default:t+=l}}return t}function i0(n){return n+kA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function qa(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function PA(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,t){this.comparator=e,this.root=t||tn.EMPTY}insert(e,t){return new yt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return t+i.left.size;s<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sh(this.root,e,this.comparator,!1)}getReverseIterator(){return new sh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sh(this.root,e,this.comparator,!0)}}class sh{constructor(e,t,i,s){this.isReverse=s,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&s&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tn{constructor(e,t,i,s,l){this.key=e,this.value=t,this.color=i??tn.RED,this.left=s??tn.EMPTY,this.right=l??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,s,l){return new tn(e??this.key,t??this.value,i??this.color,s??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const l=i(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,t,i),null):l===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return tn.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,t,i,s,l){return this}insert(e,t,i){return new tn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new s0(this.data.getIterator())}getIteratorFrom(e){return new s0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof Ft)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=i.getNext().key;if(this.comparator(s,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Ft(this.comparator);return t.data=e,t}}class s0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new Vn([])}unionWith(e){let t=new Ft(nn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Vn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return tl(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new UA("Invalid base64 string: "+l):l}})(e);return new rn(t)}static fromUint8Array(e){const t=(function(s){let l="";for(let c=0;c<s.length;++c)l+=String.fromCharCode(s[c]);return l})(e);return new rn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ze(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const $V=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function za(n){if(Je(!!n,39018),typeof n=="string"){let e=0;const t=$V.exec(n);if(Je(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Rt(n.seconds),nanos:Rt(n.nanos)}}function Rt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ba(n){return typeof n=="string"?rn.fromBase64String(n):rn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA="server_timestamp",zA="__type__",BA="__previous_value__",FA="__local_write_time__";function Ly(n){return(n?.mapValue?.fields||{})[zA]?.stringValue===jA}function Ed(n){const e=n.mapValue.fields[BA];return Ly(e)?Ed(e):e}function Yu(n){const e=za(n.mapValue.fields[FA].timestampValue);return new ft(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e,t,i,s,l,c,d,p,g,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=s,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=v}}const kh="(default)";class Qu{constructor(e,t){this.projectId=e,this.database=t||kh}static empty(){return new Qu("","")}get isDefaultDatabase(){return this.database===kh}isEqual(e){return e instanceof Qu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A="__type__",qV="__max__",oh={mapValue:{}},HA="__vector__",Ph="value";function Fa(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ly(n)?4:KV(n)?9007199254740991:GV(n)?10:11:Se(28295,{value:n})}function ri(n,e){if(n===e)return!0;const t=Fa(n);if(t!==Fa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Yu(n).isEqual(Yu(e));case 3:return(function(s,l){if(typeof s.timestampValue=="string"&&typeof l.timestampValue=="string"&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const c=za(s.timestampValue),d=za(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,l){return Ba(s.bytesValue).isEqual(Ba(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,l){return Rt(s.geoPointValue.latitude)===Rt(l.geoPointValue.latitude)&&Rt(s.geoPointValue.longitude)===Rt(l.geoPointValue.longitude)})(n,e);case 2:return(function(s,l){if("integerValue"in s&&"integerValue"in l)return Rt(s.integerValue)===Rt(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const c=Rt(s.doubleValue),d=Rt(l.doubleValue);return c===d?Lh(c)===Lh(d):isNaN(c)&&isNaN(d)}return!1})(n,e);case 9:return tl(n.arrayValue.values||[],e.arrayValue.values||[],ri);case 10:case 11:return(function(s,l){const c=s.mapValue.fields||{},d=l.mapValue.fields||{};if(a0(c)!==a0(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!ri(c[p],d[p])))return!1;return!0})(n,e);default:return Se(52216,{left:n})}}function Xu(n,e){return(n.values||[]).find((t=>ri(t,e)))!==void 0}function nl(n,e){if(n===e)return 0;const t=Fa(n),i=Fa(e);if(t!==i)return ze(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return ze(n.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=Rt(l.integerValue||l.doubleValue),p=Rt(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1})(n,e);case 3:return o0(n.timestampValue,e.timestampValue);case 4:return o0(Yu(n),Yu(e));case 5:return kg(n.stringValue,e.stringValue);case 6:return(function(l,c){const d=Ba(l),p=Ba(c);return d.compareTo(p)})(n.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),p=c.split("/");for(let g=0;g<d.length&&g<p.length;g++){const v=ze(d[g],p[g]);if(v!==0)return v}return ze(d.length,p.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=ze(Rt(l.latitude),Rt(c.latitude));return d!==0?d:ze(Rt(l.longitude),Rt(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return l0(n.arrayValue,e.arrayValue);case 10:return(function(l,c){const d=l.fields||{},p=c.fields||{},g=d[Ph]?.arrayValue,v=p[Ph]?.arrayValue,_=ze(g?.values?.length||0,v?.values?.length||0);return _!==0?_:l0(g,v)})(n.mapValue,e.mapValue);case 11:return(function(l,c){if(l===oh.mapValue&&c===oh.mapValue)return 0;if(l===oh.mapValue)return 1;if(c===oh.mapValue)return-1;const d=l.fields||{},p=Object.keys(d),g=c.fields||{},v=Object.keys(g);p.sort(),v.sort();for(let _=0;_<p.length&&_<v.length;++_){const S=kg(p[_],v[_]);if(S!==0)return S;const I=nl(d[p[_]],g[v[_]]);if(I!==0)return I}return ze(p.length,v.length)})(n.mapValue,e.mapValue);default:throw Se(23264,{he:t})}}function o0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ze(n,e);const t=za(n),i=za(e),s=ze(t.seconds,i.seconds);return s!==0?s:ze(t.nanos,i.nanos)}function l0(n,e){const t=n.values||[],i=e.values||[];for(let s=0;s<t.length&&s<i.length;++s){const l=nl(t[s],i[s]);if(l)return l}return ze(t.length,i.length)}function rl(n){return Pg(n)}function Pg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const i=za(t);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Ba(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return _e.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let i="[",s=!0;for(const l of t.values||[])s?s=!1:i+=",",i+=Pg(l);return i+"]"})(n.arrayValue):"mapValue"in n?(function(t){const i=Object.keys(t.fields||{}).sort();let s="{",l=!0;for(const c of i)l?l=!1:s+=",",s+=`${c}:${Pg(t.fields[c])}`;return s+"}"})(n.mapValue):Se(61005,{value:n})}function yh(n){switch(Fa(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ed(n);return e?16+yh(e):16;case 5:return 2*n.stringValue.length;case 6:return Ba(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((s,l)=>s+yh(l)),0)})(n.arrayValue);case 10:case 11:return(function(i){let s=0;return qa(i.fields,((l,c)=>{s+=l.length+yh(c)})),s})(n.mapValue);default:throw Se(13486,{value:n})}}function u0(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Ug(n){return!!n&&"integerValue"in n}function ky(n){return!!n&&"arrayValue"in n}function c0(n){return!!n&&"nullValue"in n}function f0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function vh(n){return!!n&&"mapValue"in n}function GV(n){return(n?.mapValue?.fields||{})[$A]?.stringValue===HA}function Pu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return qa(n.mapValue.fields,((t,i)=>e.mapValue.fields[t]=Pu(i))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Pu(n.arrayValue.values[t]);return e}return{...n}}function KV(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===qV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.value=e}static empty(){return new wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!vh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pu(t)}setAll(e){let t=nn.emptyPath(),i={},s=[];e.forEach(((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,s),i={},s=[],t=d.popLast()}c?i[d.lastSegment()]=Pu(c):s.push(d.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,i,s)}delete(e){const t=this.field(e.popLast());vh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ri(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=t.mapValue.fields[e.get(i)];vh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,i){qa(t,((s,l)=>e[s]=l));for(const s of i)delete e[s]}clone(){return new wn(Pu(this.value))}}function qA(n){const e=[];return qa(n.fields,((t,i)=>{const s=new nn([t]);if(vh(i)){const l=qA(i.mapValue).fields;if(l.length===0)e.push(s);else for(const c of l)e.push(s.child(c))}else e.push(s)})),new Vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,t,i,s,l,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=s,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new ln(e,0,Ae.min(),Ae.min(),Ae.min(),wn.empty(),0)}static newFoundDocument(e,t,i,s){return new ln(e,1,t,Ae.min(),i,s,0)}static newNoDocument(e,t){return new ln(e,2,t,Ae.min(),Ae.min(),wn.empty(),0)}static newUnknownDocument(e,t){return new ln(e,3,t,Ae.min(),Ae.min(),wn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,t){this.position=e,this.inclusive=t}}function h0(n,e,t){let i=0;for(let s=0;s<n.position.length;s++){const l=e[s],c=n.position[s];if(l.field.isKeyField()?i=_e.comparator(_e.fromName(c.referenceValue),t.key):i=nl(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function d0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ri(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,t="asc"){this.field=e,this.dir=t}}function YV(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{}class kt extends GA{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new XV(e,t,i):t==="array-contains"?new ZV(e,i):t==="in"?new eL(e,i):t==="not-in"?new tL(e,i):t==="array-contains-any"?new nL(e,i):new kt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new WV(e,i):new JV(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(nl(t,this.value)):t!==null&&Fa(this.value)===Fa(t)&&this.matchesComparison(nl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Sr extends GA{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Sr(e,t)}matches(e){return KA(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function KA(n){return n.op==="and"}function YA(n){return QV(n)&&KA(n)}function QV(n){for(const e of n.filters)if(e instanceof Sr)return!1;return!0}function jg(n){if(n instanceof kt)return n.field.canonicalString()+n.op.toString()+rl(n.value);if(YA(n))return n.filters.map((e=>jg(e))).join(",");{const e=n.filters.map((t=>jg(t))).join(",");return`${n.op}(${e})`}}function QA(n,e){return n instanceof kt?(function(i,s){return s instanceof kt&&i.op===s.op&&i.field.isEqual(s.field)&&ri(i.value,s.value)})(n,e):n instanceof Sr?(function(i,s){return s instanceof Sr&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce(((l,c,d)=>l&&QA(c,s.filters[d])),!0):!1})(n,e):void Se(19439)}function XA(n){return n instanceof kt?(function(t){return`${t.field.canonicalString()} ${t.op} ${rl(t.value)}`})(n):n instanceof Sr?(function(t){return t.op.toString()+" {"+t.getFilters().map(XA).join(" ,")+"}"})(n):"Filter"}class XV extends kt{constructor(e,t,i){super(e,t,i),this.key=_e.fromName(i.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class WV extends kt{constructor(e,t){super(e,"in",t),this.keys=WA("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class JV extends kt{constructor(e,t){super(e,"not-in",t),this.keys=WA("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function WA(n,e){return(e.arrayValue?.values||[]).map((t=>_e.fromName(t.referenceValue)))}class ZV extends kt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ky(t)&&Xu(t.arrayValue,this.value)}}class eL extends kt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Xu(this.value.arrayValue,t)}}class tL extends kt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Xu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Xu(this.value.arrayValue,t)}}class nL extends kt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ky(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>Xu(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rL{constructor(e,t=null,i=[],s=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=s,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function m0(n,e=null,t=[],i=[],s=null,l=null,c=null){return new rL(n,e,t,i,s,l,c)}function Py(n){const e=Ce(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>jg(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),_d(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>rl(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>rl(i))).join(",")),e.Te=t}return e.Te}function Uy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!YV(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!QA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!d0(n.startAt,e.startAt)&&d0(n.endAt,e.endAt)}function zg(n){return _e.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,t=null,i=[],s=[],l=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=s,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function iL(n,e,t,i,s,l,c,d){return new yl(n,e,t,i,s,l,c,d)}function JA(n){return new yl(n)}function p0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function ZA(n){return n.collectionGroup!==null}function Uu(n){const e=Ce(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Ft(nn.comparator);return c.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(d=d.add(g.field))}))})),d})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Wu(l,i))})),t.has(nn.keyField().canonicalString())||e.Ie.push(new Wu(nn.keyField(),i))}return e.Ie}function Wr(n){const e=Ce(n);return e.Ee||(e.Ee=aL(e,Uu(n))),e.Ee}function aL(n,e){if(n.limitType==="F")return m0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const l=s.dir==="desc"?"asc":"desc";return new Wu(s.field,l)}));const t=n.endAt?new Uh(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Uh(n.startAt.position,n.startAt.inclusive):null;return m0(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Bg(n,e){const t=n.filters.concat([e]);return new yl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function jh(n,e,t){return new yl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Td(n,e){return Uy(Wr(n),Wr(e))&&n.limitType===e.limitType}function eR(n){return`${Py(Wr(n))}|lt:${n.limitType}`}function Fo(n){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((s=>XA(s))).join(", ")}]`),_d(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((s=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(s))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((s=>rl(s))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((s=>rl(s))).join(",")),`Target(${i})`})(Wr(n))}; limitType=${n.limitType})`}function wd(n,e){return e.isFoundDocument()&&(function(i,s){const l=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):_e.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(n,e)&&(function(i,s){for(const l of Uu(i))if(!l.field.isKeyField()&&s.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(i,s){for(const l of i.filters)if(!l.matches(s))return!1;return!0})(n,e)&&(function(i,s){return!(i.startAt&&!(function(c,d,p){const g=h0(c,d,p);return c.inclusive?g<=0:g<0})(i.startAt,Uu(i),s)||i.endAt&&!(function(c,d,p){const g=h0(c,d,p);return c.inclusive?g>=0:g>0})(i.endAt,Uu(i),s))})(n,e)}function sL(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function tR(n){return(e,t)=>{let i=!1;for(const s of Uu(n)){const l=oL(s,e,t);if(l!==0)return l;i=i||s.field.isKeyField()}return 0}}function oL(n,e,t){const i=n.field.isKeyField()?_e.comparator(e.key,t.key):(function(l,c,d){const p=c.data.field(l),g=d.data.field(l);return p!==null&&g!==null?nl(p,g):Se(42886)})(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Se(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[s,l]of i)if(this.equalsFn(s,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return void(s[l]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[t]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){qa(this.inner,((t,i)=>{for(const[s,l]of i)e(s,l)}))}isEmpty(){return PA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL=new yt(_e.comparator);function $i(){return lL}const nR=new yt(_e.comparator);function Vu(...n){let e=nR;for(const t of n)e=e.insert(t.key,t);return e}function rR(n){let e=nR;return n.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function xs(){return ju()}function iR(){return ju()}function ju(){return new Gs((n=>n.toString()),((n,e)=>n.isEqual(e)))}const uL=new yt(_e.comparator),cL=new Ft(_e.comparator);function Be(...n){let e=cL;for(const t of n)e=e.add(t);return e}const fL=new Ft(ze);function hL(){return fL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lh(e)?"-0":e}}function aR(n){return{integerValue:""+n}}function dL(n,e){return zV(e)?aR(e):jy(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(){this._=void 0}}function mL(n,e,t){return n instanceof Ju?(function(s,l){const c={fields:{[zA]:{stringValue:jA},[FA]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&Ly(l)&&(l=Ed(l)),l&&(c.fields[BA]=l),{mapValue:c}})(t,e):n instanceof Zu?oR(n,e):n instanceof ec?lR(n,e):(function(s,l){const c=sR(s,l),d=g0(c)+g0(s.Ae);return Ug(c)&&Ug(s.Ae)?aR(d):jy(s.serializer,d)})(n,e)}function pL(n,e,t){return n instanceof Zu?oR(n,e):n instanceof ec?lR(n,e):t}function sR(n,e){return n instanceof zh?(function(i){return Ug(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class Ju extends Sd{}class Zu extends Sd{constructor(e){super(),this.elements=e}}function oR(n,e){const t=uR(e);for(const i of n.elements)t.some((s=>ri(s,i)))||t.push(i);return{arrayValue:{values:t}}}class ec extends Sd{constructor(e){super(),this.elements=e}}function lR(n,e){let t=uR(e);for(const i of n.elements)t=t.filter((s=>!ri(s,i)));return{arrayValue:{values:t}}}class zh extends Sd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function g0(n){return Rt(n.integerValue||n.doubleValue)}function uR(n){return ky(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(e,t){this.field=e,this.transform=t}}function yL(n,e){return n.field.isEqual(e.field)&&(function(i,s){return i instanceof Zu&&s instanceof Zu||i instanceof ec&&s instanceof ec?tl(i.elements,s.elements,ri):i instanceof zh&&s instanceof zh?ri(i.Ae,s.Ae):i instanceof Ju&&s instanceof Ju})(n.transform,e.transform)}class vL{constructor(e,t){this.version=e,this.transformResults=t}}class er{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new er}static exists(e){return new er(void 0,e)}static updateTime(e){return new er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _h(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class bd{}function cR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new zy(n.key,er.none()):new mc(n.key,n.data,er.none());{const t=n.data,i=wn.empty();let s=new Ft(nn.comparator);for(let l of e.fields)if(!s.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),s=s.add(l)}return new Ga(n.key,i,new Vn(s.toArray()),er.none())}}function _L(n,e,t){n instanceof mc?(function(s,l,c){const d=s.value.clone(),p=v0(s.fieldTransforms,l,c.transformResults);d.setAll(p),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(n,e,t):n instanceof Ga?(function(s,l,c){if(!_h(s.precondition,l))return void l.convertToUnknownDocument(c.version);const d=v0(s.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(fR(s)),p.setAll(d),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()})(n,e,t):(function(s,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function zu(n,e,t,i){return n instanceof mc?(function(l,c,d,p){if(!_h(l.precondition,c))return d;const g=l.value.clone(),v=_0(l.fieldTransforms,p,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(n,e,t,i):n instanceof Ga?(function(l,c,d,p){if(!_h(l.precondition,c))return d;const g=_0(l.fieldTransforms,p,c),v=c.data;return v.setAll(fR(l)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((_=>_.field)))})(n,e,t,i):(function(l,c,d){return _h(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(n,e,t)}function EL(n,e){let t=null;for(const i of n.fieldTransforms){const s=e.data.field(i.field),l=sR(i.transform,s||null);l!=null&&(t===null&&(t=wn.empty()),t.set(i.field,l))}return t||null}function y0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&tl(i,s,((l,c)=>yL(l,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class mc extends bd{constructor(e,t,i,s=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ga extends bd{constructor(e,t,i,s,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=s,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function fR(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}})),e}function v0(n,e,t){const i=new Map;Je(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let s=0;s<t.length;s++){const l=n[s],c=l.transform,d=e.data.field(l.field);i.set(l.field,pL(c,d,t[s]))}return i}function _0(n,e,t){const i=new Map;for(const s of n){const l=s.transform,c=t.data.field(s.field);i.set(s.field,mL(l,c,e))}return i}class zy extends bd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TL extends bd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e,t,i,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const l=this.mutations[s];l.key.isEqual(e.key)&&_L(l,e,i[s])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=zu(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=zu(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=iR();return this.mutations.forEach((s=>{const l=e.get(s.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(s.key)?null:d;const p=cR(c,d);p!==null&&i.set(s.key,p),c.isValidDocument()||c.convertToNoDocument(Ae.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Be())}isEqual(e){return this.batchId===e.batchId&&tl(this.mutations,e.mutations,((t,i)=>y0(t,i)))&&tl(this.baseMutations,e.baseMutations,((t,i)=>y0(t,i)))}}class By{constructor(e,t,i,s){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=s}static from(e,t,i){Je(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let s=(function(){return uL})();const l=e.mutations;for(let c=0;c<l.length;c++)s=s.insert(l[c].key,i[c].version);return new By(e,t,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt,$e;function AL(n){switch(n){case te.OK:return Se(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Se(15467,{code:n})}}function hR(n){if(n===void 0)return Bi("GRPC error has no .code"),te.UNKNOWN;switch(n){case Lt.OK:return te.OK;case Lt.CANCELLED:return te.CANCELLED;case Lt.UNKNOWN:return te.UNKNOWN;case Lt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Lt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Lt.INTERNAL:return te.INTERNAL;case Lt.UNAVAILABLE:return te.UNAVAILABLE;case Lt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Lt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Lt.NOT_FOUND:return te.NOT_FOUND;case Lt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Lt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Lt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Lt.ABORTED:return te.ABORTED;case Lt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Lt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Lt.DATA_LOSS:return te.DATA_LOSS;default:return Se(39323,{code:n})}}($e=Lt||(Lt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL=new La([4294967295,4294967295],0);function E0(n){const e=RL().encode(n),t=new RA;return t.update(e),new Uint8Array(t.digest())}function T0(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new La([t,i],0),new La([s,l],0)]}class Fy{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Lu(`Invalid padding: ${t}`);if(i<0)throw new Lu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Lu(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Lu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=La.fromNumber(this.ge)}ye(e,t,i){let s=e.add(t.multiply(La.fromNumber(i)));return s.compare(CL)===1&&(s=new La([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=E0(e),[i,s]=T0(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,s,l);if(!this.we(c))return!1}return!0}static create(e,t,i){const s=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Fy(l,s,t);return i.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const t=E0(e),[i,s]=T0(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,s,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Lu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,t,i,s,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const s=new Map;return s.set(e,pc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Ad(Ae.min(),s,new yt(ze),$i(),Be())}}class pc{constructor(e,t,i,s,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new pc(i,t,Be(),Be(),Be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,t,i,s){this.be=e,this.removedTargetIds=t,this.key=i,this.De=s}}class dR{constructor(e,t){this.targetId=e,this.Ce=t}}class mR{constructor(e,t,i=rn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=s}}class w0{constructor(){this.ve=0,this.Fe=S0(),this.Me=rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Be(),t=Be(),i=Be();return this.Fe.forEach(((s,l)=>{switch(l){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:i=i.add(s);break;default:Se(38017,{changeType:l})}})),new pc(this.Me,this.xe,e,t,i)}qe(){this.Oe=!1,this.Fe=S0()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Je(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class IL{constructor(e){this.Ge=e,this.ze=new Map,this.je=$i(),this.Je=lh(),this.He=lh(),this.Ye=new yt(ze)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(e.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.We(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:Se(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,i=e.Ce.count,s=this.ot(t);if(s){const l=s.target;if(zg(l))if(i===0){const c=new _e(l.path);this.et(t,c,ln.newNoDocument(c,Ae.min()))}else Je(i===1,20013,{expectedCount:i});else{const c=this._t(t);if(c!==i){const d=this.ut(e),p=d?this.ct(d,e,c):1;if(p!==0){this.it(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:l=0}=t;let c,d;try{c=Ba(i).toUint8Array()}catch(p){if(p instanceof UA)return el("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Fy(c,s,l)}catch(p){return el(p instanceof Lu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.ge===0?null:d}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let s=0;return i.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(t,l,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&zg(d.target)){const p=new _e(d.target.path);this.It(p).has(c)||this.Et(c,p)||this.et(c,p,ln.newNoDocument(p,e))}l.Be&&(t.set(c,l.ke()),l.qe())}}));let i=Be();this.He.forEach(((l,c)=>{let d=!0;c.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const s=new Ad(e,t,this.Ye,this.je,i);return this.je=$i(),this.Je=lh(),this.He=lh(),this.Ye=new yt(ze),s}Xe(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,i),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.Qe(t,1):s.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new w0,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Ft(ze),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Ft(ze),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new w0),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function lh(){return new yt(_e.comparator)}function S0(){return new yt(_e.comparator)}const NL={asc:"ASCENDING",desc:"DESCENDING"},xL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DL={and:"AND",or:"OR"};class OL{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Fg(n,e){return n.useProto3Json||_d(e)?e:{value:e}}function Bh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function ML(n,e){return Bh(n,e.toTimestamp())}function Jr(n){return Je(!!n,49232),Ae.fromTimestamp((function(t){const i=za(t);return new ft(i.seconds,i.nanos)})(n))}function $y(n,e){return $g(n,e).canonicalString()}function $g(n,e){const t=(function(s){return new ot(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function gR(n){const e=ot.fromString(n);return Je(TR(e),10190,{key:e.toString()}),e}function Hg(n,e){return $y(n.databaseId,e.path)}function fg(n,e){const t=gR(e);if(t.get(1)!==n.databaseId.projectId)throw new he(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new he(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new _e(vR(t))}function yR(n,e){return $y(n.databaseId,e)}function VL(n){const e=gR(n);return e.length===4?ot.emptyPath():vR(e)}function qg(n){return new ot(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function vR(n){return Je(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function b0(n,e,t){return{name:Hg(n,e),fields:t.value.mapValue.fields}}function LL(n,e){let t;if("targetChange"in e){e.targetChange;const i=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Se(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],l=(function(g,v){return g.useProto3Json?(Je(v===void 0||typeof v=="string",58123),rn.fromBase64String(v||"")):(Je(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),rn.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(g){const v=g.code===void 0?te.UNKNOWN:hR(g.code);return new he(v,g.message||"")})(c);t=new mR(i,s,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=fg(n,i.document.name),l=Jr(i.document.updateTime),c=i.document.createTime?Jr(i.document.createTime):Ae.min(),d=new wn({mapValue:{fields:i.document.fields}}),p=ln.newFoundDocument(s,l,c,d),g=i.targetIds||[],v=i.removedTargetIds||[];t=new Eh(g,v,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=fg(n,i.document),l=i.readTime?Jr(i.readTime):Ae.min(),c=ln.newNoDocument(s,l),d=i.removedTargetIds||[];t=new Eh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=fg(n,i.document),l=i.removedTargetIds||[];t=new Eh([],l,s,null)}else{if(!("filter"in e))return Se(11601,{Rt:e});{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:l}=i,c=new bL(s,l),d=i.targetId;t=new dR(d,c)}}return t}function kL(n,e){let t;if(e instanceof mc)t={update:b0(n,e.key,e.value)};else if(e instanceof zy)t={delete:Hg(n,e.key)};else if(e instanceof Ga)t={update:b0(n,e.key,e.data),updateMask:qL(e.fieldMask)};else{if(!(e instanceof TL))return Se(16599,{Vt:e.type});t={verify:Hg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(l,c){const d=c.transform;if(d instanceof Ju)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Zu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof ec)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof zh)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Se(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(s,l){return l.updateTime!==void 0?{updateTime:ML(s,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Se(27497)})(n,e.precondition)),t}function PL(n,e){return n&&n.length>0?(Je(e!==void 0,14353),n.map((t=>(function(s,l){let c=s.updateTime?Jr(s.updateTime):Jr(l);return c.isEqual(Ae.min())&&(c=Jr(l)),new vL(c,s.transformResults||[])})(t,e)))):[]}function UL(n,e){return{documents:[yR(n,e.path)]}}function jL(n,e){const t={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=yR(n,s);const l=(function(g){if(g.length!==0)return ER(Sr.create(g,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(g){if(g.length!==0)return g.map((v=>(function(S){return{field:$o(S.field),direction:FL(S.dir)}})(v)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=Fg(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:t,parent:s}}function zL(n){let e=VL(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let s=null;if(i>0){Je(i===1,65062);const v=t.from[0];v.allDescendants?s=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=(function(_){const S=_R(_);return S instanceof Sr&&YA(S)?S.getFilters():[S]})(t.where));let c=[];t.orderBy&&(c=(function(_){return _.map((S=>(function(O){return new Wu(Ho(O.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(O.direction))})(S)))})(t.orderBy));let d=null;t.limit&&(d=(function(_){let S;return S=typeof _=="object"?_.value:_,_d(S)?null:S})(t.limit));let p=null;t.startAt&&(p=(function(_){const S=!!_.before,I=_.values||[];return new Uh(I,S)})(t.startAt));let g=null;return t.endAt&&(g=(function(_){const S=!_.before,I=_.values||[];return new Uh(I,S)})(t.endAt)),iL(e,s,c,l,d,"F",p,g)}function BL(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function _R(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Ho(t.unaryFilter.field);return kt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Ho(t.unaryFilter.field);return kt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ho(t.unaryFilter.field);return kt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Ho(t.unaryFilter.field);return kt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}})(n):n.fieldFilter!==void 0?(function(t){return kt.create(Ho(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Sr.create(t.compositeFilter.filters.map((i=>_R(i))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Se(1026)}})(t.compositeFilter.op))})(n):Se(30097,{filter:n})}function FL(n){return NL[n]}function $L(n){return xL[n]}function HL(n){return DL[n]}function $o(n){return{fieldPath:n.canonicalString()}}function Ho(n){return nn.fromServerFormat(n.fieldPath)}function ER(n){return n instanceof kt?(function(t){if(t.op==="=="){if(f0(t.value))return{unaryFilter:{field:$o(t.field),op:"IS_NAN"}};if(c0(t.value))return{unaryFilter:{field:$o(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(f0(t.value))return{unaryFilter:{field:$o(t.field),op:"IS_NOT_NAN"}};if(c0(t.value))return{unaryFilter:{field:$o(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$o(t.field),op:$L(t.op),value:t.value}}})(n):n instanceof Sr?(function(t){const i=t.getFilters().map((s=>ER(s)));return i.length===1?i[0]:{compositeFilter:{op:HL(t.op),filters:i}}})(n):Se(54877,{filter:n})}function qL(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function TR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,t,i,s,l=Ae.min(),c=Ae.min(),d=rn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new Da(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Da(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Da(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Da(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e){this.yt=e}}function KL(n){const e=zL({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?jh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(){this.Cn=new QL}addToCollectionParentIndex(e,t){return this.Cn.add(t),re.resolve()}getCollectionParents(e,t){return re.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return re.resolve()}deleteFieldIndex(e,t){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,t){return re.resolve()}getDocumentsMatchingTarget(e,t){return re.resolve(null)}getIndexType(e,t){return re.resolve(0)}getFieldIndexes(e,t){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,t){return re.resolve(ja.min())}getMinOffsetFromCollectionGroup(e,t){return re.resolve(ja.min())}updateCollectionGroup(e,t,i){return re.resolve()}updateIndexEntries(e,t){return re.resolve()}}class QL{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t]||new Ft(ot.comparator),l=!s.has(i);return this.index[t]=s.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t];return s&&s.has(i)}getEntries(e){return(this.index[e]||new Ft(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wR=41943040;class Tn{static withCacheSize(e){return new Tn(e,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(wR,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new il(0)}static cr(){return new il(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0="LruGarbageCollector",XL=1048576;function C0([n,e],[t,i]){const s=ze(n,t);return s===0?ze(e,i):s}class WL{constructor(e){this.Ir=e,this.buffer=new Ft(C0),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();C0(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class JL{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){de(R0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){gl(t)?de(R0,"Ignoring IndexedDB error during garbage collection: ",t):await pl(t)}await this.Vr(3e5)}))}}class ZL{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return re.resolve(vd.ce);const i=new WL(t);return this.mr.forEachTarget(e,(s=>i.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>i.Ar(s))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.mr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(A0)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),A0):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let i,s,l,c,d,p,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,c=Date.now(),this.nthSequenceNumber(e,s)))).next((_=>(i=_,d=Date.now(),this.removeTargets(e,i,t)))).next((_=>(l=_,p=Date.now(),this.removeOrphanedDocuments(e,i)))).next((_=>(g=Date.now(),Bo()<=je.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${s} in `+(d-c)+`ms
	Removed ${l} targets in `+(p-d)+`ms
	Removed ${_} documents in `+(g-p)+`ms
Total Duration: ${g-v}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:l,documentsRemoved:_}))))}}function ek(n,e){return new ZL(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(){this.changes=new Gs((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?re.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e,t,i,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(i=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(i!==null&&zu(i.mutation,s,Vn.empty(),ft.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,Be()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=Be()){const s=xs();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,i).next((l=>{let c=Vu();return l.forEach(((d,p)=>{c=c.insert(d,p.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const i=xs();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,Be())))}populateOverlays(e,t,i){const s=[];return i.forEach((l=>{t.has(l)||s.push(l)})),this.documentOverlayCache.getOverlays(e,s).next((l=>{l.forEach(((c,d)=>{t.set(c,d)}))}))}computeViews(e,t,i,s){let l=$i();const c=ju(),d=(function(){return ju()})();return t.forEach(((p,g)=>{const v=i.get(g.key);s.has(g.key)&&(v===void 0||v.mutation instanceof Ga)?l=l.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),zu(v.mutation,g,v.mutation.getFieldMask(),ft.now())):c.set(g.key,Vn.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((g,v)=>c.set(g,v))),t.forEach(((g,v)=>d.set(g,new nk(v,c.get(g)??null)))),d)))}recalculateAndSaveOverlays(e,t){const i=ju();let s=new yt(((c,d)=>c-d)),l=Be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const d of c)d.keys().forEach((p=>{const g=t.get(p);if(g===null)return;let v=i.get(p)||Vn.empty();v=d.applyToLocalView(g,v),i.set(p,v);const _=(s.get(d.batchId)||Be()).add(p);s=s.insert(d.batchId,_)}))})).next((()=>{const c=[],d=s.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,v=p.value,_=iR();v.forEach((S=>{if(!l.has(S)){const I=cR(t.get(S),i.get(S));I!==null&&_.set(S,I),l=l.add(S)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,_))}return re.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,s){return(function(c){return _e.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ZA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,s):this.getDocumentsMatchingCollectionQuery(e,t,i,s)}getNextDocuments(e,t,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,s).next((l=>{const c=s-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,s-l.size):re.resolve(xs());let d=Ku,p=l;return c.next((g=>re.forEach(g,((v,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),l.get(v)?re.resolve():this.remoteDocumentCache.getEntry(e,v).next((S=>{p=p.insert(v,S)}))))).next((()=>this.populateOverlays(e,g,l))).next((()=>this.computeViews(e,p,g,Be()))).next((v=>({batchId:d,changes:rR(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next((i=>{let s=Vu();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,s){const l=t.collectionGroup;let c=Vu();return this.indexManager.getCollectionParents(e,l).next((d=>re.forEach(d,(p=>{const g=(function(_,S){return new yl(S,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,i,s).next((v=>{v.forEach(((_,S)=>{c=c.insert(_,S)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,i,s){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,s)))).next((c=>{l.forEach(((p,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,ln.newInvalidDocument(v)))}));let d=Vu();return c.forEach(((p,g)=>{const v=l.get(p);v!==void 0&&zu(v.mutation,g,Vn.empty(),ft.now()),wd(t,g)&&(d=d.insert(p,g))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return re.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:Jr(s.createTime)}})(t)),re.resolve()}getNamedQuery(e,t){return re.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(s){return{name:s.name,query:KL(s.bundledQuery),readTime:Jr(s.readTime)}})(t)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(){this.overlays=new yt(_e.comparator),this.qr=new Map}getOverlay(e,t){return re.resolve(this.overlays.get(t))}getOverlays(e,t){const i=xs();return re.forEach(t,(s=>this.getOverlay(e,s).next((l=>{l!==null&&i.set(s,l)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((s,l)=>{this.St(e,t,l)})),re.resolve()}removeOverlaysForBatchId(e,t,i){const s=this.qr.get(i);return s!==void 0&&(s.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(i)),re.resolve()}getOverlaysForCollection(e,t,i){const s=xs(),l=t.length+1,c=new _e(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&p.largestBatchId>i&&s.set(p.getKey(),p)}return re.resolve(s)}getOverlaysForCollectionGroup(e,t,i,s){let l=new yt(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>i){let v=l.get(g.largestBatchId);v===null&&(v=xs(),l=l.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const d=xs(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,v)=>d.set(g,v))),!(d.size()>=s)););return re.resolve(d)}St(e,t,i){const s=this.overlays.get(i.key);if(s!==null){const c=this.qr.get(s.largestBatchId).delete(i.key);this.qr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new SL(t,i));let l=this.qr.get(t);l===void 0&&(l=Be(),this.qr.set(t,l)),this.qr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(){this.Qr=new Ft(Kt.$r),this.Ur=new Ft(Kt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const i=new Kt(e,t);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Gr(new Kt(e,t))}zr(e,t){e.forEach((i=>this.removeReference(i,t)))}jr(e){const t=new _e(new ot([])),i=new Kt(t,e),s=new Kt(t,e+1),l=[];return this.Ur.forEachInRange([i,s],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new _e(new ot([])),i=new Kt(t,e),s=new Kt(t,e+1);let l=Be();return this.Ur.forEachInRange([i,s],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new Kt(e,0),i=this.Qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Kt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return _e.comparator(e.key,t.key)||ze(e.Yr,t.Yr)}static Kr(e,t){return ze(e.Yr,t.Yr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Ft(Kt.$r)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,s){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new wL(l,t,i,s);this.mutationQueue.push(c);for(const d of s)this.Zr=this.Zr.add(new Kt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return re.resolve(c)}lookupMutationBatch(e,t){return re.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,s=this.ei(i),l=s<0?0:s;return re.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?Vy:this.tr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Kt(t,0),s=new Kt(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([i,s],(c=>{const d=this.Xr(c.Yr);l.push(d)})),re.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Ft(ze);return t.forEach((s=>{const l=new Kt(s,0),c=new Kt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(d=>{i=i.add(d.Yr)}))})),re.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,s=i.length+1;let l=i;_e.isDocumentKey(l)||(l=l.child(""));const c=new Kt(new _e(l),0);let d=new Ft(ze);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!i.isPrefixOf(g)&&(g.length===s&&(d=d.add(p.Yr)),!0)}),c),re.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((i=>{const s=this.Xr(i);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){Je(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return re.forEach(t.mutations,(s=>{const l=new Kt(s.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=i}))}ir(e){}containsKey(e,t){const i=new Kt(t,0),s=this.Zr.firstAfterOrEqual(i);return re.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e){this.ri=e,this.docs=(function(){return new yt(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,s=this.docs.get(i),l=s?s.size:0,c=this.ri(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return re.resolve(i?i.document.mutableCopy():ln.newInvalidDocument(t))}getEntries(e,t){let i=$i();return t.forEach((s=>{const l=this.docs.get(s);i=i.insert(s,l?l.document.mutableCopy():ln.newInvalidDocument(s))})),re.resolve(i)}getDocumentsMatchingQuery(e,t,i,s){let l=$i();const c=t.path,d=new _e(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:v}}=p.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||kV(LV(v),i)<=0||(s.has(v.key)||wd(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return re.resolve(l)}getAllFromCollectionGroup(e,t,i,s){Se(9500)}ii(e,t){return re.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new uk(this)}getSize(e){return re.resolve(this.size)}}class uk extends tk{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,s)=>{s.isValidDocument()?t.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(i)})),re.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e){this.persistence=e,this.si=new Gs((t=>Py(t)),Uy),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.oi=0,this._i=new Hy,this.targetCount=0,this.ai=il.ur()}forEachTarget(e,t){return this.si.forEach(((i,s)=>t(s))),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.oi&&(this.oi=t),re.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new il(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,re.resolve()}updateTargetData(e,t){return this.Pr(t),re.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,t,i){let s=0;const l=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)})),re.waitFor(l).next((()=>s))}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,t){const i=this.si.get(t)||null;return re.resolve(i)}addMatchingKeys(e,t,i){return this._i.Wr(t,i),re.resolve()}removeMatchingKeys(e,t,i){this._i.zr(t,i);const s=this.persistence.referenceDelegate,l=[];return s&&t.forEach((c=>{l.push(s.markPotentiallyOrphaned(e,c))})),re.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),re.resolve()}getMatchingKeysForTargetId(e,t){const i=this._i.Hr(t);return re.resolve(i)}containsKey(e,t){return re.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e,t){this.ui={},this.overlays={},this.ci=new vd(0),this.li=!1,this.li=!0,this.hi=new sk,this.referenceDelegate=e(this),this.Pi=new ck(this),this.indexManager=new YL,this.remoteDocumentCache=(function(s){return new lk(s)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new GL(t),this.Ii=new ik(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ak,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ui[e.toKey()];return i||(i=new ok(t,this.referenceDelegate),this.ui[e.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,i){de("MemoryPersistence","Starting transaction:",e);const s=new fk(this.ci.next());return this.referenceDelegate.Ei(),i(s).next((l=>this.referenceDelegate.di(s).next((()=>l)))).toPromise().then((l=>(s.raiseOnCommittedEvent(),l)))}Ai(e,t){return re.or(Object.values(this.ui).map((i=>()=>i.containsKey(e,t))))}}class fk extends UV{constructor(e){super(),this.currentSequenceNumber=e}}class qy{constructor(e){this.persistence=e,this.Ri=new Hy,this.Vi=null}static mi(e){return new qy(e)}get fi(){if(this.Vi)return this.Vi;throw Se(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.fi.delete(i.toString()),re.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.fi.add(i.toString()),re.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),re.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((s=>this.fi.add(s.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((l=>this.fi.add(l.toString())))})).next((()=>i.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.fi,(i=>{const s=_e.fromPath(i);return this.gi(e,s).next((l=>{l||t.removeEntry(s,Ae.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((i=>{i?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return re.or([()=>re.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Fh{constructor(e,t){this.persistence=e,this.pi=new Gs((i=>BV(i.path)),((i,s)=>i.isEqual(s))),this.garbageCollector=ek(this,t)}static mi(e,t){return new Fh(e,t)}Ei(){}di(e){return re.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((s=>i+s))))}wr(e){let t=0;return this.pr(e,(i=>{t++})).next((()=>t))}pr(e,t){return re.forEach(this.pi,((i,s)=>this.br(e,i,s).next((l=>l?re.resolve():t(s)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const s=this.persistence.getRemoteDocumentCache(),l=s.newChangeBuffer();return s.ii(e,(c=>this.br(e,c,t).next((d=>{d||(i++,l.removeEntry(c,Ae.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),re.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),re.resolve()}removeReference(e,t,i){return this.pi.set(i,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),re.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=yh(e.data.value)),t}br(e,t,i){return re.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.pi.get(t);return re.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e,t,i,s){this.targetId=e,this.fromCache=t,this.Es=i,this.ds=s}static As(e,t){let i=Be(),s=Be();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:s=s.add(l.doc.key)}return new Gy(e,t.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return nM()?8:jV(un())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,s){const l={result:null};return this.ys(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,t,s,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new hk;return this.Ss(e,t,c).next((d=>{if(l.result=d,this.Vs)return this.bs(e,t,c,d.size)}))})).next((()=>l.result))}bs(e,t,i,s){return i.documentReadCount<this.fs?(Bo()<=je.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Fo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),re.resolve()):(Bo()<=je.DEBUG&&de("QueryEngine","Query:",Fo(t),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.gs*s?(Bo()<=je.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Fo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wr(t))):re.resolve())}ys(e,t){if(p0(t))return re.resolve(null);let i=Wr(t);return this.indexManager.getIndexType(e,i).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=jh(t,null,"F"),i=Wr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const c=Be(...l);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,i).next((p=>{const g=this.Ds(t,d);return this.Cs(t,g,c,p.readTime)?this.ys(e,jh(t,null,"F")):this.vs(e,g,t,p)}))))})))))}ws(e,t,i,s){return p0(t)||s.isEqual(Ae.min())?re.resolve(null):this.ps.getDocuments(e,i).next((l=>{const c=this.Ds(t,l);return this.Cs(t,c,i,s)?re.resolve(null):(Bo()<=je.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Fo(t)),this.vs(e,c,t,VV(s,Ku)).next((d=>d)))}))}Ds(e,t){let i=new Ft(tR(e));return t.forEach(((s,l)=>{wd(e,l)&&(i=i.add(l))})),i}Cs(e,t,i,s){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)}Ss(e,t,i){return Bo()<=je.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Fo(t)),this.ps.getDocumentsMatchingQuery(e,t,ja.min(),i)}vs(e,t,i,s){return this.ps.getDocumentsMatchingQuery(e,i,s).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky="LocalStore",mk=3e8;class pk{constructor(e,t,i,s){this.persistence=e,this.Fs=t,this.serializer=s,this.Ms=new yt(ze),this.xs=new Gs((l=>Py(l)),Uy),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(i)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rk(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function gk(n,e,t,i){return new pk(n,e,t,i)}async function bR(n,e){const t=Ce(n);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let s;return t.mutationQueue.getAllMutationBatches(i).next((l=>(s=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],d=[];let p=Be();for(const g of s){c.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}for(const g of l){d.push(g.batchId);for(const v of g.mutations)p=p.add(v.key)}return t.localDocuments.getDocuments(i,p).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:d})))}))}))}function yk(n,e){const t=Ce(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const s=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,p,g,v){const _=g.batch,S=_.keys();let I=re.resolve();return S.forEach((O=>{I=I.next((()=>v.getEntry(p,O))).next((k=>{const C=g.docVersions.get(O);Je(C!==null,48541),k.version.compareTo(C)<0&&(_.applyToRemoteDocument(k,g),k.isValidDocument()&&(k.setReadTime(g.commitVersion),v.addEntry(k)))}))})),I.next((()=>d.mutationQueue.removeMutationBatch(p,_)))})(t,i,e,l).next((()=>l.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(d){let p=Be();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(i,s)))}))}function AR(n){const e=Ce(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function vk(n,e){const t=Ce(n),i=e.snapshotVersion;let s=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});s=t.Ms;const d=[];e.targetChanges.forEach(((v,_)=>{const S=s.get(_);if(!S)return;d.push(t.Pi.removeMatchingKeys(l,v.removedDocuments,_).next((()=>t.Pi.addMatchingKeys(l,v.addedDocuments,_))));let I=S.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?I=I.withResumeToken(rn.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):v.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(v.resumeToken,i)),s=s.insert(_,I),(function(k,C,z){return k.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=mk?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(S,I,v)&&d.push(t.Pi.updateTargetData(l,I))}));let p=$i(),g=Be();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))})),d.push(_k(l,c,e.documentUpdates).next((v=>{p=v.ks,g=v.qs}))),!i.isEqual(Ae.min())){const v=t.Pi.getLastRemoteSnapshotVersion(l).next((_=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,i)));d.push(v)}return re.waitFor(d).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,p,g))).next((()=>p))})).then((l=>(t.Ms=s,l)))}function _k(n,e,t){let i=Be(),s=Be();return t.forEach((l=>i=i.add(l))),e.getEntries(n,i).next((l=>{let c=$i();return t.forEach(((d,p)=>{const g=l.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(s=s.add(d)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):de(Ky,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)})),{ks:c,qs:s}}))}function Ek(n,e){const t=Ce(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Vy),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function Tk(n,e){const t=Ce(n);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let s;return t.Pi.getTargetData(i,e).next((l=>l?(s=l,re.resolve(s)):t.Pi.allocateTargetId(i).next((c=>(s=new Da(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Pi.addTargetData(i,s).next((()=>s)))))))})).then((i=>{const s=t.Ms.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(i.targetId,i),t.xs.set(e,i.targetId)),i}))}async function Gg(n,e,t){const i=Ce(n),s=i.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,s)))}catch(c){if(!gl(c))throw c;de(Ky,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ms=i.Ms.remove(e),i.xs.delete(s.target)}function I0(n,e,t){const i=Ce(n);let s=Ae.min(),l=Be();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(p,g,v){const _=Ce(p),S=_.xs.get(v);return S!==void 0?re.resolve(_.Ms.get(S)):_.Pi.getTargetData(g,v)})(i,c,Wr(e)).next((d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,d.targetId).next((p=>{l=p}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,e,t?s:Ae.min(),t?l:Be()))).next((d=>(wk(i,sL(e),d),{documents:d,Qs:l})))))}function wk(n,e,t){let i=n.Os.get(e)||Ae.min();t.forEach(((s,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),n.Os.set(e,i)}class N0{constructor(){this.activeTargetIds=hL()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Sk{constructor(){this.Mo=new N0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,i){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new N0,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="ConnectivityMonitor";class D0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){de(x0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){de(x0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uh=null;function Kg(){return uh===null?uh=(function(){return 268435456+Math.round(2147483648*Math.random())})():uh++,"0x"+uh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg="RestConnection",Ak={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Rk{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${i}/databases/${s}`,this.Wo=this.databaseId.database===kh?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Go(e,t,i,s,l){const c=Kg(),d=this.zo(e,t.toUriEncodedString());de(hg,`Sending RPC '${e}' ${c}:`,d,i);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,s,l);const{host:g}=new URL(d),v=hl(g);return this.Jo(e,d,p,i,v).then((_=>(de(hg,`Received RPC '${e}' ${c}: `,_),_)),(_=>{throw el(hg,`RPC '${e}' ${c} failed with error: `,_,"url: ",d,"request:",i),_}))}Ho(e,t,i,s,l,c){return this.Go(e,t,i,s,l)}jo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ml})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,l)=>e[l]=s)),i&&i.headers.forEach(((s,l)=>e[l]=s))}zo(e,t){const i=Ak[e];return`${this.Uo}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="WebChannelConnection";class Ik extends Rk{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,i,s,l){const c=Kg();return new Promise(((d,p)=>{const g=new CA;g.setWithCredentials(!0),g.listenOnce(IA.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case gh.NO_ERROR:const _=g.getResponseJson();de(sn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(_)),d(_);break;case gh.TIMEOUT:de(sn,`RPC '${e}' ${c} timed out`),p(new he(te.DEADLINE_EXCEEDED,"Request time out"));break;case gh.HTTP_ERROR:const S=g.getStatus();if(de(sn,`RPC '${e}' ${c} failed with status:`,S,"response text:",g.getResponseText()),S>0){let I=g.getResponseJson();Array.isArray(I)&&(I=I[0]);const O=I?.error;if(O&&O.status&&O.message){const k=(function(z){const $=z.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf($)>=0?$:te.UNKNOWN})(O.status);p(new he(k,O.message))}else p(new he(te.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new he(te.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{l_:e,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{de(sn,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(s);de(sn,`RPC '${e}' ${c} sending request:`,s),g.send(t,"POST",v,i,15)}))}T_(e,t,i){const s=Kg(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=DA(),d=xA(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const v=l.join("");de(sn,`Creating RPC '${e}' stream ${s}: ${v}`,p);const _=c.createWebChannel(v,p);this.I_(_);let S=!1,I=!1;const O=new Ck({Yo:C=>{I?de(sn,`Not sending because RPC '${e}' stream ${s} is closed:`,C):(S||(de(sn,`Opening RPC '${e}' stream ${s} transport.`),_.open(),S=!0),de(sn,`RPC '${e}' stream ${s} sending:`,C),_.send(C))},Zo:()=>_.close()}),k=(C,z,$)=>{C.listen(z,(Y=>{try{$(Y)}catch(oe){setTimeout((()=>{throw oe}),0)}}))};return k(_,Mu.EventType.OPEN,(()=>{I||(de(sn,`RPC '${e}' stream ${s} transport opened.`),O.o_())})),k(_,Mu.EventType.CLOSE,(()=>{I||(I=!0,de(sn,`RPC '${e}' stream ${s} transport closed`),O.a_(),this.E_(_))})),k(_,Mu.EventType.ERROR,(C=>{I||(I=!0,el(sn,`RPC '${e}' stream ${s} transport errored. Name:`,C.name,"Message:",C.message),O.a_(new he(te.UNAVAILABLE,"The operation could not be completed")))})),k(_,Mu.EventType.MESSAGE,(C=>{if(!I){const z=C.data[0];Je(!!z,16349);const $=z,Y=$?.error||$[0]?.error;if(Y){de(sn,`RPC '${e}' stream ${s} received error:`,Y);const oe=Y.status;let fe=(function(N){const D=Lt[N];if(D!==void 0)return hR(D)})(oe),ue=Y.message;fe===void 0&&(fe=te.INTERNAL,ue="Unknown error status: "+oe+" with message "+Y.message),I=!0,O.a_(new he(fe,ue)),_.close()}else de(sn,`RPC '${e}' stream ${s} received:`,z),O.u_(z)}})),k(d,NA.STAT_EVENT,(C=>{C.stat===Lg.PROXY?de(sn,`RPC '${e}' stream ${s} detected buffering proxy`):C.stat===Lg.NOPROXY&&de(sn,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{O.__()}),0),O}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function dg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(n){return new OL(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{constructor(e,t,i=1e3,s=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=i,this.A_=s,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-i);s>0&&de("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0="PersistentStream";class CR{constructor(e,t,i,s,l,c,d,p){this.Mi=e,this.S_=i,this.b_=s,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new RR(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(Bi(t.toString()),Bi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,s])=>{this.D_===t&&this.G_(i,s)}),(i=>{e((()=>{const s=new he(te.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(s)}))}))}G_(e,t){const i=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{i((()=>this.z_(s)))})),this.stream.onMessage((s=>{i((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return de(O0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(de(O0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Nk extends CR{constructor(e,t,i,s,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,s,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=LL(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Ae.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ae.min():c.readTime?Jr(c.readTime):Ae.min()})(e);return this.listener.H_(t,i)}Y_(e){const t={};t.database=qg(this.serializer),t.addTarget=(function(l,c){let d;const p=c.target;if(d=zg(p)?{documents:UL(l,p)}:{query:jL(l,p).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=pR(l,c.resumeToken);const g=Fg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ae.min())>0){d.readTime=Bh(l,c.snapshotVersion.toTimestamp());const g=Fg(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d})(this.serializer,e);const i=BL(this.serializer,e);i&&(t.labels=i),this.q_(t)}Z_(e){const t={};t.database=qg(this.serializer),t.removeTarget=e,this.q_(t)}}class xk extends CR{constructor(e,t,i,s,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,s,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=PL(e.writeResults,e.commitTime),i=Jr(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=qg(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>kL(this.serializer,i)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{}class Ok extends Dk{constructor(e,t,i,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new he(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,$g(t,i),s,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new he(te.UNKNOWN,l.toString())}))}Ho(e,t,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,$g(t,i),s,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(te.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Mk{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Bi(t),this.aa=!1):de("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="RemoteStore";class Vk{constructor(e,t,i,s,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{Ks(this)&&(de(Ls,"Restarting streams for network reachability change."),await(async function(p){const g=Ce(p);g.Ea.add(4),await gc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Cd(g)})(this))}))})),this.Ra=new Mk(i,s)}}async function Cd(n){if(Ks(n))for(const e of n.da)await e(!0)}async function gc(n){for(const e of n.da)await e(!1)}function IR(n,e){const t=Ce(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Wy(t)?Xy(t):vl(t).O_()&&Qy(t,e))}function Yy(n,e){const t=Ce(n),i=vl(t);t.Ia.delete(e),i.O_()&&NR(t,e),t.Ia.size===0&&(i.O_()?i.L_():Ks(t)&&t.Ra.set("Unknown"))}function Qy(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}vl(n).Y_(e)}function NR(n,e){n.Va.Ue(e),vl(n).Z_(e)}function Xy(n){n.Va=new IL({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),vl(n).start(),n.Ra.ua()}function Wy(n){return Ks(n)&&!vl(n).x_()&&n.Ia.size>0}function Ks(n){return Ce(n).Ea.size===0}function xR(n){n.Va=void 0}async function Lk(n){n.Ra.set("Online")}async function kk(n){n.Ia.forEach(((e,t)=>{Qy(n,e)}))}async function Pk(n,e){xR(n),Wy(n)?(n.Ra.ha(e),Xy(n)):n.Ra.set("Unknown")}async function Uk(n,e,t){if(n.Ra.set("Online"),e instanceof mR&&e.state===2&&e.cause)try{await(async function(s,l){const c=l.cause;for(const d of l.targetIds)s.Ia.has(d)&&(await s.remoteSyncer.rejectListen(d,c),s.Ia.delete(d),s.Va.removeTarget(d))})(n,e)}catch(i){de(Ls,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await $h(n,i)}else if(e instanceof Eh?n.Va.Ze(e):e instanceof dR?n.Va.st(e):n.Va.tt(e),!t.isEqual(Ae.min()))try{const i=await AR(n.localStore);t.compareTo(i)>=0&&await(function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const v=l.Ia.get(g);v&&l.Ia.set(g,v.withResumeToken(p.resumeToken,c))}})),d.targetMismatches.forEach(((p,g)=>{const v=l.Ia.get(p);if(!v)return;l.Ia.set(p,v.withResumeToken(rn.EMPTY_BYTE_STRING,v.snapshotVersion)),NR(l,p);const _=new Da(v.target,p,g,v.sequenceNumber);Qy(l,_)})),l.remoteSyncer.applyRemoteEvent(d)})(n,t)}catch(i){de(Ls,"Failed to raise snapshot:",i),await $h(n,i)}}async function $h(n,e,t){if(!gl(e))throw e;n.Ea.add(1),await gc(n),n.Ra.set("Offline"),t||(t=()=>AR(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{de(Ls,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Cd(n)}))}function DR(n,e){return e().catch((t=>$h(n,t,e)))}async function Id(n){const e=Ce(n),t=$a(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Vy;for(;jk(e);)try{const s=await Ek(e.localStore,i);if(s===null){e.Ta.length===0&&t.L_();break}i=s.batchId,zk(e,s)}catch(s){await $h(e,s)}OR(e)&&MR(e)}function jk(n){return Ks(n)&&n.Ta.length<10}function zk(n,e){n.Ta.push(e);const t=$a(n);t.O_()&&t.X_&&t.ea(e.mutations)}function OR(n){return Ks(n)&&!$a(n).x_()&&n.Ta.length>0}function MR(n){$a(n).start()}async function Bk(n){$a(n).ra()}async function Fk(n){const e=$a(n);for(const t of n.Ta)e.ea(t.mutations)}async function $k(n,e,t){const i=n.Ta.shift(),s=By.from(i,e,t);await DR(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await Id(n)}async function Hk(n,e){e&&$a(n).X_&&await(async function(i,s){if((function(c){return AL(c)&&c!==te.ABORTED})(s.code)){const l=i.Ta.shift();$a(i).B_(),await DR(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,s))),await Id(i)}})(n,e),OR(n)&&MR(n)}async function M0(n,e){const t=Ce(n);t.asyncQueue.verifyOperationInProgress(),de(Ls,"RemoteStore received new credentials");const i=Ks(t);t.Ea.add(3),await gc(t),i&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Cd(t)}async function qk(n,e){const t=Ce(n);e?(t.Ea.delete(2),await Cd(t)):e||(t.Ea.add(2),await gc(t),t.Ra.set("Unknown"))}function vl(n){return n.ma||(n.ma=(function(t,i,s){const l=Ce(t);return l.sa(),new Nk(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)})(n.datastore,n.asyncQueue,{Xo:Lk.bind(null,n),t_:kk.bind(null,n),r_:Pk.bind(null,n),H_:Uk.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),Wy(n)?Xy(n):n.Ra.set("Unknown")):(await n.ma.stop(),xR(n))}))),n.ma}function $a(n){return n.fa||(n.fa=(function(t,i,s){const l=Ce(t);return l.sa(),new xk(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:Bk.bind(null,n),r_:Hk.bind(null,n),ta:Fk.bind(null,n),na:$k.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Id(n)):(await n.fa.stop(),n.Ta.length>0&&(de(Ls,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(e,t,i,s,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=s,this.removalCallback=l,this.deferred=new ka,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,s,l){const c=Date.now()+i,d=new Jy(e,t,c,s,l);return d.start(i),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zy(n,e){if(Bi("AsyncQueue",`${e}: ${n}`),gl(n))return new he(te.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{static emptySet(e){return new Go(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||_e.comparator(t.key,i.key):(t,i)=>_e.comparator(t.key,i.key),this.keyedMap=Vu(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Go)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=i.getNext().key;if(!s.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Go;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(){this.ga=new yt(_e.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Se(63341,{Rt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class al{constructor(e,t,i,s,l,c,d,p,g){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,i,s,l){const c=[];return t.forEach((d=>{c.push({type:0,doc:d})})),new al(e,t,Go.emptySet(t),c,i,s,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Td(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==i[s].type||!t[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Kk{constructor(){this.queries=L0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const s=Ce(t),l=s.queries;s.queries=L0(),l.forEach(((c,d)=>{for(const p of d.Sa)p.onError(i)}))})(this,new he(te.ABORTED,"Firestore shutting down"))}}function L0(){return new Gs((n=>eR(n)),Td)}async function Yk(n,e){const t=Ce(n);let i=3;const s=e.query;let l=t.queries.get(s);l?!l.ba()&&e.Da()&&(i=2):(l=new Gk,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await t.onListen(s,!0);break;case 1:l.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(c){const d=Zy(c,`Initialization of query '${Fo(e.query)}' failed`);return void e.onError(d)}t.queries.set(s,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&ev(t)}async function Qk(n,e){const t=Ce(n),i=e.query;let s=3;const l=t.queries.get(i);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?s=e.Da()?0:1:!l.ba()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function Xk(n,e){const t=Ce(n);let i=!1;for(const s of e){const l=s.query,c=t.queries.get(l);if(c){for(const d of c.Sa)d.Fa(s)&&(i=!0);c.wa=s}}i&&ev(t)}function Wk(n,e,t){const i=Ce(n),s=i.queries.get(e);if(s)for(const l of s.Sa)l.onError(t);i.queries.delete(e)}function ev(n){n.Ca.forEach((e=>{e.next()}))}var Yg,k0;(k0=Yg||(Yg={})).Ma="default",k0.Cache="cache";class Jk{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new al(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=al.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Yg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e){this.key=e}}class LR{constructor(e){this.key=e}}class Zk{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Be(),this.mutatedKeys=Be(),this.eu=tR(e),this.tu=new Go(this.eu)}get nu(){return this.Ya}ru(e,t){const i=t?t.iu:new V0,s=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=s,d=!1;const p=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,g=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((v,_)=>{const S=s.get(v),I=wd(this.query,_)?_:null,O=!!S&&this.mutatedKeys.has(S.key),k=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let C=!1;S&&I?S.data.isEqual(I.data)?O!==k&&(i.track({type:3,doc:I}),C=!0):this.su(S,I)||(i.track({type:2,doc:I}),C=!0,(p&&this.eu(I,p)>0||g&&this.eu(I,g)<0)&&(d=!0)):!S&&I?(i.track({type:0,doc:I}),C=!0):S&&!I&&(i.track({type:1,doc:S}),C=!0,(p||g)&&(d=!0)),C&&(I?(c=c.add(I),l=k?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),i.track({type:1,doc:v})}return{tu:c,iu:i,Cs:d,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,s){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,_)=>(function(I,O){const k=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{Rt:C})}};return k(I)-k(O)})(v.type,_.type)||this.eu(v.doc,_.doc))),this.ou(i),s=s??!1;const d=t&&!s?this._u():[],p=this.Xa.size===0&&this.current&&!s?1:0,g=p!==this.Za;return this.Za=p,c.length!==0||g?{snapshot:new al(this.query,e.tu,l,c,e.mutatedKeys,p===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new V0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Be(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const t=[];return e.forEach((i=>{this.Xa.has(i)||t.push(new LR(i))})),this.Xa.forEach((i=>{e.has(i)||t.push(new VR(i))})),t}cu(e){this.Ya=e.Qs,this.Xa=Be();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return al.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const tv="SyncEngine";class eP{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class tP{constructor(e){this.key=e,this.hu=!1}}class nP{constructor(e,t,i,s,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Gs((d=>eR(d)),Td),this.Iu=new Map,this.Eu=new Set,this.du=new yt(_e.comparator),this.Au=new Map,this.Ru=new Hy,this.Vu={},this.mu=new Map,this.fu=il.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function rP(n,e,t=!0){const i=BR(n);let s;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),s=l.view.lu()):s=await kR(i,e,t,!0),s}async function iP(n,e){const t=BR(n);await kR(t,e,!0,!1)}async function kR(n,e,t,i){const s=await Tk(n.localStore,Wr(e)),l=s.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await aP(n,e,l,c==="current",s.resumeToken)),n.isPrimaryClient&&t&&IR(n.remoteStore,s),d}async function aP(n,e,t,i,s){n.pu=(_,S,I)=>(async function(k,C,z,$){let Y=C.view.ru(z);Y.Cs&&(Y=await I0(k.localStore,C.query,!1).then((({documents:x})=>C.view.ru(x,Y))));const oe=$&&$.targetChanges.get(C.targetId),fe=$&&$.targetMismatches.get(C.targetId)!=null,ue=C.view.applyChanges(Y,k.isPrimaryClient,oe,fe);return U0(k,C.targetId,ue.au),ue.snapshot})(n,_,S,I);const l=await I0(n.localStore,e,!0),c=new Zk(e,l.Qs),d=c.ru(l.documents),p=pc.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",s),g=c.applyChanges(d,n.isPrimaryClient,p);U0(n,t,g.au);const v=new eP(e,t,c);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),g.snapshot}async function sP(n,e,t){const i=Ce(n),s=i.Tu.get(e),l=i.Iu.get(s.targetId);if(l.length>1)return i.Iu.set(s.targetId,l.filter((c=>!Td(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await Gg(i.localStore,s.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(s.targetId),t&&Yy(i.remoteStore,s.targetId),Qg(i,s.targetId)})).catch(pl)):(Qg(i,s.targetId),await Gg(i.localStore,s.targetId,!0))}async function oP(n,e){const t=Ce(n),i=t.Tu.get(e),s=t.Iu.get(i.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Yy(t.remoteStore,i.targetId))}async function lP(n,e,t){const i=pP(n);try{const s=await(function(c,d){const p=Ce(c),g=ft.now(),v=d.reduce(((I,O)=>I.add(O.key)),Be());let _,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let O=$i(),k=Be();return p.Ns.getEntries(I,v).next((C=>{O=C,O.forEach(((z,$)=>{$.isValidDocument()||(k=k.add(z))}))})).next((()=>p.localDocuments.getOverlayedDocuments(I,O))).next((C=>{_=C;const z=[];for(const $ of d){const Y=EL($,_.get($.key).overlayedDocument);Y!=null&&z.push(new Ga($.key,Y,qA(Y.value.mapValue),er.exists(!0)))}return p.mutationQueue.addMutationBatch(I,g,z,d)})).next((C=>{S=C;const z=C.applyToLocalDocumentSet(_,k);return p.documentOverlayCache.saveOverlays(I,C.batchId,z)}))})).then((()=>({batchId:S.batchId,changes:rR(_)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),(function(c,d,p){let g=c.Vu[c.currentUser.toKey()];g||(g=new yt(ze)),g=g.insert(d,p),c.Vu[c.currentUser.toKey()]=g})(i,s.batchId,t),await yc(i,s.changes),await Id(i.remoteStore)}catch(s){const l=Zy(s,"Failed to persist write");t.reject(l)}}async function PR(n,e){const t=Ce(n);try{const i=await vk(t.localStore,e);e.targetChanges.forEach(((s,l)=>{const c=t.Au.get(l);c&&(Je(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?c.hu=!0:s.modifiedDocuments.size>0?Je(c.hu,14607):s.removedDocuments.size>0&&(Je(c.hu,42227),c.hu=!1))})),await yc(t,i,e)}catch(i){await pl(i)}}function P0(n,e,t){const i=Ce(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const s=[];i.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&s.push(d.snapshot)})),(function(c,d){const p=Ce(c);p.onlineState=d;let g=!1;p.queries.forEach(((v,_)=>{for(const S of _.Sa)S.va(d)&&(g=!0)})),g&&ev(p)})(i.eventManager,e),s.length&&i.Pu.H_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function uP(n,e,t){const i=Ce(n);i.sharedClientState.updateQueryState(e,"rejected",t);const s=i.Au.get(e),l=s&&s.key;if(l){let c=new yt(_e.comparator);c=c.insert(l,ln.newNoDocument(l,Ae.min()));const d=Be().add(l),p=new Ad(Ae.min(),new Map,new yt(ze),c,d);await PR(i,p),i.du=i.du.remove(l),i.Au.delete(e),nv(i)}else await Gg(i.localStore,e,!1).then((()=>Qg(i,e,t))).catch(pl)}async function cP(n,e){const t=Ce(n),i=e.batch.batchId;try{const s=await yk(t.localStore,e);jR(t,i,null),UR(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await yc(t,s)}catch(s){await pl(s)}}async function fP(n,e,t){const i=Ce(n);try{const s=await(function(c,d){const p=Ce(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return p.mutationQueue.lookupMutationBatch(g,d).next((_=>(Je(_!==null,37113),v=_.keys(),p.mutationQueue.removeMutationBatch(g,_)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,v,d))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>p.localDocuments.getDocuments(g,v)))}))})(i.localStore,e);jR(i,e,t),UR(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await yc(i,s)}catch(s){await pl(s)}}function UR(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function jR(n,e,t){const i=Ce(n);let s=i.Vu[i.currentUser.toKey()];if(s){const l=s.get(e);l&&(t?l.reject(t):l.resolve(),s=s.remove(e)),i.Vu[i.currentUser.toKey()]=s}}function Qg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Iu.get(e))n.Tu.delete(i),t&&n.Pu.yu(i,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((i=>{n.Ru.containsKey(i)||zR(n,i)}))}function zR(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Yy(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),nv(n))}function U0(n,e,t){for(const i of t)i instanceof VR?(n.Ru.addReference(i.key,e),hP(n,i)):i instanceof LR?(de(tv,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,e),n.Ru.containsKey(i.key)||zR(n,i.key)):Se(19791,{wu:i})}function hP(n,e){const t=e.key,i=t.path.canonicalString();n.du.get(t)||n.Eu.has(i)||(de(tv,"New document in limbo: "+t),n.Eu.add(i),nv(n))}function nv(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new _e(ot.fromString(e)),i=n.fu.next();n.Au.set(i,new tP(t)),n.du=n.du.insert(t,i),IR(n.remoteStore,new Da(Wr(JA(t.path)),i,"TargetPurposeLimboResolution",vd.ce))}}async function yc(n,e,t){const i=Ce(n),s=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((d,p)=>{c.push(i.pu(p,e,t).then((g=>{if((g||t)&&i.isPrimaryClient){const v=g?!g.fromCache:t?.targetChanges.get(p.targetId)?.current;i.sharedClientState.updateQueryState(p.targetId,v?"current":"not-current")}if(g){s.push(g);const v=Gy.As(p.targetId,g);l.push(v)}})))})),await Promise.all(c),i.Pu.H_(s),await(async function(p,g){const v=Ce(p);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>re.forEach(g,(S=>re.forEach(S.Es,(I=>v.persistence.referenceDelegate.addReference(_,S.targetId,I))).next((()=>re.forEach(S.ds,(I=>v.persistence.referenceDelegate.removeReference(_,S.targetId,I)))))))))}catch(_){if(!gl(_))throw _;de(Ky,"Failed to update sequence numbers: "+_)}for(const _ of g){const S=_.targetId;if(!_.fromCache){const I=v.Ms.get(S),O=I.snapshotVersion,k=I.withLastLimboFreeSnapshotVersion(O);v.Ms=v.Ms.insert(S,k)}}})(i.localStore,l))}async function dP(n,e){const t=Ce(n);if(!t.currentUser.isEqual(e)){de(tv,"User change. New user:",e.toKey());const i=await bR(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((p=>{p.reject(new he(te.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await yc(t,i.Ls)}}function mP(n,e){const t=Ce(n),i=t.Au.get(e);if(i&&i.hu)return Be().add(i.key);{let s=Be();const l=t.Iu.get(e);if(!l)return s;for(const c of l){const d=t.Tu.get(c);s=s.unionWith(d.view.nu)}return s}}function BR(n){const e=Ce(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=PR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uP.bind(null,e),e.Pu.H_=Xk.bind(null,e.eventManager),e.Pu.yu=Wk.bind(null,e.eventManager),e}function pP(n){const e=Ce(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fP.bind(null,e),e}class Hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Rd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return gk(this.persistence,new dk,e.initialUser,this.serializer)}Cu(e){return new SR(qy.mi,this.serializer)}Du(e){return new Sk}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hh.provider={build:()=>new Hh};class gP extends Hh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Je(this.persistence.referenceDelegate instanceof Fh,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new JL(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new SR((i=>Fh.mi(i,t)),this.serializer)}}class Xg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>P0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=dP.bind(null,this.syncEngine),await qk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Kk})()}createDatastore(e){const t=Rd(e.databaseInfo.databaseId),i=(function(l){return new Ik(l)})(e.databaseInfo);return(function(l,c,d,p){return new Ok(l,c,d,p)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,s,l,c,d){return new Vk(i,s,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>P0(this.syncEngine,t,0)),(function(){return D0.v()?new D0:new bk})())}createSyncEngine(e,t){return(function(s,l,c,d,p,g,v){const _=new nP(s,l,c,d,p,g);return v&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const i=Ce(t);de(Ls,"RemoteStore shutting down."),i.Ea.add(5),await gc(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Xg.provider={build:()=>new Xg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Bi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ha="FirestoreClient";class vP{constructor(e,t,i,s,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=s,this.user=on.UNAUTHENTICATED,this.clientId=My.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{de(Ha,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(de(Ha,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ka;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Zy(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function mg(n,e){n.asyncQueue.verifyOperationInProgress(),de(Ha,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener((async s=>{i.isEqual(s)||(await bR(e.localStore,s),i=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function j0(n,e){n.asyncQueue.verifyOperationInProgress();const t=await _P(n);de(Ha,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((i=>M0(e.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,s)=>M0(e.remoteStore,s))),n._onlineComponents=e}async function _P(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){de(Ha,"Using user provided OfflineComponentProvider");try{await mg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===te.FAILED_PRECONDITION||s.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;el("Error using user provided cache. Falling back to memory cache: "+t),await mg(n,new Hh)}}else de(Ha,"Using default OfflineComponentProvider"),await mg(n,new gP(void 0));return n._offlineComponents}async function FR(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(de(Ha,"Using user provided OnlineComponentProvider"),await j0(n,n._uninitializedComponentsProvider._online)):(de(Ha,"Using default OnlineComponentProvider"),await j0(n,new Xg))),n._onlineComponents}function EP(n){return FR(n).then((e=>e.syncEngine))}async function TP(n){const e=await FR(n),t=e.eventManager;return t.onListen=rP.bind(null,e.syncEngine),t.onUnlisten=sP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=iP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=oP.bind(null,e.syncEngine),t}function wP(n,e,t={}){const i=new ka;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,p,g){const v=new yP({next:S=>{v.Nu(),c.enqueueAndForget((()=>Qk(l,_))),S.fromCache&&p.source==="server"?g.reject(new he(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),_=new Jk(d,v,{includeMetadataChanges:!0,qa:!0});return Yk(l,_)})(await TP(n),n.asyncQueue,e,t,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR="firestore.googleapis.com",B0=!0;class F0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=HR,this.ssl=B0}else this.host=e.host,this.ssl=e.ssl??B0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=wR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<XL)throw new he(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}OV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$R(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new he(te.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,s){return i.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Nd{constructor(e,t,i,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new F0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new F0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new wV;switch(i.type){case"firstParty":return new RV(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new he(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=z0.get(t);i&&(de("ComponentProvider","Removing Datastore"),z0.delete(t),i.terminate())})(this),Promise.resolve()}}function SP(n,e,t,i={}){n=Fi(n,Nd);const s=hl(e),l=n._getSettings(),c={...l,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;s&&(pA(`https://${d}`),gA("Firestore",!0)),l.host!==HR&&l.host!==d&&el("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...l,host:d,ssl:s,emulatorOptions:i};if(!Ua(p,c)&&(n._setSettings(p),i.mockUserToken)){let g,v;if(typeof i.mockUserToken=="string")g=i.mockUserToken,v=on.MOCK_USER;else{g=YO(i.mockUserToken,n._app?.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new he(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new on(_)}n._authCredentials=new SV(new MA(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ka(this.firestore,e,this._query)}}class Ut{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ut(this.firestore,e,this._key)}toJSON(){return{type:Ut._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(dc(t,Ut._jsonSchema))return new Ut(e,i||null,new _e(ot.fromString(t.referencePath)))}}Ut._jsonSchemaVersion="firestore/documentReference/1.0",Ut._jsonSchema={type:Pt("string",Ut._jsonSchemaVersion),referencePath:Pt("string")};class Pa extends Ka{constructor(e,t,i){super(e,t,JA(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ut(this.firestore,null,new _e(e))}withConverter(e){return new Pa(this.firestore,e,this._path)}}function Ys(n,e,...t){if(n=jt(n),VA("collection","path",e),n instanceof Nd){const i=ot.fromString(e,...t);return t0(i),new Pa(n,null,i)}{if(!(n instanceof Ut||n instanceof Pa))throw new he(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ot.fromString(e,...t));return t0(i),new Pa(n.firestore,null,i)}}function vc(n,e,...t){if(n=jt(n),arguments.length===1&&(e=My.newId()),VA("doc","path",e),n instanceof Nd){const i=ot.fromString(e,...t);return e0(i),new Ut(n,null,new _e(i))}{if(!(n instanceof Ut||n instanceof Pa))throw new he(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(ot.fromString(e,...t));return e0(i),new Ut(n.firestore,n instanceof Pa?n.converter:null,new _e(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0="AsyncQueue";class H0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new RR(this,"async_queue_retry"),this._c=()=>{const i=dg();i&&de($0,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=dg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=dg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new ka;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!gl(e))throw e;de($0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,Bi("INTERNAL UNHANDLED ERROR: ",q0(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=Jy.createAndSchedule(this,e,t,i,(l=>this.hc(l)));return this.tc.push(s),s}uc(){this.nc&&Se(47125,{Pc:q0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function q0(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class _l extends Nd{constructor(e,t,i,s){super(e,t,i,s),this.type="firestore",this._queue=new H0,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new H0(e),this._firestoreClient=void 0,await e}}}function bP(n,e){const t=typeof n=="object"?n:Dy(),i=typeof n=="string"?n:kh,s=qs(t,"firestore").getImmediate({identifier:i});if(!s._initialized){const l=GO("firestore");l&&SP(s,...l)}return s}function qR(n){if(n._terminated)throw new he(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||AP(n),n._firestoreClient}function AP(n){const e=n._freezeSettings(),t=(function(s,l,c,d){return new HV(s,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,$R(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new vP(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(s){const l=s?._online.build();return{_offline:s?._offline.build(l),_online:l}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jn(rn.fromBase64String(e))}catch(t){throw new he(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Jn(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(dc(e,Jn._jsonSchema))return Jn.fromBase64String(e.bytes)}}Jn._jsonSchemaVersion="firestore/bytes/1.0",Jn._jsonSchema={type:Pt("string",Jn._jsonSchemaVersion),bytes:Pt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ze(this._lat,e._lat)||ze(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Zr._jsonSchemaVersion}}static fromJSON(e){if(dc(e,Zr._jsonSchema))return new Zr(e.latitude,e.longitude)}}Zr._jsonSchemaVersion="firestore/geoPoint/1.0",Zr._jsonSchema={type:Pt("string",Zr._jsonSchemaVersion),latitude:Pt("number"),longitude:Pt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,s){if(i.length!==s.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==s[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ei._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(dc(e,ei._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new ei(e.vectorValues);throw new he(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ei._jsonSchemaVersion="firestore/vectorValue/1.0",ei._jsonSchema={type:Pt("string",ei._jsonSchemaVersion),vectorValues:Pt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP=/^__.*__$/;class CP{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Ga(e,this.data,this.fieldMask,t,this.fieldTransforms):new mc(e,this.data,t,this.fieldTransforms)}}class GR{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Ga(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function KR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ac:n})}}class rv{constructor(e,t,i,s,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=s,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new rv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.gc(e),i}yc(e){const t=this.path?.child(e),i=this.Vc({path:t,fc:!1});return i.Rc(),i}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return qh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(KR(this.Ac)&&RP.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class IP{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Rd(e)}Cc(e,t,i,s=!1){return new rv({Ac:e,methodName:t,Dc:i,path:nn.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Od(n){const e=n._freezeSettings(),t=Rd(n._databaseId);return new IP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function YR(n,e,t,i,s,l={}){const c=n.Cc(l.merge||l.mergeFields?2:0,e,t,s);av("Data must be an object, but it was:",c,i);const d=QR(i,c);let p,g;if(l.merge)p=new Vn(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const _ of l.mergeFields){const S=Wg(e,_,t);if(!c.contains(S))throw new he(te.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);WR(v,S)||v.push(S)}p=new Vn(v),g=c.fieldTransforms.filter((_=>p.covers(_.field)))}else p=null,g=c.fieldTransforms;return new CP(new wn(d),p,g)}class Md extends Dd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Md}}class iv extends Dd{_toFieldTransform(e){return new gL(e.path,new Ju)}isEqual(e){return e instanceof iv}}function NP(n,e,t,i){const s=n.Cc(1,e,t);av("Data must be an object, but it was:",s,i);const l=[],c=wn.empty();qa(i,((p,g)=>{const v=sv(e,p,t);g=jt(g);const _=s.yc(v);if(g instanceof Md)l.push(v);else{const S=_c(g,_);S!=null&&(l.push(v),c.set(v,S))}}));const d=new Vn(l);return new GR(c,d,s.fieldTransforms)}function xP(n,e,t,i,s,l){const c=n.Cc(1,e,t),d=[Wg(e,i,t)],p=[s];if(l.length%2!=0)throw new he(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<l.length;S+=2)d.push(Wg(e,l[S])),p.push(l[S+1]);const g=[],v=wn.empty();for(let S=d.length-1;S>=0;--S)if(!WR(g,d[S])){const I=d[S];let O=p[S];O=jt(O);const k=c.yc(I);if(O instanceof Md)g.push(I);else{const C=_c(O,k);C!=null&&(g.push(I),v.set(I,C))}}const _=new Vn(g);return new GR(v,_,c.fieldTransforms)}function DP(n,e,t,i=!1){return _c(t,n.Cc(i?4:3,e))}function _c(n,e){if(XR(n=jt(n)))return av("Unsupported field value:",e,n),QR(n,e);if(n instanceof Dd)return(function(i,s){if(!KR(s.Ac))throw s.Sc(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(s);l&&s.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(i,s){const l=[];let c=0;for(const d of i){let p=_c(d,s.wc(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}})(n,e)}return(function(i,s){if((i=jt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return dL(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=ft.fromDate(i);return{timestampValue:Bh(s.serializer,l)}}if(i instanceof ft){const l=new ft(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Bh(s.serializer,l)}}if(i instanceof Zr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Jn)return{bytesValue:pR(s.serializer,i._byteString)};if(i instanceof Ut){const l=s.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw s.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:$y(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof ei)return(function(c,d){return{mapValue:{fields:{[$A]:{stringValue:HA},[Ph]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw d.Sc("VectorValues must only contain numeric values.");return jy(d.serializer,g)}))}}}}}})(i,s);throw s.Sc(`Unsupported field value: ${yd(i)}`)})(n,e)}function QR(n,e){const t={};return PA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qa(n,((i,s)=>{const l=_c(s,e.mc(i));l!=null&&(t[i]=l)})),{mapValue:{fields:t}}}function XR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ft||n instanceof Zr||n instanceof Jn||n instanceof Ut||n instanceof Dd||n instanceof ei)}function av(n,e,t){if(!XR(t)||!LA(t)){const i=yd(t);throw i==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+i)}}function Wg(n,e,t){if((e=jt(e))instanceof xd)return e._internalPath;if(typeof e=="string")return sv(n,e);throw qh("Field path arguments must be of type string or ",n,!1,void 0,t)}const OP=new RegExp("[~\\*/\\[\\]]");function sv(n,e,t){if(e.search(OP)>=0)throw qh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new xd(...e.split("."))._internalPath}catch{throw qh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function qh(n,e,t,i,s){const l=i&&!i.isEmpty(),c=s!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${s}`),p+=")"),new he(te.INVALID_ARGUMENT,d+n+p)}function WR(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e,t,i,s,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=s,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ut(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new MP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Vd("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class MP extends JR{data(){return super.data()}}function Vd(n,e){return typeof e=="string"?sv(n,e):e instanceof xd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new he(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ov{}class lv extends ov{}function El(n,e,...t){let i=[];e instanceof ov&&i.push(e),i=i.concat(t),(function(l){const c=l.filter((p=>p instanceof uv)).length,d=l.filter((p=>p instanceof Ld)).length;if(c>1||c>0&&d>0)throw new he(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const s of i)n=s._apply(n);return n}class Ld extends lv{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Ld(e,t,i)}_apply(e){const t=this._parse(e);return ZR(e._query,t),new Ka(e.firestore,e.converter,Bg(e._query,t))}_parse(e){const t=Od(e.firestore);return(function(l,c,d,p,g,v,_){let S;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new he(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){K0(_,v);const O=[];for(const k of _)O.push(G0(p,l,k));S={arrayValue:{values:O}}}else S=G0(p,l,_)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||K0(_,v),S=DP(d,c,_,v==="in"||v==="not-in");return kt.create(g,v,S)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Ec(n,e,t){const i=e,s=Vd("where",n);return Ld._create(s,i,t)}class uv extends ov{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new uv(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:Sr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,l){let c=s;const d=l.getFlattenedFilters();for(const p of d)ZR(c,p),c=Bg(c,p)})(e._query,t),new Ka(e.firestore,e.converter,Bg(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class cv extends lv{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new cv(e,t)}_apply(e){const t=(function(s,l,c){if(s.startAt!==null)throw new he(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new he(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wu(l,c)})(e._query,this._field,this._direction);return new Ka(e.firestore,e.converter,(function(s,l){const c=s.explicitOrderBy.concat([l]);return new yl(s.path,s.collectionGroup,c,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,t))}}function kd(n,e="asc"){const t=e,i=Vd("orderBy",n);return cv._create(i,t)}class fv extends lv{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new fv(e,t,i)}_apply(e){return new Ka(e.firestore,e.converter,jh(e._query,this._limit,this._limitType))}}function LP(n){return MV("limit",n),fv._create("limit",n,"F")}function G0(n,e,t){if(typeof(t=jt(t))=="string"){if(t==="")throw new he(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ZA(e)&&t.indexOf("/")!==-1)throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(ot.fromString(t));if(!_e.isDocumentKey(i))throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return u0(n,new _e(i))}if(t instanceof Ut)return u0(n,t._key);throw new he(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yd(t)}.`)}function K0(n,e){if(!Array.isArray(n)||n.length===0)throw new he(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ZR(n,e){const t=(function(s,l){for(const c of s)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new he(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class kP{convertValue(e,t="none"){switch(Fa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ba(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return qa(e,((s,l)=>{i[s]=this.convertValue(l,t)})),i}convertVectorValue(e){const t=e.fields?.[Ph].arrayValue?.values?.map((i=>Rt(i.doubleValue)));return new ei(t)}convertGeoPoint(e){return new Zr(Rt(e.latitude),Rt(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Ed(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Yu(e));default:return null}}convertTimestamp(e){const t=za(e);return new ft(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ot.fromString(e);Je(TR(i),9688,{name:e});const s=new Qu(i.get(1),i.get(3)),l=new _e(i.popFirst(5));return s.isEqual(t)||Bi(`Document ${l} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(n,e,t){let i;return i=n?n.toFirestore(e):e,i}class ch{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ko extends JR{constructor(e,t,i,s,l,c){super(e,t,i,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Vd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ko._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ko._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ko._jsonSchema={type:Pt("string",Ko._jsonSchemaVersion),bundleSource:Pt("string","DocumentSnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class Th extends Ko{data(e={}){return super.data(e)}}class Yo{constructor(e,t,i,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new ch(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new Th(this._firestore,this._userDataWriter,i.key,i,new ch(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,l){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map((d=>{const p=new Th(s._firestore,s._userDataWriter,d.doc.key,d.doc,new ch(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}}))}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const p=new Th(s._firestore,s._userDataWriter,d.doc.key,d.doc,new ch(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let g=-1,v=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:PP(d.type),doc:p,oldIndex:g,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Yo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=My.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],s=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),s.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function PP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:n})}}Yo._jsonSchemaVersion="firestore/querySnapshot/1.0",Yo._jsonSchema={type:Pt("string",Yo._jsonSchemaVersion),bundleSource:Pt("string","QuerySnapshot"),bundleName:Pt("string"),bundle:Pt("string")};class UP extends kP{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ut(this.firestore,null,t)}}function Tl(n){n=Fi(n,Ka);const e=Fi(n.firestore,_l),t=qR(e),i=new UP(e);return VP(n._query),wP(t,n._query).then((s=>new Yo(e,i,n,s)))}function t1(n,e,t){n=Fi(n,Ut);const i=Fi(n.firestore,_l),s=e1(n.converter,e);return Pd(i,[YR(Od(i),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,er.none())])}function jP(n,e,t,...i){n=Fi(n,Ut);const s=Fi(n.firestore,_l),l=Od(s);let c;return c=typeof(e=jt(e))=="string"||e instanceof xd?xP(l,"updateDoc",n._key,e,t,i):NP(l,"updateDoc",n._key,e),Pd(s,[c.toMutation(n._key,er.exists(!0))])}function zP(n){return Pd(Fi(n.firestore,_l),[new zy(n._key,er.none())])}function BP(n,e){const t=Fi(n.firestore,_l),i=vc(n),s=e1(n.converter,e);return Pd(t,[YR(Od(n.firestore),"addDoc",i._key,s,n.converter!==null,{}).toMutation(i._key,er.exists(!1))]).then((()=>i))}function Pd(n,e){return(function(i,s){const l=new ka;return i.asyncQueue.enqueueAndForget((async()=>lP(await EP(i),s,l))),l.promise})(qR(n),e)}function n1(){return new iv("serverTimestamp")}(function(e,t=!0){(function(s){ml=s})(dl),ni(new wr("firestore",((i,{instanceIdentifier:s,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new _l(new bV(i.getProvider("auth-internal")),new CV(c,i.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new he(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qu(g.options.projectId,v)})(c,s),c);return l={useFetchStreams:t,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Zn(Xw,Ww,e),Zn(Xw,Ww,"esm2020")})();var FP="firebase",$P="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zn(FP,$P,"app");const r1="@firebase/installations",hv="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1=1e4,a1=`w:${hv}`,s1="FIS_v2",HP="https://firebaseinstallations.googleapis.com/v1",qP=3600*1e3,GP="installations",KP="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YP={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ks=new Hs(GP,KP,YP);function o1(n){return n instanceof Rr&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1({projectId:n}){return`${HP}/projects/${n}/installations`}function u1(n){return{token:n.token,requestStatus:2,expiresIn:XP(n.expiresIn),creationTime:Date.now()}}async function c1(n,e){const i=(await e.json()).error;return ks.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function f1({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function QP(n,{refreshToken:e}){const t=f1(n);return t.append("Authorization",WP(e)),t}async function h1(n){const e=await n();return e.status>=500&&e.status<600?n():e}function XP(n){return Number(n.replace("s","000"))}function WP(n){return`${s1} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JP({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=l1(n),s=f1(n),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&s.append("x-firebase-client",g)}const c={fid:t,authVersion:s1,appId:n.appId,sdkVersion:a1},d={method:"POST",headers:s,body:JSON.stringify(c)},p=await h1(()=>fetch(i,d));if(p.ok){const g=await p.json();return{fid:g.fid||t,registrationStatus:2,refreshToken:g.refreshToken,authToken:u1(g.authToken)}}else throw await c1("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZP(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4=/^[cdef][\w-]{21}$/,Jg="";function t4(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=n4(n);return e4.test(t)?t:Jg}catch{return Jg}}function n4(n){return ZP(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ud(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1=new Map;function p1(n,e){const t=Ud(n);g1(t,e),r4(t,e)}function g1(n,e){const t=m1.get(n);if(t)for(const i of t)i(e)}function r4(n,e){const t=i4();t&&t.postMessage({key:n,fid:e}),a4()}let Ds=null;function i4(){return!Ds&&"BroadcastChannel"in self&&(Ds=new BroadcastChannel("[Firebase] FID Change"),Ds.onmessage=n=>{g1(n.data.key,n.data.fid)}),Ds}function a4(){m1.size===0&&Ds&&(Ds.close(),Ds=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s4="firebase-installations-database",o4=1,Ps="firebase-installations-store";let pg=null;function dv(){return pg||(pg=wA(s4,o4,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Ps)}}})),pg}async function Gh(n,e){const t=Ud(n),s=(await dv()).transaction(Ps,"readwrite"),l=s.objectStore(Ps),c=await l.get(t);return await l.put(e,t),await s.done,(!c||c.fid!==e.fid)&&p1(n,e.fid),e}async function y1(n){const e=Ud(n),i=(await dv()).transaction(Ps,"readwrite");await i.objectStore(Ps).delete(e),await i.done}async function jd(n,e){const t=Ud(n),s=(await dv()).transaction(Ps,"readwrite"),l=s.objectStore(Ps),c=await l.get(t),d=e(c);return d===void 0?await l.delete(t):await l.put(d,t),await s.done,d&&(!c||c.fid!==d.fid)&&p1(n,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mv(n){let e;const t=await jd(n.appConfig,i=>{const s=l4(i),l=u4(n,s);return e=l.registrationPromise,l.installationEntry});return t.fid===Jg?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function l4(n){const e=n||{fid:t4(),registrationStatus:0};return v1(e)}function u4(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(ks.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=c4(n,t);return{installationEntry:t,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:f4(n)}:{installationEntry:e}}async function c4(n,e){try{const t=await JP(n,e);return Gh(n.appConfig,t)}catch(t){throw o1(t)&&t.customData.serverCode===409?await y1(n.appConfig):await Gh(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function f4(n){let e=await Y0(n.appConfig);for(;e.registrationStatus===1;)await d1(100),e=await Y0(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:i}=await mv(n);return i||t}return e}function Y0(n){return jd(n,e=>{if(!e)throw ks.create("installation-not-found");return v1(e)})}function v1(n){return h4(n)?{fid:n.fid,registrationStatus:0}:n}function h4(n){return n.registrationStatus===1&&n.registrationTime+i1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d4({appConfig:n,heartbeatServiceProvider:e},t){const i=m4(n,t),s=QP(n,t),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&s.append("x-firebase-client",g)}const c={installation:{sdkVersion:a1,appId:n.appId}},d={method:"POST",headers:s,body:JSON.stringify(c)},p=await h1(()=>fetch(i,d));if(p.ok){const g=await p.json();return u1(g)}else throw await c1("Generate Auth Token",p)}function m4(n,{fid:e}){return`${l1(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pv(n,e=!1){let t;const i=await jd(n.appConfig,l=>{if(!_1(l))throw ks.create("not-registered");const c=l.authToken;if(!e&&y4(c))return l;if(c.requestStatus===1)return t=p4(n,e),l;{if(!navigator.onLine)throw ks.create("app-offline");const d=_4(l);return t=g4(n,d),d}});return t?await t:i.authToken}async function p4(n,e){let t=await Q0(n.appConfig);for(;t.authToken.requestStatus===1;)await d1(100),t=await Q0(n.appConfig);const i=t.authToken;return i.requestStatus===0?pv(n,e):i}function Q0(n){return jd(n,e=>{if(!_1(e))throw ks.create("not-registered");const t=e.authToken;return E4(t)?{...e,authToken:{requestStatus:0}}:e})}async function g4(n,e){try{const t=await d4(n,e),i={...e,authToken:t};return await Gh(n.appConfig,i),t}catch(t){if(o1(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await y1(n.appConfig);else{const i={...e,authToken:{requestStatus:0}};await Gh(n.appConfig,i)}throw t}}function _1(n){return n!==void 0&&n.registrationStatus===2}function y4(n){return n.requestStatus===2&&!v4(n)}function v4(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+qP}function _4(n){const e={requestStatus:1,requestTime:Date.now()};return{...n,authToken:e}}function E4(n){return n.requestStatus===1&&n.requestTime+i1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T4(n){const e=n,{installationEntry:t,registrationPromise:i}=await mv(e);return i?i.catch(console.error):pv(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w4(n,e=!1){const t=n;return await S4(t),(await pv(t,e)).token}async function S4(n){const{registrationPromise:e}=await mv(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b4(n){if(!n||!n.options)throw gg("App Configuration");if(!n.name)throw gg("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw gg(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function gg(n){return ks.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="installations",A4="installations-internal",R4=n=>{const e=n.getProvider("app").getImmediate(),t=b4(e),i=qs(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},C4=n=>{const e=n.getProvider("app").getImmediate(),t=qs(e,E1).getImmediate();return{getId:()=>T4(t),getToken:s=>w4(t,s)}};function I4(){ni(new wr(E1,R4,"PUBLIC")),ni(new wr(A4,C4,"PRIVATE"))}I4();Zn(r1,hv);Zn(r1,hv,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kh="analytics",N4="firebase_id",x4="origin",D4=60*1e3,O4="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",gv="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hn=new gd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M4={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Ln=new Hs("analytics","Analytics",M4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(n){if(!n.startsWith(gv)){const e=Ln.create("invalid-gtag-resource",{gtagURL:n});return hn.warn(e.message),""}return n}function T1(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function L4(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function k4(n,e){const t=L4("firebase-js-sdk-policy",{createScriptURL:V4}),i=document.createElement("script"),s=`${gv}?l=${n}&id=${e}`;i.src=t?t?.createScriptURL(s):s,i.async=!0,document.head.appendChild(i)}function P4(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function U4(n,e,t,i,s,l){const c=i[s];try{if(c)await e[c];else{const p=(await T1(t)).find(g=>g.measurementId===s);p&&await e[p.appId]}}catch(d){hn.error(d)}n("config",s,l)}async function j4(n,e,t,i,s){try{let l=[];if(s&&s.send_to){let c=s.send_to;Array.isArray(c)||(c=[c]);const d=await T1(t);for(const p of c){const g=d.find(_=>_.measurementId===p),v=g&&e[g.appId];if(v)l.push(v);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),n("event",i,s||{})}catch(l){hn.error(l)}}function z4(n,e,t,i){async function s(l,...c){try{if(l==="event"){const[d,p]=c;await j4(n,e,t,d,p)}else if(l==="config"){const[d,p]=c;await U4(n,e,t,i,d,p)}else if(l==="consent"){const[d,p]=c;n("consent",d,p)}else if(l==="get"){const[d,p,g]=c;n("get",d,p,g)}else if(l==="set"){const[d]=c;n("set",d)}else n(l,...c)}catch(d){hn.error(d)}}return s}function B4(n,e,t,i,s){let l=function(...c){window[i].push(arguments)};return window[s]&&typeof window[s]=="function"&&(l=window[s]),window[s]=z4(l,n,e,t),{gtagCore:l,wrappedGtag:window[s]}}function F4(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(gv)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $4=30,H4=1e3;class q4{constructor(e={},t=H4){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const w1=new q4;function G4(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function K4(n){const{appId:e,apiKey:t}=n,i={method:"GET",headers:G4(t)},s=O4.replace("{app-id}",e),l=await fetch(s,i);if(l.status!==200&&l.status!==304){let c="";try{const d=await l.json();d.error?.message&&(c=d.error.message)}catch{}throw Ln.create("config-fetch-failed",{httpStatus:l.status,responseMessage:c})}return l.json()}async function Y4(n,e=w1,t){const{appId:i,apiKey:s,measurementId:l}=n.options;if(!i)throw Ln.create("no-app-id");if(!s){if(l)return{measurementId:l,appId:i};throw Ln.create("no-api-key")}const c=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new W4;return setTimeout(async()=>{d.abort()},D4),S1({appId:i,apiKey:s,measurementId:l},c,d,e)}async function S1(n,{throttleEndTimeMillis:e,backoffCount:t},i,s=w1){const{appId:l,measurementId:c}=n;try{await Q4(i,e)}catch(d){if(c)return hn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:l,measurementId:c};throw d}try{const d=await K4(n);return s.deleteThrottleMetadata(l),d}catch(d){const p=d;if(!X4(p)){if(s.deleteThrottleMetadata(l),c)return hn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${p?.message}]`),{appId:l,measurementId:c};throw d}const g=Number(p?.customData?.httpStatus)===503?zw(t,s.intervalMillis,$4):zw(t,s.intervalMillis),v={throttleEndTimeMillis:Date.now()+g,backoffCount:t+1};return s.setThrottleMetadata(l,v),hn.debug(`Calling attemptFetch again in ${g} millis`),S1(n,v,i,s)}}function Q4(n,e){return new Promise((t,i)=>{const s=Math.max(e-Date.now(),0),l=setTimeout(t,s);n.addEventListener(()=>{clearTimeout(l),i(Ln.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function X4(n){if(!(n instanceof Rr)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class W4{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function J4(n,e,t,i,s){if(s&&s.global){n("event",t,i);return}else{const l=await e,c={...i,send_to:l};n("event",t,c)}}async function Z4(n,e,t,i){if(i&&i.global){const s={};for(const l of Object.keys(t))s[`user_properties.${l}`]=t[l];return n("set",s),Promise.resolve()}else{const s=await e;n("config",s,{update:!0,user_properties:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eU(){if(vA())try{await _A()}catch(n){return hn.warn(Ln.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}else return hn.warn(Ln.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function tU(n,e,t,i,s,l,c){const d=Y4(n);d.then(S=>{t[S.measurementId]=S.appId,n.options.measurementId&&S.measurementId!==n.options.measurementId&&hn.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${S.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(S=>hn.error(S)),e.push(d);const p=eU().then(S=>{if(S)return i.getId()}),[g,v]=await Promise.all([d,p]);F4(l)||k4(l,g.measurementId),s("js",new Date);const _=c?.config??{};return _[x4]="firebase",_.update=!0,v!=null&&(_[N4]=v),s("config",g.measurementId,_),g.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e){this.app=e}_delete(){return delete Qo[this.app.options.appId],Promise.resolve()}}let Qo={},X0=[];const W0={};let yg="dataLayer",rU="gtag",J0,yv,Z0=!1;function iU(){const n=[];if(yA()&&n.push("This is a browser extension environment."),rM()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,s)=>`(${s+1}) ${i}`).join(" "),t=Ln.create("invalid-analytics-context",{errorInfo:e});hn.warn(t.message)}}function aU(n,e,t){iU();const i=n.options.appId;if(!i)throw Ln.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)hn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Ln.create("no-api-key");if(Qo[i]!=null)throw Ln.create("already-exists",{id:i});if(!Z0){P4(yg);const{wrappedGtag:l,gtagCore:c}=B4(Qo,X0,W0,yg,rU);yv=l,J0=c,Z0=!0}return Qo[i]=tU(n,X0,W0,e,J0,yg,t),new nU(n)}function sU(n=Dy()){n=jt(n);const e=qs(n,Kh);return e.isInitialized()?e.getImmediate():oU(n)}function oU(n,e={}){const t=qs(n,Kh);if(t.isInitialized()){const s=t.getImmediate();if(Ua(e,t.getOptions()))return s;throw Ln.create("already-initialized")}return t.initialize({options:e})}function lU(n,e,t){n=jt(n),Z4(yv,Qo[n.app.options.appId],e,t).catch(i=>hn.error(i))}function uU(n,e,t,i){n=jt(n),J4(yv,Qo[n.app.options.appId],e,t,i).catch(s=>hn.error(s))}const eS="@firebase/analytics",tS="0.10.19";function cU(){ni(new wr(Kh,(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return aU(i,s,t)},"PUBLIC")),ni(new wr("analytics-internal",n,"PRIVATE")),Zn(eS,tS),Zn(eS,tS,"esm2020");function n(e){try{const t=e.getProvider(Kh).getImmediate();return{logEvent:(i,s,l)=>uU(t,i,s,l),setUserProperties:(i,s)=>lU(t,i,s)}}catch(t){throw Ln.create("interop-component-reg-failed",{reason:t})}}}cU();function b1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fU=b1,A1=new Hs("auth","Firebase",b1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh=new gd("@firebase/auth");function hU(n,...e){Yh.logLevel<=je.WARN&&Yh.warn(`Auth (${dl}): ${n}`,...e)}function wh(n,...e){Yh.logLevel<=je.ERROR&&Yh.error(`Auth (${dl}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(n,...e){throw _v(n,...e)}function Er(n,...e){return _v(n,...e)}function vv(n,e,t){const i={...fU(),[e]:t};return new Hs("auth","Firebase",i).create(e,{appName:n.name})}function ki(n){return vv(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dU(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&nr(n,"argument-error"),vv(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _v(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return A1.create(n,...e)}function we(n,e,...t){if(!n)throw _v(e,...t)}function xi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw wh(e),new Error(e)}function Hi(n,e){n||xi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zg(){return typeof self<"u"&&self.location?.href||""}function mU(){return nS()==="http:"||nS()==="https:"}function nS(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mU()||yA()||"connection"in navigator)?navigator.onLine:!0}function gU(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Hi(t>e,"Short delay should be less than long delay!"),this.isMobile=WO()||eM()}get(){return pU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(n,e){Hi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],_U=new Tc(3e4,6e4);function Ya(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Qa(n,e,t,i,s={}){return C1(n,s,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=hc({key:n.config.apiKey,...c}).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const g={method:e,headers:p,...l};return ZO()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&hl(n.emulatorConfig.host)&&(g.credentials="include"),R1.fetch()(await I1(n,n.config.apiHost,t,d),g)})}async function C1(n,e,t){n._canInitEmulator=!1;const i={...yU,...e};try{const s=new TU(n),l=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw fh(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw fh(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw fh(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw fh(n,"user-disabled",c);const v=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw vv(n,v,g);nr(n,v)}}catch(s){if(s instanceof Rr)throw s;nr(n,"network-request-failed",{message:String(s)})}}async function wc(n,e,t,i,s={}){const l=await Qa(n,e,t,i,s);return"mfaPendingCredential"in l&&nr(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function I1(n,e,t,i){const s=`${e}${t}?${i}`,l=n,c=l.config.emulator?Ev(n.config,s):`${n.config.apiScheme}://${s}`;return vU.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function EU(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class TU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Er(this.auth,"network-request-failed")),_U.get())})}}function fh(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const s=Er(n,e,i);return s.customData._tokenResponse=t,s}function rS(n){return n!==void 0&&n.enterprise!==void 0}class wU{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return EU(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function SU(n,e){return Qa(n,"GET","/v2/recaptchaConfig",Ya(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bU(n,e){return Qa(n,"POST","/v1/accounts:delete",e)}async function Qh(n,e){return Qa(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function AU(n,e=!1){const t=jt(n),i=await t.getIdToken(e),s=Tv(i);we(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const l=typeof s.firebase=="object"?s.firebase:void 0,c=l?.sign_in_provider;return{claims:s,token:i,authTime:Bu(vg(s.auth_time)),issuedAtTime:Bu(vg(s.iat)),expirationTime:Bu(vg(s.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function vg(n){return Number(n)*1e3}function Tv(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return wh("JWT malformed, contained fewer than 3 sections"),null;try{const s=fA(t);return s?JSON.parse(s):(wh("Failed to decode base64 JWT payload"),null)}catch(s){return wh("Caught error parsing JWT payload as JSON",s?.toString()),null}}function iS(n){const e=Tv(n);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tc(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Rr&&RU(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function RU({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bu(this.lastLoginAt),this.creationTime=Bu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xh(n){const e=n.auth,t=await n.getIdToken(),i=await tc(n,Qh(e,{idToken:t}));we(i?.users.length,e,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const l=s.providerUserInfo?.length?N1(s.providerUserInfo):[],c=NU(n.providerData,l),d=n.isAnonymous,p=!(n.email&&s.passwordHash)&&!c?.length,g=d?p:!1,v={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new ey(s.createdAt,s.lastLoginAt),isAnonymous:g};Object.assign(n,v)}async function IU(n){const e=jt(n);await Xh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function NU(n,e){return[...n.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function N1(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xU(n,e){const t=await C1(n,{},async()=>{const i=hc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:l}=n.config,c=await I1(n,s,"/v1/token",`key=${l}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:d,body:i};return n.emulatorConfig&&hl(n.emulatorConfig.host)&&(p.credentials="include"),R1.fetch()(c,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function DU(n,e){return Qa(n,"POST","/v2/accounts:revokeToken",Ya(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):iS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){we(e.length!==0,"internal-error");const t=iS(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:s,expiresIn:l}=await xU(e,t);this.updateTokensAndExpiration(i,s,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:s,expirationTime:l}=t,c=new Xo;return i&&(we(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),s&&(we(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),l&&(we(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xo,this.toJSON())}_performRefresh(){return xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aa(n,e){we(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class _r{constructor({uid:e,auth:t,stsTokenManager:i,...s}){this.providerId="firebase",this.proactiveRefresh=new CU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ey(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await tc(this,this.stsTokenManager.getToken(this.auth,e));return we(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return AU(this,e)}reload(){return IU(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new _r({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Xh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mn(this.auth.app))return Promise.reject(ki(this.auth));const e=await this.getIdToken();return await tc(this,bU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,s=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,d=t.tenantId??void 0,p=t._redirectEventId??void 0,g=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:_,emailVerified:S,isAnonymous:I,providerData:O,stsTokenManager:k}=t;we(_&&k,e,"internal-error");const C=Xo.fromJSON(this.name,k);we(typeof _=="string",e,"internal-error"),Aa(i,e.name),Aa(s,e.name),we(typeof S=="boolean",e,"internal-error"),we(typeof I=="boolean",e,"internal-error"),Aa(l,e.name),Aa(c,e.name),Aa(d,e.name),Aa(p,e.name),Aa(g,e.name),Aa(v,e.name);const z=new _r({uid:_,auth:e,email:s,emailVerified:S,displayName:i,isAnonymous:I,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:C,createdAt:g,lastLoginAt:v});return O&&Array.isArray(O)&&(z.providerData=O.map($=>({...$}))),p&&(z._redirectEventId=p),z}static async _fromIdTokenResponse(e,t,i=!1){const s=new Xo;s.updateFromServerResponse(t);const l=new _r({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Xh(l),l}static async _fromGetAccountInfoResponse(e,t,i){const s=t.users[0];we(s.localId!==void 0,"internal-error");const l=s.providerUserInfo!==void 0?N1(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!l?.length,d=new Xo;d.updateFromIdToken(i);const p=new _r({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new ey(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!l?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS=new Map;function Di(n){Hi(n instanceof Function,"Expected a class definition");let e=aS.get(n);return e?(Hi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,aS.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}x1.type="NONE";const sS=x1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(n,e,t){return`firebase:${n}:${e}:${t}`}class Wo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:s,name:l}=this.auth;this.fullUserKey=Sh(this.userKey,s.apiKey,l),this.fullPersistenceKey=Sh("persistence",s.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Qh(this.auth,{idToken:e}).catch(()=>{});return t?_r._fromGetAccountInfoResponse(this.auth,t,e):null}return _r._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Wo(Di(sS),e,i);const s=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=s[0]||Di(sS);const c=Sh(i,e.config.apiKey,e.name);let d=null;for(const g of t)try{const v=await g._get(c);if(v){let _;if(typeof v=="string"){const S=await Qh(e,{idToken:v}).catch(()=>{});if(!S)break;_=await _r._fromGetAccountInfoResponse(e,S,v)}else _=_r._fromJSON(e,v);g!==l&&(d=_),l=g;break}}catch{}const p=s.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Wo(l,e,i):(l=p[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new Wo(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(V1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(D1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(k1(e))return"Blackberry";if(P1(e))return"Webos";if(O1(e))return"Safari";if((e.includes("chrome/")||M1(e))&&!e.includes("edge/"))return"Chrome";if(L1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if(i?.length===2)return i[1]}return"Other"}function D1(n=un()){return/firefox\//i.test(n)}function O1(n=un()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function M1(n=un()){return/crios\//i.test(n)}function V1(n=un()){return/iemobile/i.test(n)}function L1(n=un()){return/android/i.test(n)}function k1(n=un()){return/blackberry/i.test(n)}function P1(n=un()){return/webos/i.test(n)}function wv(n=un()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function OU(n=un()){return wv(n)&&!!window.navigator?.standalone}function MU(){return tM()&&document.documentMode===10}function U1(n=un()){return wv(n)||L1(n)||P1(n)||k1(n)||/windows phone/i.test(n)||V1(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(n,e=[]){let t;switch(n){case"Browser":t=oS(un());break;case"Worker":t=`${oS(un())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${dl}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,d)=>{try{const p=e(l);c(p)}catch(p){d(p)}});i.onAbort=t,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LU(n,e={}){return Qa(n,"GET","/v2/passwordPolicy",Ya(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kU=6;class PU{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??kU,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,s,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(e,t,i,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lS(this),this.idTokenSubscription=new lS(this),this.beforeStateQueue=new VU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=A1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Di(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Wo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Qh(this,{idToken:e}),i=await _r._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Mn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=i?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(i=d.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Xh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mn(this.app))return Promise.reject(ki(this));const t=e?jt(e):null;return t&&we(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mn(this.app)?Promise.reject(ki(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mn(this.app)?Promise.reject(ki(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Di(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await LU(this),t=new PU(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Hs("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await DU(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Di(e)||this._popupRedirectResolver;we(t,this,"argument-error"),this.redirectPersistenceManager=await Wo.create(this,[Di(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,s){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,s);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=j1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(Mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&hU(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Xa(n){return jt(n)}class lS{constructor(e){this.auth=e,this.observer=null,this.addObserver=lM(t=>this.observer=t)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jU(n){zd=n}function z1(n){return zd.loadJS(n)}function zU(){return zd.recaptchaEnterpriseScript}function BU(){return zd.gapiScript}function FU(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class $U{constructor(){this.enterprise=new HU}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class HU{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const qU="recaptcha-enterprise",B1="NO_RECAPTCHA";class GU{constructor(e){this.type=qU,this.auth=Xa(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{SU(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new wU(p);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(p=>{d(p)})})}function s(l,c,d){const p=window.grecaptcha;rS(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(B1)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new $U().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(d=>{if(!t&&rS(window.grecaptcha))s(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=zU();p.length!==0&&(p+=d),z1(p).then(()=>{s(d,l,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function uS(n,e,t,i=!1,s=!1){const l=new GU(n);let c;if(s)c=B1;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function ty(n,e,t,i,s){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await uS(n,e,t,t==="getOobCode");return i(n,l)}else return i(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await uS(n,e,t,t==="getOobCode");return i(n,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KU(n,e){const t=qs(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),l=t.getOptions();if(Ua(l,e??{}))return s;nr(s,"already-initialized")}return t.initialize({options:e})}function YU(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Di);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}function QU(n,e,t){const i=Xa(n);we(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,l=F1(e),{host:c,port:d}=XU(e),p=d===null?"":`:${d}`,g={url:`${l}//${c}${p}/`},v=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!i._canInitEmulator){we(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),we(Ua(g,i.config.emulator)&&Ua(v,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=v,i.settings.appVerificationDisabledForTesting=!0,hl(c)?(pA(`${l}//${c}${p}`),gA("Auth",!0)):WU()}function F1(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function XU(n){const e=F1(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const l=s[1];return{host:l,port:cS(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:cS(c)}}}function cS(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function WU(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return xi("not implemented")}_getIdTokenResponse(e){return xi("not implemented")}_linkToIdToken(e,t){return xi("not implemented")}_getReauthenticationResolver(e){return xi("not implemented")}}async function JU(n,e){return Qa(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZU(n,e){return wc(n,"POST","/v1/accounts:signInWithPassword",Ya(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e3(n,e){return wc(n,"POST","/v1/accounts:signInWithEmailLink",Ya(n,e))}async function t3(n,e){return wc(n,"POST","/v1/accounts:signInWithEmailLink",Ya(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc extends Sv{constructor(e,t,i,s=null){super("password",i),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new nc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new nc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ty(e,t,"signInWithPassword",ZU);case"emailLink":return e3(e,{email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ty(e,i,"signUpPassword",JU);case"emailLink":return t3(e,{idToken:t,email:this._email,oobCode:this._password});default:nr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jo(n,e){return wc(n,"POST","/v1/accounts:signInWithIdp",Ya(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3="http://localhost";class Us extends Sv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Us(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):nr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s,...l}=t;if(!i||!s)return null;const c=new Us(i,s);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Jo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Jo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Jo(e,t)}buildRequest(){const e={requestUri:n3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=hc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function i3(n){const e=Du(Ou(n)).link,t=e?Du(Ou(e)).deep_link_id:null,i=Du(Ou(n)).deep_link_id;return(i?Du(Ou(i)).link:null)||i||t||e||n}class bv{constructor(e){const t=Du(Ou(e)),i=t.apiKey??null,s=t.oobCode??null,l=r3(t.mode??null);we(i&&s&&l,"argument-error"),this.apiKey=i,this.operation=l,this.code=s,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=i3(e);try{return new bv(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(){this.providerId=wl.PROVIDER_ID}static credential(e,t){return nc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=bv.parseLink(t);return we(i,"argument-error"),nc._fromEmailAndCode(e,i.code,i.tenantId)}}wl.PROVIDER_ID="password";wl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc extends Av{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia extends Sc{constructor(){super("facebook.com")}static credential(e){return Us._fromParams({providerId:Ia.PROVIDER_ID,signInMethod:Ia.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ia.credentialFromTaggedObject(e)}static credentialFromError(e){return Ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ia.credential(e.oauthAccessToken)}catch{return null}}}Ia.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ia.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii extends Sc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Us._fromParams({providerId:Ii.PROVIDER_ID,signInMethod:Ii.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ii.credentialFromTaggedObject(e)}static credentialFromError(e){return Ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Ii.credential(t,i)}catch{return null}}}Ii.GOOGLE_SIGN_IN_METHOD="google.com";Ii.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na extends Sc{constructor(){super("github.com")}static credential(e){return Us._fromParams({providerId:Na.PROVIDER_ID,signInMethod:Na.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Na.credentialFromTaggedObject(e)}static credentialFromError(e){return Na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Na.credential(e.oauthAccessToken)}catch{return null}}}Na.GITHUB_SIGN_IN_METHOD="github.com";Na.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa extends Sc{constructor(){super("twitter.com")}static credential(e,t){return Us._fromParams({providerId:xa.PROVIDER_ID,signInMethod:xa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return xa.credentialFromTaggedObject(e)}static credentialFromError(e){return xa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return xa.credential(t,i)}catch{return null}}}xa.TWITTER_SIGN_IN_METHOD="twitter.com";xa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a3(n,e){return wc(n,"POST","/v1/accounts:signUp",Ya(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,s=!1){const l=await _r._fromIdTokenResponse(e,i,s),c=fS(i);return new js({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const s=fS(i);return new js({user:e,providerId:s,_tokenResponse:i,operationType:t})}}function fS(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh extends Rr{constructor(e,t,i,s){super(t.code,t.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Wh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,s){return new Wh(e,t,i,s)}}function $1(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Wh._fromErrorAndOperation(n,l,e,i):l})}async function s3(n,e,t=!1){const i=await tc(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return js._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o3(n,e,t=!1){const{auth:i}=n;if(Mn(i.app))return Promise.reject(ki(i));const s="reauthenticate";try{const l=await tc(n,$1(i,s,e,n),t);we(l.idToken,i,"internal-error");const c=Tv(l.idToken);we(c,i,"internal-error");const{sub:d}=c;return we(n.uid===d,i,"user-mismatch"),js._forOperation(n,s,l)}catch(l){throw l?.code==="auth/user-not-found"&&nr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H1(n,e,t=!1){if(Mn(n.app))return Promise.reject(ki(n));const i="signIn",s=await $1(n,i,e),l=await js._fromIdTokenResponse(n,i,s);return t||await n._updateCurrentUser(l.user),l}async function l3(n,e){return H1(Xa(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q1(n){const e=Xa(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function u3(n,e,t){if(Mn(n.app))return Promise.reject(ki(n));const i=Xa(n),c=await ty(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",a3).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&q1(n),p}),d=await js._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(d.user),d}function c3(n,e,t){return Mn(n.app)?Promise.reject(ki(n)):l3(jt(n),wl.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&q1(n),i})}function f3(n,e,t,i){return jt(n).onIdTokenChanged(e,t,i)}function h3(n,e,t){return jt(n).beforeAuthStateChanged(e,t)}function d3(n,e,t,i){return jt(n).onAuthStateChanged(e,t,i)}const Jh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Jh,"1"),this.storage.removeItem(Jh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3=1e3,p3=10;class K1 extends G1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=U1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),s=this.localCache[t];i!==s&&e(t,s,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);MU()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,p3):s()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},m3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}K1.type="LOCAL";const g3=K1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1 extends G1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Y1.type="SESSION";const Q1=Y1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y3(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const i=new Bd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:s,data:l}=t.data,c=this.handlersMap[s];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const d=Array.from(c).map(async g=>g(t.origin,l)),p=await y3(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let l,c;return new Promise((d,p)=>{const g=Rv("",20);s.port1.start();const v=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:s,onMessage(_){const S=_;if(S.data.eventId===g)switch(S.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(S.data.response);break;default:clearTimeout(v),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(){return window}function _3(n){ti().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(){return typeof ti().WorkerGlobalScope<"u"&&typeof ti().importScripts=="function"}async function E3(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function T3(){return navigator?.serviceWorker?.controller||null}function w3(){return X1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1="firebaseLocalStorageDb",S3=1,Zh="firebaseLocalStorage",J1="fbase_key";class bc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Fd(n,e){return n.transaction([Zh],e?"readwrite":"readonly").objectStore(Zh)}function b3(){const n=indexedDB.deleteDatabase(W1);return new bc(n).toPromise()}function ny(){const n=indexedDB.open(W1,S3);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Zh,{keyPath:J1})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Zh)?e(i):(i.close(),await b3(),e(await ny()))})})}async function hS(n,e,t){const i=Fd(n,!0).put({[J1]:e,value:t});return new bc(i).toPromise()}async function A3(n,e){const t=Fd(n,!1).get(e),i=await new bc(t).toPromise();return i===void 0?null:i.value}function dS(n,e){const t=Fd(n,!0).delete(e);return new bc(t).toPromise()}const R3=800,C3=3;class Z1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ny(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>C3)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return X1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bd._getInstance(w3()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await E3(),!this.activeServiceWorker)return;this.sender=new v3(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||T3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ny();return await hS(e,Jh,"1"),await dS(e,Jh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>hS(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>A3(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>dS(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const l=Fd(s,!1).getAll();return new bc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:l}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(l)&&(this.notifyListeners(s,l),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),R3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Z1.type="LOCAL";const I3=Z1;new Tc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(n,e){return e?Di(e):(we(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv extends Sv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Jo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Jo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Jo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function N3(n){return H1(n.auth,new Cv(n),n.bypassAuthState)}function x3(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),o3(t,new Cv(n),n.bypassAuthState)}async function D3(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),s3(t,new Cv(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,t,i,s,l=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:s,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return N3;case"linkViaPopup":case"linkViaRedirect":return D3;case"reauthViaPopup":case"reauthViaRedirect":return x3;default:nr(this.auth,"internal-error")}}resolve(e){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3=new Tc(2e3,1e4);async function M3(n,e,t){if(Mn(n.app))return Promise.reject(Er(n,"operation-not-supported-in-this-environment"));const i=Xa(n);dU(n,e,Av);const s=eC(i,t);return new Os(i,"signInViaPopup",e,s).executeNotNull()}class Os extends tC{constructor(e,t,i,s,l){super(e,t,s,l),this.provider=i,this.authWindow=null,this.pollId=null,Os.currentPopupAction&&Os.currentPopupAction.cancel(),Os.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){Hi(this.filter.length===1,"Popup operations only handle one event");const e=Rv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Er(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Er(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Os.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Er(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,O3.get())};e()}}Os.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V3="pendingRedirect",bh=new Map;class L3 extends tC{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=bh.get(this.auth._key());if(!e){try{const i=await k3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}bh.set(this.auth._key(),e)}return this.bypassAuthState||bh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function k3(n,e){const t=j3(e),i=U3(n);if(!await i._isAvailable())return!1;const s=await i._get(t)==="true";return await i._remove(t),s}function P3(n,e){bh.set(n._key(),e)}function U3(n){return Di(n._redirectPersistence)}function j3(n){return Sh(V3,n.config.apiKey,n.name)}async function z3(n,e,t=!1){if(Mn(n.app))return Promise.reject(ki(n));const i=Xa(n),s=eC(i,e),c=await new L3(i,s,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B3=600*1e3;class F3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$3(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!nC(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Er(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=B3&&this.cachedEventUids.clear(),this.cachedEventUids.has(mS(e))}saveEventToCache(e){this.cachedEventUids.add(mS(e)),this.lastProcessedEventTime=Date.now()}}function mS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function nC({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function $3(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nC(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H3(n,e={}){return Qa(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,G3=/^https?/;async function K3(n){if(n.config.emulator)return;const{authorizedDomains:e}=await H3(n);for(const t of e)try{if(Y3(t))return}catch{}nr(n,"unauthorized-domain")}function Y3(n){const e=Zg(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!G3.test(t))return!1;if(q3.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3=new Tc(3e4,6e4);function pS(){const n=ti().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function X3(n){return new Promise((e,t)=>{function i(){pS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pS(),t(Er(n,"network-request-failed"))},timeout:Q3.get()})}if(ti().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(ti().gapi?.load)i();else{const s=FU("iframefcb");return ti()[s]=()=>{gapi.load?i():t(Er(n,"network-request-failed"))},z1(`${BU()}?onload=${s}`).catch(l=>t(l))}}).catch(e=>{throw Ah=null,e})}let Ah=null;function W3(n){return Ah=Ah||X3(n),Ah}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J3=new Tc(5e3,15e3),Z3="__/auth/iframe",e6="emulator/auth/iframe",t6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},n6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function r6(n){const e=n.config;we(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Ev(e,e6):`https://${n.config.authDomain}/${Z3}`,i={apiKey:e.apiKey,appName:n.name,v:dl},s=n6.get(n.config.apiHost);s&&(i.eid=s);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${hc(i).slice(1)}`}async function i6(n){const e=await W3(n),t=ti().gapi;return we(t,n,"internal-error"),e.open({where:document.body,url:r6(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:t6,dontclear:!0},i=>new Promise(async(s,l)=>{await i.restyle({setHideOnLeave:!1});const c=Er(n,"network-request-failed"),d=ti().setTimeout(()=>{l(c)},J3.get());function p(){ti().clearTimeout(d),s(i)}i.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},s6=500,o6=600,l6="_blank",u6="http://localhost";class gS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function c6(n,e,t,i=s6,s=o6){const l=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p={...a6,width:i.toString(),height:s.toString(),top:l,left:c},g=un().toLowerCase();t&&(d=M1(g)?l6:t),D1(g)&&(e=e||u6,p.scrollbars="yes");const v=Object.entries(p).reduce((S,[I,O])=>`${S}${I}=${O},`,"");if(OU(g)&&d!=="_self")return f6(e||"",d),new gS(null);const _=window.open(e||"",d,v);we(_,n,"popup-blocked");try{_.focus()}catch{}return new gS(_)}function f6(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6="__/auth/handler",d6="emulator/auth/handler",m6=encodeURIComponent("fac");async function yS(n,e,t,i,s,l){we(n.config.authDomain,n,"auth-domain-config-required"),we(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:dl,eventId:s};if(e instanceof Av){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",oM(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,_]of Object.entries({}))c[v]=_}if(e instanceof Sc){const v=e.getScopes().filter(_=>_!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const p=await n._getAppCheckToken(),g=p?`#${m6}=${encodeURIComponent(p)}`:"";return`${p6(n)}?${hc(d).slice(1)}${g}`}function p6({config:n}){return n.emulator?Ev(n,d6):`https://${n.authDomain}/${h6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g="webStorageSupport";class g6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Q1,this._completeRedirectFn=z3,this._overrideRedirectResult=P3}async _openPopup(e,t,i,s){Hi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await yS(e,t,i,Zg(),s);return c6(e,l,Rv())}async _openRedirect(e,t,i,s){await this._originValidation(e);const l=await yS(e,t,i,Zg(),s);return _3(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:l}=this.eventManagers[t];return s?Promise.resolve(s):(Hi(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await i6(e),i=new F3(e);return t.register("authEvent",s=>(we(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(_g,{type:_g},s=>{const l=s?.[0]?.[_g];l!==void 0&&t(!!l),nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=K3(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return U1()||O1()||wv()}}const y6=g6;var vS="@firebase/auth",_S="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _6(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function E6(n){ni(new wr("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;we(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:j1(n)},g=new UU(i,s,l,p);return YU(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),ni(new wr("auth-internal",e=>{const t=Xa(e.getProvider("auth").getImmediate());return(i=>new v6(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zn(vS,_S,_6(n)),Zn(vS,_S,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T6=300,w6=mA("authIdTokenMaxAge")||T6;let ES=null;const S6=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>w6)return;const s=t?.token;ES!==s&&(ES=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function b6(n=Dy()){const e=qs(n,"auth");if(e.isInitialized())return e.getImmediate();const t=KU(n,{popupRedirectResolver:y6,persistence:[I3,g3,Q1]}),i=mA("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=S6(l.toString());h3(t,c,()=>c(t.currentUser)),f3(t,d=>c(d))}}const s=hA("auth");return s&&QU(t,`http://${s}`),t}function A6(){return document.getElementsByTagName("head")?.[0]??document}jU({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=s=>{const l=Er("internal-error");l.customData=s,t(l)},i.type="text/javascript",i.charset="UTF-8",A6().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});E6("Browser");const R6={apiKey:"AIzaSyDzRx2G7EVUCtxKQkGvNmc2M27zIi_-fww",authDomain:"riffrate-70f6a.firebaseapp.com",projectId:"riffrate-70f6a",storageBucket:"riffrate-70f6a.firebasestorage.app",messagingSenderId:"458853345328",appId:"1:458853345328:web:4b184d57868ccbe3b3a5f5",measurementId:"G-KJ60Q034EX"},Iv=SA(R6);sU(Iv);const Wa=b6(Iv),br=bP(Iv);async function C6({bandName:n=null,venueName:e=null,title:t,content:i,rating:s=0,poster:l="Anonymous"}){const c=Wa.currentUser;return(await BP(Ys(br,"reviews"),{bandName:n,venueName:e,title:t,content:i,rating:s,poster:l,userUid:c?.uid||null,created:n1()})).id}async function rC(n=10){const e=El(Ys(br,"reviews"),kd("created","desc"),LP(n));return(await Tl(e)).docs.map(i=>{const s=i.data();return{id:i.id,...s,created:s.created&&s.created.toDate?s.created.toDate():s.created}})}async function I6(n){const e=El(Ys(br,"reviews"),Ec("bandName","==",n),kd("created","desc"));return(await Tl(e)).docs.map(i=>{const s=i.data();return{id:i.id,...s,created:s.created&&s.created.toDate?s.created.toDate():s.created}})}async function N6(n){const e=El(Ys(br,"reviews"),Ec("venueName","==",n),kd("created","desc"));return(await Tl(e)).docs.map(i=>{const s=i.data();return{id:i.id,...s,created:s.created&&s.created.toDate?s.created.toDate():s.created}})}async function x6(n){const e=El(Ys(br,"reviews"),Ec("userUid","==",n),kd("created","desc"));return(await Tl(e)).docs.map(i=>{const s=i.data();return{id:i.id,...s,created:s.created&&s.created.toDate?s.created.toDate():s.created}})}async function Nv(n){const e=Wa.currentUser;if(!e)throw new Error("Must be logged in to delete reviews");const t=await Tl(El(Ys(br,"reviews"),Ec("__name__","==",n)));if(!t.empty&&t.docs[0].data().userUid!==e.uid)throw new Error("You can only delete your own reviews");return await zP(vc(br,"reviews",n))}async function D6(n,e){const t=Wa.currentUser;if(!t)throw new Error("Must be logged in to update reviews");const i=await Tl(El(Ys(br,"reviews"),Ec("__name__","==",n)));if(!i.empty&&i.docs[0].data().userUid!==t.uid)throw new Error("You can only edit your own reviews");const s={content:e.content,rating:e.rating,updated:n1()};return await jP(vc(br,"reviews",n),s)}const iC=w.createContext(null);function Sl(){const n=w.useContext(iC);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n}function O6({children:n}){const[e,t]=w.useState(null),[i,s]=w.useState(!1),[l,c]=w.useState(!0);w.useEffect(()=>d3(Wa,d),[]);async function d(g){g?(t({...g}),s(!0),sessionStorage.setItem("username",g.email||g.displayName||"User")):(t(null),s(!1),sessionStorage.removeItem("username")),c(!1)}const p={currentUser:e,userLoggedIn:i,loading:l,setCurrentUser:t,setUserLoggedIn:s};return A.jsx(iC.Provider,{value:p,children:!l&&n})}function M6(){const n=ol(),{userLoggedIn:e,currentUser:t}=Sl(),[i,s]=w.useState("band"),[l,c]=w.useState(""),[d,p]=w.useState(""),[g,v]=w.useState(0),[_,S]=w.useState(""),[I,O]=w.useState("");if(!e)return A.jsx("div",{style:{padding:"1rem",textAlign:"center"},children:A.jsxs(Oa,{variant:"warning",children:[A.jsx("h4",{children:"Please log in to write a review"}),A.jsx(mt,{type:"button",variant:"primary",onClick:()=>n("/UserLogin"),children:"Go to Login"})]})});const k=async()=>{if(S(""),O(""),!l.trim()||!d.trim()||g===0){S("Please fill out all fields and choose a rating.");return}try{await C6({bandName:i==="band"?l:null,venueName:i==="venue"?l:null,title:`${i==="band"?"Band":"Venue"} Review`,content:d,rating:g,poster:t?.email||t?.displayName||sessionStorage.getItem("username")||"Anonymous"}),O("Review submitted! Thanks  your review is live."),c(""),p(""),v(0)}catch(C){console.error(C),S("Something went wrong while submitting your review.")}};return A.jsxs("div",{style:{padding:"1rem"},children:[A.jsx("h1",{children:"Write Your Review"}),A.jsx("hr",{}),I&&A.jsx(Oa,{variant:"success",children:I}),_&&A.jsx(Oa,{variant:"danger",children:_}),A.jsx("h4",{children:"Review Type"}),A.jsxs(JS,{className:"mb-3",children:[A.jsx(Ig,{id:"band-option",type:"radio",variant:"outline-primary",checked:i==="band",value:"band",onClick:()=>s("band"),children:"Band"}),A.jsx(Ig,{id:"venue-option",type:"radio",variant:"outline-primary",checked:i==="venue",value:"venue",onClick:()=>s("venue"),children:"Venue"})]}),A.jsxs(He.Group,{className:"mb-3",children:[A.jsx(He.Label,{htmlFor:"typeOfReview",children:i==="band"?"Band Name":"Venue Name"}),A.jsx(He.Control,{id:"typeOfReview",placeholder:`Enter ${i} name`,value:l,onChange:C=>c(C.target.value)})]}),A.jsxs(He.Group,{className:"mb-3",children:[A.jsx(He.Label,{htmlFor:"yourReview",children:"Your Review"}),A.jsx(He.Control,{id:"yourReview",as:"textarea",rows:4,placeholder:"Write your review...",value:d,onChange:C=>p(C.target.value)})]}),A.jsx("h5",{children:"Rating"}),A.jsx("div",{className:"mb-3",children:[1,2,3,4,5].map(C=>A.jsx(mt,{type:"button",variant:g>=C?"warning":"outline-secondary",onClick:()=>v(C),style:{marginRight:"0.3rem"},children:""},C))}),A.jsxs("div",{className:"mt-3",children:[A.jsx(mt,{type:"submit",variant:"secondary",onClick:()=>{c(""),p(""),v(0),S(""),O("")},children:"Cancel"})," ",A.jsx(mt,{type:"submit",variant:"success",onClick:k,children:"Submit Review"})]})]})}function xv(n){const{currentUser:e}=Sl(),[t,i]=w.useState(!1),[s,l]=w.useState(n.content),[c,d]=w.useState(n.rating||0),p=n.created;let g;p?p.toDate?g=p.toDate():g=new Date(p):g=new Date;const v=e&&(n.userUid===e.uid||!n.userUid&&n.poster===(e.email||e.displayName)),_=()=>{n.onUpdate&&n.onUpdate(n.id,{content:s,rating:c}),i(!1)};return A.jsxs(A.Fragment,{children:[A.jsxs(od,{style:{margin:"0.5rem",padding:"0.5rem",width:"100%"},children:[A.jsx("h1",{children:n.bandName||n.venueName}),A.jsxs("sub",{children:["Posted on ",g.toLocaleDateString()," at ",g.toLocaleTimeString()]}),A.jsx("br",{}),A.jsx("i",{children:n.poster}),n.rating>0&&A.jsxs("div",{style:{color:"#ffc107",fontSize:"1.2rem"},children:["".repeat(n.rating),"".repeat(5-n.rating)]}),A.jsx("p",{children:n.content}),v&&A.jsxs("div",{className:"d-flex gap-2",children:[A.jsx(mt,{type:"button",variant:"primary",size:"sm",onClick:()=>i(!0),children:"Edit"}),A.jsx(mt,{type:"button",variant:"danger",size:"sm",onClick:()=>n.onDelete(n.id),children:"Delete"})]})]}),A.jsxs(Iu,{show:t,onHide:()=>i(!1),children:[A.jsx(Iu.Header,{closeButton:!0,children:A.jsx(Iu.Title,{children:"Edit Review"})}),A.jsxs(Iu.Body,{children:[A.jsxs(He.Group,{className:"mb-3",children:[A.jsx(He.Label,{htmlFor:"editReview",children:"Review"}),A.jsx(He.Control,{type:"editReview",as:"textarea",rows:4,value:s,onChange:S=>l(S.target.value)})]}),A.jsx(He.Label,{children:"Rating"}),A.jsx("div",{className:"mb-3",children:[1,2,3,4,5].map(S=>A.jsx(mt,{type:"button",variant:c>=S?"warning":"outline-secondary",onClick:()=>d(S),style:{marginRight:"0.3rem"},children:""},S))})]}),A.jsxs(Iu.Footer,{children:[A.jsx(mt,{type:"submit",variant:"secondary",onClick:()=>i(!1),children:"Cancel"}),A.jsx(mt,{type:"submit",variant:"primary",onClick:_,children:"Save Changes"})]})]})]})}function V6(){const n=dd(),[e,t]=w.useState(""),[i,s]=w.useState([]),[l,c]=w.useState(null),[d,p]=w.useState(1),g=10;w.useEffect(()=>{async function C(){const z=await rC(10);s(z.filter($=>$.bandName))}C()},[]);const v=async()=>{if(!e.trim())return;const C=await I6(e);if(s(C),C.length>0){const z=C.reduce(($,Y)=>$+(Y.rating||0),0)/C.length;c(z.toFixed(2))}else c(null);p(1)},_=async C=>{await Nv(C),s(z=>z.filter($=>$.id!==C))},S=d*g,I=S-g,O=i.slice(I,S),k=Math.ceil(i.length/g);return A.jsxs("div",{style:{padding:"1rem"},children:[A.jsx("h1",{children:"Band Reviews"}),A.jsx(mt,{type:"button",variant:"success",onClick:()=>n("/ReviewPage"),className:"mb-3",children:"Write a Review"}),A.jsx("p",{children:"Search for bands below!"}),A.jsx("hr",{}),A.jsxs(He,{children:[A.jsx(He.Label,{htmlFor:"searchBandName",children:"Band name"}),A.jsx(He.Control,{id:"searchBandName",value:e,onChange:C=>t(C.target.value)}),A.jsx("br",{}),A.jsx(mt,{variant:"primary",onClick:v,children:"Search"})]}),l&&A.jsxs("h3",{style:{marginTop:"1rem"},children:['Average Rating for "',e,'": ',l]}),A.jsx(Fs,{fluid:!0,children:A.jsx(Hu,{children:O.map(C=>A.jsx(Ci,{md:4,children:A.jsx(xv,{id:C.id,title:C.title,content:C.content,poster:C.poster,created:C.created,rating:C.rating,userUid:C.userUid,bandName:C.bandName,onDelete:()=>_(C.id)})},C.id))})}),k>1&&A.jsx(Dh,{className:"mt-3",children:[...Array(k)].map((C,z)=>A.jsx(Dh.Item,{active:z+1===d,onClick:()=>p(z+1),children:z+1},z+1))})]})}function L6(){const n=dd(),[e,t]=w.useState(""),[i,s]=w.useState([]),[l,c]=w.useState(null),[d,p]=w.useState(1),g=10;w.useEffect(()=>{async function C(){const z=await rC(10);s(z.filter($=>$.venueName))}C()},[]);const v=async()=>{if(!e.trim())return;const C=await N6(e);if(s(C),C.length>0){const z=C.reduce(($,Y)=>$+(Y.rating||0),0)/C.length;c(z.toFixed(2))}else c(null);p(1)},_=async C=>{await Nv(C),s(z=>z.filter($=>$.id!==C))},S=d*g,I=S-g,O=i.slice(I,S),k=Math.ceil(i.length/g);return A.jsxs("div",{style:{padding:"1rem"},children:[A.jsx("h1",{children:"Venue Reviews"}),A.jsx(mt,{type:"button",variant:"success",onClick:()=>n("/ReviewPage"),className:"mb-3",children:"Write a Review"}),A.jsx("p",{children:"Search for venues below!"}),A.jsx("hr",{}),A.jsxs(He,{children:[A.jsx(He.Label,{htmlFor:"searchVenueName",children:"Venue name"}),A.jsx(He.Control,{id:"searchVenueName",value:e,onChange:C=>t(C.target.value)}),A.jsx("br",{}),A.jsx(mt,{variant:"primary",onClick:v,children:"Search"})]}),l&&A.jsxs("h3",{style:{marginTop:"1rem"},children:['Average Rating for "',e,'": ',l]}),A.jsx(Fs,{fluid:!0,children:A.jsx(Hu,{children:O.map(C=>A.jsx(Ci,{md:4,children:A.jsx(xv,{id:C.id,title:C.title,content:C.content,poster:C.poster,created:C.created,rating:C.rating,userUid:C.userUid,venueName:C.venueName,onDelete:()=>_(C.id)})},C.id))})}),k>1&&A.jsx(Dh,{className:"mt-3",children:[...Array(k)].map((C,z)=>A.jsx(Dh.Item,{active:z+1===d,onClick:()=>p(z+1),children:z+1},z+1))})]})}const k6=async(n,e)=>{const t=await u3(Wa,n,e),i=t.user,s=vc(br,"users",i.uid);return await t1(s,{uid:i.uid,email:i.email,displayName:i.displayName||null,photoURL:i.photoURL||null,providerId:"password",createdAt:new Date().toISOString()}),t},P6=(n,e)=>c3(Wa,n,e),aC=async()=>{const n=new Ii,e=await M3(Wa,n),t=e.user,i=vc(br,"users",t.uid);return await t1(i,{uid:t.uid,displayName:t.displayName,email:t.email,photoURL:t.photoURL,providerId:t.providerData[0].providerId,createdAt:new Date().toISOString()}),e},U6=()=>Wa.signOut();function j6(){const n=ol(),{userLoggedIn:e}=Sl(),[t,i]=w.useState(""),[s,l]=w.useState(""),[c,d]=w.useState(""),[p,g]=w.useState(!1);if(e)return n("/"),null;const v=async S=>{if(S.preventDefault(),d(""),!t||!s){d("Please enter both email and password.");return}if(!p){g(!0);try{await P6(t,s),n("/")}catch(I){console.error(I),I.code==="auth/user-not-found"?d("No account found with this email."):I.code==="auth/wrong-password"?d("Incorrect password."):I.code==="auth/invalid-email"?d("Invalid email address."):I.code==="auth/invalid-credential"?d("Invalid email or password."):d("Login failed. Please try again."),g(!1)}}},_=async S=>{if(S.preventDefault(),d(""),!p){g(!0);try{await aC(),n("/")}catch(I){console.error(I),d("Google sign-in failed. Please try again."),g(!1)}}};return A.jsx(Fs,{className:"d-flex justify-content-center align-items-center",style:{minHeight:"70vh"},children:A.jsxs(od,{style:{width:"100%",maxWidth:"500px",padding:"2rem"},children:[A.jsx("h1",{className:"text-center mb-4",children:"Login"}),c&&A.jsx(Oa,{variant:"danger",children:c}),A.jsxs(He,{onSubmit:v,children:[A.jsxs(He.Group,{className:"mb-3",children:[A.jsx(He.Label,{htmlFor:"emailInput",children:"Email:"}),A.jsx(He.Control,{id:"emailInput",type:"email",placeholder:"Enter your email",value:t,onChange:S=>i(S.target.value),disabled:p})]}),A.jsxs(He.Group,{className:"mb-3",children:[A.jsx(He.Label,{htmlFor:"passwordInput",children:"Password:"}),A.jsx(He.Control,{id:"passwordInput",type:"password",placeholder:"Enter your password",value:s,onChange:S=>l(S.target.value),disabled:p})]}),A.jsxs("div",{className:"d-grid gap-2",children:[A.jsx(mt,{type:"submit",variant:"primary",disabled:p,children:p?"Signing In...":"Login"}),A.jsx(mt,{variant:"outline-danger",onClick:_,disabled:p,children:p?"Signing In...":"Sign In with Google"})]})]}),A.jsx("div",{className:"text-center mt-4",children:A.jsx(Xr,{to:"/UserRegister",children:A.jsx(mt,{variant:"outline-dark",children:"Don't have an account? Sign Up"})})})]})})}function z6(){const n=ol(),{userLoggedIn:e}=Sl(),[t,i]=w.useState(""),[s,l]=w.useState(""),[c,d]=w.useState(""),[p,g]=w.useState(""),[v,_]=w.useState(!1);if(e)return n("/"),null;const S=async O=>{if(O.preventDefault(),g(""),!t||!s||!c){g("Please fill out all fields.");return}if(s!==c){g("Passwords do not match.");return}if(s.length<6){g("Password must be at least 6 characters long.");return}if(!v){_(!0);try{await k6(t,s),n("/")}catch(k){console.error(k),k.code==="auth/email-already-in-use"?g("An account with this email already exists."):k.code==="auth/invalid-email"?g("Invalid email address."):k.code==="auth/weak-password"?g("Password is too weak. Please use a stronger password."):g("Registration failed. Please try again."),_(!1)}}},I=async O=>{if(O.preventDefault(),g(""),!v){_(!0);try{await aC(),n("/")}catch(k){console.error(k),g("Google sign-in failed. Please try again."),_(!1)}}};return A.jsx(Fs,{className:"d-flex justify-content-center align-items-center",style:{minHeight:"70vh"},children:A.jsxs(od,{style:{width:"100%",maxWidth:"500px",padding:"2rem"},children:[A.jsx("h1",{className:"text-center mb-4",children:"Sign Up"}),p&&A.jsx(Oa,{variant:"danger",children:p}),A.jsxs(He,{onSubmit:S,children:[A.jsxs(He.Group,{className:"mb-3",children:[A.jsx(He.Label,{htmlFor:"emailInput",children:"Email:"}),A.jsx(He.Control,{id:"emailInput",type:"email",placeholder:"Enter your email",value:t,onChange:O=>i(O.target.value),disabled:v})]}),A.jsxs(He.Group,{className:"mb-3",children:[A.jsx(He.Label,{htmlFor:"passwordInput",children:"Password:"}),A.jsx(He.Control,{id:"passwordInput",type:"password",placeholder:"Enter password (min 6 characters)",value:s,onChange:O=>l(O.target.value),disabled:v})]}),A.jsxs(He.Group,{className:"mb-3",children:[A.jsx(He.Label,{htmlFor:"confPasswordInput",children:"Confirm Password:"}),A.jsx(He.Control,{id:"confPasswordInput",type:"password",placeholder:"Confirm your password",value:c,onChange:O=>d(O.target.value),disabled:v})]}),A.jsxs("div",{className:"d-grid gap-2",children:[A.jsx(mt,{type:"submit",variant:"primary",disabled:v,children:v?"Creating Account...":"Sign Up"}),A.jsx(mt,{variant:"outline-danger",onClick:I,disabled:v,children:v?"Signing In...":"Sign Up with Google"})]})]}),A.jsx("div",{className:"text-center mt-4",children:A.jsx(Xr,{to:"/UserLogin",children:A.jsx(mt,{variant:"outline-dark",children:"Already have an account? Login"})})})]})})}function B6(){const{currentUser:n,userLoggedIn:e}=Sl(),t=ol(),[i,s]=w.useState([]),[l,c]=w.useState(!0),[d,p]=w.useState("");if(w.useEffect(()=>{if(!e)return;async function O(){try{c(!0);const k=await x6(n.uid);s(k)}catch(k){console.error(k),p("Failed to load your reviews")}finally{c(!1)}}O()},[n,e]),!e)return A.jsx("div",{style:{padding:"1rem",textAlign:"center"},children:A.jsxs(Oa,{variant:"warning",children:[A.jsx("h4",{children:"Please log in to view your profile"}),A.jsx("button",{className:"btn btn-primary",onClick:()=>t("/UserLogin"),children:"Go to Login"})]})});const g=async O=>{if(confirm("Are you sure you want to delete this review?"))try{await Nv(O),s(k=>k.filter(C=>C.id!==O))}catch(k){console.error(k),alert("Failed to delete review: "+k.message)}},v=async(O,k)=>{try{await D6(O,k),s(C=>C.map(z=>z.id===O?{...z,...k}:z))}catch(C){console.error(C),alert("Failed to update review: "+C.message)}},_=i.filter(O=>O.bandName),S=i.filter(O=>O.venueName),I=i.length>0?(i.reduce((O,k)=>O+(k.rating||0),0)/i.length).toFixed(1):0;return A.jsxs(Fs,{style:{padding:"1rem",marginTop:"80px"},children:[A.jsx("h1",{children:"My Profile"}),A.jsx("hr",{}),A.jsxs(od,{className:"mb-4",style:{padding:"1rem"},children:[A.jsxs("h3",{children:[" ",n?.displayName||n?.email||"User"]}),A.jsx("p",{className:"text-muted",children:n?.email}),A.jsxs(Hu,{className:"mt-3",children:[A.jsxs(Ci,{md:3,children:[A.jsx("strong",{children:i.length}),A.jsx("div",{className:"text-muted",children:"Total Reviews"})]}),A.jsxs(Ci,{md:3,children:[A.jsx("strong",{children:_.length}),A.jsx("div",{className:"text-muted",children:"Band Reviews"})]}),A.jsxs(Ci,{md:3,children:[A.jsx("strong",{children:S.length}),A.jsx("div",{className:"text-muted",children:"Venue Reviews"})]}),A.jsxs(Ci,{md:3,children:[A.jsxs("strong",{children:[I," "]}),A.jsx("div",{className:"text-muted",children:"Avg Rating"})]})]})]}),d&&A.jsx(Oa,{variant:"danger",children:d}),A.jsx("h2",{className:"mb-3",children:"My Reviews"}),l?A.jsxs("div",{className:"text-center p-5",children:[A.jsx(Gb,{animation:"border"}),A.jsx("p",{children:"Loading your reviews..."})]}):i.length===0?A.jsxs(Oa,{variant:"info",children:[A.jsx("h4",{children:"No reviews yet!"}),A.jsx("p",{children:"Start by reviewing your favorite bands or venues."}),A.jsx("button",{className:"btn btn-primary",onClick:()=>t("/ReviewPage"),children:"Write Your First Review"})]}):A.jsx(Hu,{children:i.map(O=>A.jsx(Ci,{md:6,lg:4,children:A.jsx(xv,{...O,onDelete:g,onUpdate:v})},O.id))})]})}function F6(){const{userLoggedIn:n}=Sl(),e=ol(),t=async()=>{try{await U6(),e("/")}catch(i){console.error("Logout failed:",i)}};return A.jsx("div",{children:A.jsx(rh,{bg:"white",variant:"light",expand:"md",fixed:"top",children:A.jsxs(Fs,{children:[A.jsx(rh.Brand,{as:Xr,to:"/",style:$6,children:"Riffrate"}),A.jsx(rh.Toggle,{"aria-controls":"main-nav"}),A.jsx(rh.Collapse,{id:"main-nav",children:A.jsxs(Cs,{className:"ms-auto",children:[A.jsx(Cs.Link,{as:Xr,to:"/",style:zo,children:"Home"}),A.jsx(Cs.Link,{as:Xr,to:"/ReviewByBand",style:zo,children:"Band Reviews"}),A.jsx(Cs.Link,{as:Xr,to:"/ReviewByVenue",style:zo,children:"Venue Reviews"}),n?A.jsxs(A.Fragment,{children:[A.jsx(Cs.Link,{as:Xr,to:"/UserProfile",style:zo,children:"Your Reviews"}),A.jsx(Cs.Link,{onClick:t,style:{...zo,cursor:"pointer"},children:"Log out"})]}):A.jsx(Cs.Link,{as:Xr,to:"/UserLogin",style:zo,children:"Log in"})]})})]})})})}const $6={fontWeight:"bold",fontSize:"50px",color:"#DD0426"},zo={fontSize:"24px",padding:"10px 20px",color:"#333"};function H6(){return A.jsx(O6,{children:A.jsxs(ix,{children:[A.jsx(F6,{}),A.jsxs(LN,{children:[A.jsx(Ra,{path:"/",element:A.jsx(PO,{})}),A.jsx(Ra,{path:"/ReviewPage",element:A.jsx(M6,{})}),A.jsx(Ra,{path:"/ReviewByBand",element:A.jsx(V6,{})}),A.jsx(Ra,{path:"/ReviewByVenue",element:A.jsx(L6,{})}),A.jsx(Ra,{path:"/UserLogin",element:A.jsx(j6,{})}),A.jsx(Ra,{path:"/UserRegister",element:A.jsx(z6,{})}),A.jsx(Ra,{path:"/UserProfile",element:A.jsx(B6,{})})]})]})})}HI.createRoot(document.getElementById("root")).render(A.jsx(CO,{children:A.jsx(H6,{})}));
