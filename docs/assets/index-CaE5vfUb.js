(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function Qh(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Sm={exports:{}},Bl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fE;function xw(){if(fE)return Bl;fE=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Bl.Fragment=t,Bl.jsx=n,Bl.jsxs=n,Bl}var dE;function Mw(){return dE||(dE=1,Sm.exports=xw()),Sm.exports}var L=Mw(),Am={exports:{}},ql={},bm={exports:{}},wm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mE;function Vw(){return mE||(mE=1,(function(r){function t(Q,rt){var ut=Q.length;Q.push(rt);t:for(;0<ut;){var Ot=ut-1>>>1,qt=Q[Ot];if(0<o(qt,rt))Q[Ot]=rt,Q[ut]=qt,ut=Ot;else break t}}function n(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var rt=Q[0],ut=Q.pop();if(ut!==rt){Q[0]=ut;t:for(var Ot=0,qt=Q.length,x=qt>>>1;Ot<x;){var X=2*(Ot+1)-1,st=Q[X],ot=X+1,_t=Q[ot];if(0>o(st,ut))ot<qt&&0>o(_t,st)?(Q[Ot]=_t,Q[ot]=ut,Ot=ot):(Q[Ot]=st,Q[X]=ut,Ot=X);else if(ot<qt&&0>o(_t,ut))Q[Ot]=_t,Q[ot]=ut,Ot=ot;else break t}}return rt}function o(Q,rt){var ut=Q.sortIndex-rt.sortIndex;return ut!==0?ut:Q.id-rt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var p=[],g=[],E=1,T=null,w=3,k=!1,H=!1,F=!1,P=!1,W=typeof setTimeout=="function"?setTimeout:null,et=typeof clearTimeout=="function"?clearTimeout:null,it=typeof setImmediate<"u"?setImmediate:null;function ht(Q){for(var rt=n(g);rt!==null;){if(rt.callback===null)s(g);else if(rt.startTime<=Q)s(g),rt.sortIndex=rt.expirationTime,t(p,rt);else break;rt=n(g)}}function pt(Q){if(F=!1,ht(Q),!H)if(n(p)!==null)H=!0,lt||(lt=!0,z());else{var rt=n(g);rt!==null&&he(pt,rt.startTime-Q)}}var lt=!1,C=-1,R=5,I=-1;function V(){return P?!0:!(r.unstable_now()-I<R)}function O(){if(P=!1,lt){var Q=r.unstable_now();I=Q;var rt=!0;try{t:{H=!1,F&&(F=!1,et(C),C=-1),k=!0;var ut=w;try{e:{for(ht(Q),T=n(p);T!==null&&!(T.expirationTime>Q&&V());){var Ot=T.callback;if(typeof Ot=="function"){T.callback=null,w=T.priorityLevel;var qt=Ot(T.expirationTime<=Q);if(Q=r.unstable_now(),typeof qt=="function"){T.callback=qt,ht(Q),rt=!0;break e}T===n(p)&&s(p),ht(Q)}else s(p);T=n(p)}if(T!==null)rt=!0;else{var x=n(g);x!==null&&he(pt,x.startTime-Q),rt=!1}}break t}finally{T=null,w=ut,k=!1}rt=void 0}}finally{rt?z():lt=!1}}}var z;if(typeof it=="function")z=function(){it(O)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Qt=N.port2;N.port1.onmessage=O,z=function(){Qt.postMessage(null)}}else z=function(){W(O,0)};function he(Q,rt){C=W(function(){Q(r.unstable_now())},rt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(Q){switch(w){case 1:case 2:case 3:var rt=3;break;default:rt=w}var ut=w;w=rt;try{return Q()}finally{w=ut}},r.unstable_requestPaint=function(){P=!0},r.unstable_runWithPriority=function(Q,rt){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ut=w;w=Q;try{return rt()}finally{w=ut}},r.unstable_scheduleCallback=function(Q,rt,ut){var Ot=r.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?Ot+ut:Ot):ut=Ot,Q){case 1:var qt=-1;break;case 2:qt=250;break;case 5:qt=1073741823;break;case 4:qt=1e4;break;default:qt=5e3}return qt=ut+qt,Q={id:E++,callback:rt,priorityLevel:Q,startTime:ut,expirationTime:qt,sortIndex:-1},ut>Ot?(Q.sortIndex=ut,t(g,Q),n(p)===null&&Q===n(g)&&(F?(et(C),C=-1):F=!0,he(pt,ut-Ot))):(Q.sortIndex=qt,t(p,Q),H||k||(H=!0,lt||(lt=!0,z()))),Q},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(Q){var rt=w;return function(){var ut=w;w=rt;try{return Q.apply(this,arguments)}finally{w=ut}}}})(wm)),wm}var pE;function Lw(){return pE||(pE=1,bm.exports=Vw()),bm.exports}var Rm={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gE;function kw(){if(gE)return bt;gE=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),w=Symbol.iterator;function k(x){return x===null||typeof x!="object"?null:(x=w&&x[w]||x["@@iterator"],typeof x=="function"?x:null)}var H={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,P={};function W(x,X,st){this.props=x,this.context=X,this.refs=P,this.updater=st||H}W.prototype.isReactComponent={},W.prototype.setState=function(x,X){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,X,"setState")},W.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function et(){}et.prototype=W.prototype;function it(x,X,st){this.props=x,this.context=X,this.refs=P,this.updater=st||H}var ht=it.prototype=new et;ht.constructor=it,F(ht,W.prototype),ht.isPureReactComponent=!0;var pt=Array.isArray;function lt(){}var C={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function I(x,X,st){var ot=st.ref;return{$$typeof:r,type:x,key:X,ref:ot!==void 0?ot:null,props:st}}function V(x,X){return I(x.type,X,x.props)}function O(x){return typeof x=="object"&&x!==null&&x.$$typeof===r}function z(x){var X={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(st){return X[st]})}var N=/\/+/g;function Qt(x,X){return typeof x=="object"&&x!==null&&x.key!=null?z(""+x.key):X.toString(36)}function he(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(lt,lt):(x.status="pending",x.then(function(X){x.status==="pending"&&(x.status="fulfilled",x.value=X)},function(X){x.status==="pending"&&(x.status="rejected",x.reason=X)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function Q(x,X,st,ot,_t){var Rt=typeof x;(Rt==="undefined"||Rt==="boolean")&&(x=null);var Vt=!1;if(x===null)Vt=!0;else switch(Rt){case"bigint":case"string":case"number":Vt=!0;break;case"object":switch(x.$$typeof){case r:case t:Vt=!0;break;case E:return Vt=x._init,Q(Vt(x._payload),X,st,ot,_t)}}if(Vt)return _t=_t(x),Vt=ot===""?"."+Qt(x,0):ot,pt(_t)?(st="",Vt!=null&&(st=Vt.replace(N,"$&/")+"/"),Q(_t,X,st,"",function(jn){return jn})):_t!=null&&(O(_t)&&(_t=V(_t,st+(_t.key==null||x&&x.key===_t.key?"":(""+_t.key).replace(N,"$&/")+"/")+Vt)),X.push(_t)),1;Vt=0;var ge=ot===""?".":ot+":";if(pt(x))for(var Wt=0;Wt<x.length;Wt++)ot=x[Wt],Rt=ge+Qt(ot,Wt),Vt+=Q(ot,X,st,Rt,_t);else if(Wt=k(x),typeof Wt=="function")for(x=Wt.call(x),Wt=0;!(ot=x.next()).done;)ot=ot.value,Rt=ge+Qt(ot,Wt++),Vt+=Q(ot,X,st,Rt,_t);else if(Rt==="object"){if(typeof x.then=="function")return Q(he(x),X,st,ot,_t);throw X=String(x),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Vt}function rt(x,X,st){if(x==null)return x;var ot=[],_t=0;return Q(x,ot,"","",function(Rt){return X.call(st,Rt,_t++)}),ot}function ut(x){if(x._status===-1){var X=x._result;X=X(),X.then(function(st){(x._status===0||x._status===-1)&&(x._status=1,x._result=st)},function(st){(x._status===0||x._status===-1)&&(x._status=2,x._result=st)}),x._status===-1&&(x._status=0,x._result=X)}if(x._status===1)return x._result.default;throw x._result}var Ot=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},qt={map:rt,forEach:function(x,X,st){rt(x,function(){X.apply(this,arguments)},st)},count:function(x){var X=0;return rt(x,function(){X++}),X},toArray:function(x){return rt(x,function(X){return X})||[]},only:function(x){if(!O(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return bt.Activity=T,bt.Children=qt,bt.Component=W,bt.Fragment=n,bt.Profiler=o,bt.PureComponent=it,bt.StrictMode=s,bt.Suspense=p,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,bt.__COMPILER_RUNTIME={__proto__:null,c:function(x){return C.H.useMemoCache(x)}},bt.cache=function(x){return function(){return x.apply(null,arguments)}},bt.cacheSignal=function(){return null},bt.cloneElement=function(x,X,st){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var ot=F({},x.props),_t=x.key;if(X!=null)for(Rt in X.key!==void 0&&(_t=""+X.key),X)!R.call(X,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&X.ref===void 0||(ot[Rt]=X[Rt]);var Rt=arguments.length-2;if(Rt===1)ot.children=st;else if(1<Rt){for(var Vt=Array(Rt),ge=0;ge<Rt;ge++)Vt[ge]=arguments[ge+2];ot.children=Vt}return I(x.type,_t,ot)},bt.createContext=function(x){return x={$$typeof:h,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},bt.createElement=function(x,X,st){var ot,_t={},Rt=null;if(X!=null)for(ot in X.key!==void 0&&(Rt=""+X.key),X)R.call(X,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(_t[ot]=X[ot]);var Vt=arguments.length-2;if(Vt===1)_t.children=st;else if(1<Vt){for(var ge=Array(Vt),Wt=0;Wt<Vt;Wt++)ge[Wt]=arguments[Wt+2];_t.children=ge}if(x&&x.defaultProps)for(ot in Vt=x.defaultProps,Vt)_t[ot]===void 0&&(_t[ot]=Vt[ot]);return I(x,Rt,_t)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(x){return{$$typeof:m,render:x}},bt.isValidElement=O,bt.lazy=function(x){return{$$typeof:E,_payload:{_status:-1,_result:x},_init:ut}},bt.memo=function(x,X){return{$$typeof:g,type:x,compare:X===void 0?null:X}},bt.startTransition=function(x){var X=C.T,st={};C.T=st;try{var ot=x(),_t=C.S;_t!==null&&_t(st,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(lt,Ot)}catch(Rt){Ot(Rt)}finally{X!==null&&st.types!==null&&(X.types=st.types),C.T=X}},bt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},bt.use=function(x){return C.H.use(x)},bt.useActionState=function(x,X,st){return C.H.useActionState(x,X,st)},bt.useCallback=function(x,X){return C.H.useCallback(x,X)},bt.useContext=function(x){return C.H.useContext(x)},bt.useDebugValue=function(){},bt.useDeferredValue=function(x,X){return C.H.useDeferredValue(x,X)},bt.useEffect=function(x,X){return C.H.useEffect(x,X)},bt.useEffectEvent=function(x){return C.H.useEffectEvent(x)},bt.useId=function(){return C.H.useId()},bt.useImperativeHandle=function(x,X,st){return C.H.useImperativeHandle(x,X,st)},bt.useInsertionEffect=function(x,X){return C.H.useInsertionEffect(x,X)},bt.useLayoutEffect=function(x,X){return C.H.useLayoutEffect(x,X)},bt.useMemo=function(x,X){return C.H.useMemo(x,X)},bt.useOptimistic=function(x,X){return C.H.useOptimistic(x,X)},bt.useReducer=function(x,X,st){return C.H.useReducer(x,X,st)},bt.useRef=function(x){return C.H.useRef(x)},bt.useState=function(x){return C.H.useState(x)},bt.useSyncExternalStore=function(x,X,st){return C.H.useSyncExternalStore(x,X,st)},bt.useTransition=function(){return C.H.useTransition()},bt.version="19.2.0",bt}var yE;function Np(){return yE||(yE=1,Rm.exports=kw()),Rm.exports}var Cm={exports:{}},Je={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _E;function Uw(){if(_E)return Je;_E=1;var r=Np();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Je.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return u(p,g,null,E)},Je.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},Je.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Je.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Je.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,k=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:k}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:w,fetchPriority:k,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Je.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Je.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Je.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Je.requestFormReset=function(p){s.d.r(p)},Je.unstable_batchedUpdates=function(p,g){return p(g)},Je.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},Je.useFormStatus=function(){return h.H.useHostTransitionStatus()},Je.version="19.2.0",Je}var vE;function _0(){if(vE)return Cm.exports;vE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Cm.exports=Uw(),Cm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EE;function Pw(){if(EE)return ql;EE=1;var r=Lw(),t=Np(),n=_0();function s(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function h(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function m(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(s(188))}function g(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(s(188));return i!==e?null:e}for(var a=e,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return p(f),e;if(d===l)return p(f),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,S=f.child;S;){if(S===a){_=!0,a=f,l=d;break}if(S===l){_=!0,l=f,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=f;break}if(S===l){_=!0,l=d,a=f;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:i}function E(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=E(e),i!==null)return i;e=e.sibling}return null}var T=Object.assign,w=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),H=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),et=Symbol.for("react.consumer"),it=Symbol.for("react.context"),ht=Symbol.for("react.forward_ref"),pt=Symbol.for("react.suspense"),lt=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function z(e){return e===null||typeof e!="object"?null:(e=O&&e[O]||e["@@iterator"],typeof e=="function"?e:null)}var N=Symbol.for("react.client.reference");function Qt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===N?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case F:return"Fragment";case W:return"Profiler";case P:return"StrictMode";case pt:return"Suspense";case lt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case H:return"Portal";case it:return e.displayName||"Context";case et:return(e._context.displayName||"Context")+".Consumer";case ht:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return i=e.displayName||null,i!==null?i:Qt(e.type)||"Memo";case R:i=e._payload,e=e._init;try{return Qt(e(i))}catch{}}return null}var he=Array.isArray,Q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},Ot=[],qt=-1;function x(e){return{current:e}}function X(e){0>qt||(e.current=Ot[qt],Ot[qt]=null,qt--)}function st(e,i){qt++,Ot[qt]=e.current,e.current=i}var ot=x(null),_t=x(null),Rt=x(null),Vt=x(null);function ge(e,i){switch(st(Rt,i),st(_t,e),st(ot,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Lv(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Lv(i),e=kv(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(ot),st(ot,e)}function Wt(){X(ot),X(_t),X(Rt)}function jn(e){e.memoizedState!==null&&st(Vt,e);var i=ot.current,a=kv(i,e.type);i!==a&&(st(_t,e),st(ot,a))}function wr(e){_t.current===e&&(X(ot),X(_t)),Vt.current===e&&(X(Vt),Ul._currentValue=ut)}var Pi,si;function nn(e){if(Pi===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Pi=i&&i[1]||"",si=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pi+e+si}var ie=!1;function ai(e,i){if(!e||ie)return"";ie=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(K){var G=K}Reflect.construct(e,[],Z)}else{try{Z.call()}catch(K){G=K}e.call(Z.prototype)}}else{try{throw Error()}catch(K){G=K}(Z=e())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(K){if(K&&G&&typeof K.stack=="string")return[K.stack,G.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var D=_.split(`
`),q=S.split(`
`);for(f=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;if(l===D.length||f===q.length)for(l=D.length-1,f=q.length-1;1<=l&&0<=f&&D[l]!==q[f];)f--;for(;1<=l&&0<=f;l--,f--)if(D[l]!==q[f]){if(l!==1||f!==1)do if(l--,f--,0>f||D[l]!==q[f]){var Y=`
`+D[l].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=l&&0<=f);break}}}finally{ie=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?nn(a):""}function zi(e,i){switch(e.tag){case 26:case 27:case 5:return nn(e.type);case 16:return nn("Lazy");case 13:return e.child!==i&&i!==null?nn("Suspense Fallback"):nn("Suspense");case 19:return nn("SuspenseList");case 0:case 15:return ai(e.type,!1);case 11:return ai(e.type.render,!1);case 1:return ai(e.type,!0);case 31:return nn("Activity");default:return""}}function zo(e){try{var i="",a=null;do i+=zi(e,a),a=e,e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Se=Object.prototype.hasOwnProperty,Ve=r.unstable_scheduleCallback,Rr=r.unstable_cancelCallback,bf=r.unstable_shouldYield,Ru=r.unstable_requestPaint,rn=r.unstable_now,ws=r.unstable_getCurrentPriorityLevel,jo=r.unstable_ImmediatePriority,Bo=r.unstable_UserBlockingPriority,Cr=r.unstable_NormalPriority,wf=r.unstable_LowPriority,Cu=r.unstable_IdlePriority,Iu=r.log,Nu=r.unstable_setDisableYieldValue,Bn=null,qe=null;function Rn(e){if(typeof Iu=="function"&&Nu(e),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(Bn,e)}catch{}}var ye=Math.clz32?Math.clz32:Ou,Du=Math.log,ga=Math.LN2;function Ou(e){return e>>>=0,e===0?32:31-(Du(e)/ga|0)|0}var oi=256,Rs=262144,Ae=4194304;function li(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ui(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var f=0,d=e.suspendedLanes,_=e.pingedLanes;e=e.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?f=li(l):(_&=S,_!==0?f=li(_):a||(a=S&~e,a!==0&&(f=li(a))))):(S=l&~d,S!==0?f=li(S):_!==0?f=li(_):a||(a=l&~e,a!==0&&(f=li(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function qn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Rf(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xu(){var e=Ae;return Ae<<=1,(Ae&62914560)===0&&(Ae=4194304),e}function ci(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function Cs(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Cf(e,i,a,l,f,d){var _=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var S=e.entanglements,D=e.expirationTimes,q=e.hiddenUpdates;for(a=_&~a;0<a;){var Y=31-ye(a),Z=1<<Y;S[Y]=0,D[Y]=-1;var G=q[Y];if(G!==null)for(q[Y]=null,Y=0;Y<G.length;Y++){var K=G[Y];K!==null&&(K.lane&=-536870913)}a&=~Z}l!==0&&Is(e,l,0),d!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=d&~(_&~i))}function Is(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-ye(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function qo(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-ye(a),f=1<<l;f&i|e[l]&i&&(e[l]|=i),a&=~f}}function Ho(e,i){var a=i&-i;return a=(a&42)!==0?1:Ns(a),(a&(e.suspendedLanes|i))!==0?0:a}function Ns(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ji(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Mu(){var e=rt.p;return e!==0?e:(e=window.event,e===void 0?32:sE(e.type))}function Hn(e,i){var a=rt.p;try{return rt.p=e,i()}finally{rt.p=a}}var Fn=Math.random().toString(36).slice(2),be="__reactFiber$"+Fn,Ue="__reactProps$"+Fn,hi="__reactContainer$"+Fn,ya="__reactEvents$"+Fn,If="__reactListeners$"+Fn,Vu="__reactHandles$"+Fn,Lu="__reactResources$"+Fn,fi="__reactMarker$"+Fn;function _a(e){delete e[be],delete e[Ue],delete e[ya],delete e[If],delete e[Vu]}function di(e){var i=e[be];if(i)return i;for(var a=e.parentNode;a;){if(i=a[hi]||a[be]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=Hv(e);e!==null;){if(a=e[be])return a;e=Hv(e)}return i}e=a,a=e.parentNode}return null}function Cn(e){if(e=e[be]||e[hi]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function gn(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(s(33))}function mi(e){var i=e[Lu];return i||(i=e[Lu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function we(e){e[fi]=!0}var Fo=new Set,Go={};function pi(e,i){gi(e,i),gi(e+"Capture",i)}function gi(e,i){for(Go[e]=i,e=0;e<i.length;e++)Fo.add(i[e])}var $o=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ko={},Qo={};function ku(e){return Se.call(Qo,e)?!0:Se.call(Ko,e)?!1:$o.test(e)?Qo[e]=!0:(Ko[e]=!0,!1)}function va(e,i,a){if(ku(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function yn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function Re(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function Pe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ir(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Yo(e,i,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Yt(e){if(!e._valueTracker){var i=Ir(e)?"checked":"value";e._valueTracker=Yo(e,i,""+e[i])}}function Ds(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=Ir(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function yi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Os=/[\n"\\]/g;function ln(e){return e.replace(Os,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ea(e,i,a,l,f,d,_,S){e.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.type=_:e.removeAttribute("type"),i!=null?_==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Pe(i)):e.value!==""+Pe(i)&&(e.value=""+Pe(i)):_!=="submit"&&_!=="reset"||e.removeAttribute("value"),i!=null?Xo(e,_,Pe(i)):a!=null?Xo(e,_,Pe(a)):l!=null&&e.removeAttribute("value"),f==null&&d!=null&&(e.defaultChecked=!!d),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.name=""+Pe(S):e.removeAttribute("name")}function Uu(e,i,a,l,f,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Yt(e);return}a=a!=null?""+Pe(a):"",i=i!=null?""+Pe(i):a,S||i===e.value||(e.value=i),e.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=S?e.checked:!!l,e.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(e.name=_),Yt(e)}function Xo(e,i,a){i==="number"&&yi(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Nr(e,i,a,l){if(e=e.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<e.length;a++)f=i.hasOwnProperty("$"+e[a].value),e[a].selected!==f&&(e[a].selected=f),f&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Pe(a),i=null,f=0;f<e.length;f++){if(e[f].value===a){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}i!==null||e[f].disabled||(i=e[f])}i!==null&&(i.selected=!0)}}function Pu(e,i,a){if(i!=null&&(i=""+Pe(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Pe(a):""}function Dr(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(he(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Pe(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Yt(e)}function un(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var zu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jo(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||zu.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Wo(e,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&Jo(e,f,l)}else for(var d in i)i.hasOwnProperty(d)&&Jo(e,d,i[d])}function Ta(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ju=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Or=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sa(e){return Or.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Gn(){}var Zo=null;function In(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xr=null,_i=null;function xs(e){var i=Cn(e);if(i&&(e=i.stateNode)){var a=e[Ue]||null;t:switch(e=i.stateNode,i.type){case"input":if(Ea(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ln(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var f=l[Ue]||null;if(!f)throw Error(s(90));Ea(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&Ds(l)}break t;case"textarea":Pu(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&Nr(e,!!a.multiple,i,!1)}}}var Aa=!1;function Mr(e,i,a){if(Aa)return e(i,a);Aa=!0;try{var l=e(i);return l}finally{if(Aa=!1,(xr!==null||_i!==null)&&(Mc(),xr&&(i=xr,e=_i,_i=xr=null,xs(i),e)))for(i=0;i<e.length;i++)xs(e[i])}}function $n(e,i){var a=e.stateNode;if(a===null)return null;var l=a[Ue]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ms=!1;if(Nn)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){Ms=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch{Ms=!1}var vi=null,tl=null,Vs=null;function el(){if(Vs)return Vs;var e,i=tl,a=i.length,l,f="value"in vi?vi.value:vi.textContent,d=f.length;for(e=0;e<a&&i[e]===f[e];e++);var _=a-e;for(l=1;l<=_&&i[a-l]===f[d-l];l++);return Vs=f.slice(e,1<l?1-l:void 0)}function Ls(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Bi(){return!0}function Kn(){return!1}function He(e){function i(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in e)e.hasOwnProperty(S)&&(a=e[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Bi:Kn,this.isPropagationStopped=Kn,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),i}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ei=He(qi),Vr=T({},qi,{view:0,detail:0}),nl=He(Vr),Lr,ba,Ti,wa=T({},Vr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kr,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ti&&(Ti&&e.type==="mousemove"?(Lr=e.screenX-Ti.screenX,ba=e.screenY-Ti.screenY):ba=Lr=0,Ti=e),Lr)},movementY:function(e){return"movementY"in e?e.movementY:ba}}),il=He(wa),ks=T({},wa,{dataTransfer:0}),Bu=He(ks),qu=T({},Vr,{relatedTarget:0}),Us=He(qu),rl=T({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),Hu=He(rl),Ra=T({},qi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fu=He(Ra),Gu=T({},qi,{data:0}),Si=He(Gu),$u={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ku={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yu(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Qu[e])?!!i[e]:!1}function kr(){return Yu}var sn=T({},Vr,{key:function(e){if(e.key){var i=$u[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Ls(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ku[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kr,charCode:function(e){return e.type==="keypress"?Ls(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ls(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Xu=He(sn),Ju=T({},wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hi=He(Ju),c=T({},Vr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kr}),y=He(c),v=T({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=He(v),j=T({},wa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$=He(j),at=T({},qi,{newState:0,oldState:0}),Ct=He(at),_e=[9,13,27,32],Gt=Nn&&"CompositionEvent"in window,ue=null;Nn&&"documentMode"in document&&(ue=document.documentMode);var Dn=Nn&&"TextEvent"in window&&!ue,Ai=Nn&&(!Gt||ue&&8<ue&&11>=ue),Qn=" ",Yn=!1;function Ps(e,i){switch(e){case"keyup":return _e.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ca(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ia=!1;function n1(e,i){switch(e){case"compositionend":return Ca(i);case"keypress":return i.which!==32?null:(Yn=!0,Qn);case"textInput":return e=i.data,e===Qn&&Yn?null:e;default:return null}}function i1(e,i){if(Ia)return e==="compositionend"||!Gt&&Ps(e,i)?(e=el(),Vs=tl=vi=null,Ia=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ai&&i.locale!=="ko"?null:i.data;default:return null}}var r1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $g(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!r1[e.type]:i==="textarea"}function Kg(e,i,a,l){xr?_i?_i.push(l):_i=[l]:xr=l,i=jc(i,"onChange"),0<i.length&&(a=new Ei("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var sl=null,al=null;function s1(e){Nv(e,0)}function Wu(e){var i=gn(e);if(Ds(i))return e}function Qg(e,i){if(e==="change")return i}var Yg=!1;if(Nn){var Nf;if(Nn){var Df="oninput"in document;if(!Df){var Xg=document.createElement("div");Xg.setAttribute("oninput","return;"),Df=typeof Xg.oninput=="function"}Nf=Df}else Nf=!1;Yg=Nf&&(!document.documentMode||9<document.documentMode)}function Jg(){sl&&(sl.detachEvent("onpropertychange",Wg),al=sl=null)}function Wg(e){if(e.propertyName==="value"&&Wu(al)){var i=[];Kg(i,al,e,In(e)),Mr(s1,i)}}function a1(e,i,a){e==="focusin"?(Jg(),sl=i,al=a,sl.attachEvent("onpropertychange",Wg)):e==="focusout"&&Jg()}function o1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Wu(al)}function l1(e,i){if(e==="click")return Wu(i)}function u1(e,i){if(e==="input"||e==="change")return Wu(i)}function c1(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var _n=typeof Object.is=="function"?Object.is:c1;function ol(e,i){if(_n(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Se.call(i,f)||!_n(e[f],i[f]))return!1}return!0}function Zg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ty(e,i){var a=Zg(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Zg(a)}}function ey(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?ey(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function ny(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=yi(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=yi(e.document)}return i}function Of(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var h1=Nn&&"documentMode"in document&&11>=document.documentMode,Na=null,xf=null,ll=null,Mf=!1;function iy(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Mf||Na==null||Na!==yi(l)||(l=Na,"selectionStart"in l&&Of(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ll&&ol(ll,l)||(ll=l,l=jc(xf,"onSelect"),0<l.length&&(i=new Ei("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=Na)))}function zs(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Da={animationend:zs("Animation","AnimationEnd"),animationiteration:zs("Animation","AnimationIteration"),animationstart:zs("Animation","AnimationStart"),transitionrun:zs("Transition","TransitionRun"),transitionstart:zs("Transition","TransitionStart"),transitioncancel:zs("Transition","TransitionCancel"),transitionend:zs("Transition","TransitionEnd")},Vf={},ry={};Nn&&(ry=document.createElement("div").style,"AnimationEvent"in window||(delete Da.animationend.animation,delete Da.animationiteration.animation,delete Da.animationstart.animation),"TransitionEvent"in window||delete Da.transitionend.transition);function js(e){if(Vf[e])return Vf[e];if(!Da[e])return e;var i=Da[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in ry)return Vf[e]=i[a];return e}var sy=js("animationend"),ay=js("animationiteration"),oy=js("animationstart"),f1=js("transitionrun"),d1=js("transitionstart"),m1=js("transitioncancel"),ly=js("transitionend"),uy=new Map,Lf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lf.push("scrollEnd");function Xn(e,i){uy.set(e,i),pi(i,[e])}var Zu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},On=[],Oa=0,kf=0;function tc(){for(var e=Oa,i=kf=Oa=0;i<e;){var a=On[i];On[i++]=null;var l=On[i];On[i++]=null;var f=On[i];On[i++]=null;var d=On[i];if(On[i++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&cy(a,f,d)}}function ec(e,i,a,l){On[Oa++]=e,On[Oa++]=i,On[Oa++]=a,On[Oa++]=l,kf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Uf(e,i,a,l){return ec(e,i,a,l),nc(e)}function Bs(e,i){return ec(e,null,null,i),nc(e)}function cy(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(f=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,f&&i!==null&&(f=31-ye(a),e=d.hiddenUpdates,l=e[f],l===null?e[f]=[i]:l.push(i),i.lane=a|536870912),d):null}function nc(e){if(50<Dl)throw Dl=0,$d=null,Error(s(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var xa={};function p1(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(e,i,a,l){return new p1(e,i,a,l)}function Pf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Fi(e,i){var a=e.alternate;return a===null?(a=vn(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function hy(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function ic(e,i,a,l,f,d){var _=0;if(l=e,typeof e=="function")Pf(e)&&(_=1);else if(typeof e=="string")_=Ew(e,a,ot.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=vn(31,a,i,f),e.elementType=I,e.lanes=d,e;case F:return qs(a.children,f,d,i);case P:_=8,f|=24;break;case W:return e=vn(12,a,i,f|2),e.elementType=W,e.lanes=d,e;case pt:return e=vn(13,a,i,f),e.elementType=pt,e.lanes=d,e;case lt:return e=vn(19,a,i,f),e.elementType=lt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case it:_=10;break t;case et:_=9;break t;case ht:_=11;break t;case C:_=14;break t;case R:_=16,l=null;break t}_=29,a=Error(s(130,e===null?"null":typeof e,"")),l=null}return i=vn(_,a,i,f),i.elementType=e,i.type=l,i.lanes=d,i}function qs(e,i,a,l){return e=vn(7,e,l,i),e.lanes=a,e}function zf(e,i,a){return e=vn(6,e,null,i),e.lanes=a,e}function fy(e){var i=vn(18,null,null,0);return i.stateNode=e,i}function jf(e,i,a){return i=vn(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var dy=new WeakMap;function xn(e,i){if(typeof e=="object"&&e!==null){var a=dy.get(e);return a!==void 0?a:(i={value:e,source:i,stack:zo(i)},dy.set(e,i),i)}return{value:e,source:i,stack:zo(i)}}var Ma=[],Va=0,rc=null,ul=0,Mn=[],Vn=0,Ur=null,bi=1,wi="";function Gi(e,i){Ma[Va++]=ul,Ma[Va++]=rc,rc=e,ul=i}function my(e,i,a){Mn[Vn++]=bi,Mn[Vn++]=wi,Mn[Vn++]=Ur,Ur=e;var l=bi;e=wi;var f=32-ye(l)-1;l&=~(1<<f),a+=1;var d=32-ye(i)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,bi=1<<32-ye(i)+f|a<<f|l,wi=d+e}else bi=1<<d|a<<f|l,wi=e}function Bf(e){e.return!==null&&(Gi(e,1),my(e,1,0))}function qf(e){for(;e===rc;)rc=Ma[--Va],Ma[Va]=null,ul=Ma[--Va],Ma[Va]=null;for(;e===Ur;)Ur=Mn[--Vn],Mn[Vn]=null,wi=Mn[--Vn],Mn[Vn]=null,bi=Mn[--Vn],Mn[Vn]=null}function py(e,i){Mn[Vn++]=bi,Mn[Vn++]=wi,Mn[Vn++]=Ur,bi=i.id,wi=i.overflow,Ur=e}var Fe=null,ae=null,jt=!1,Pr=null,Ln=!1,Hf=Error(s(519));function zr(e){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw cl(xn(i,e)),Hf}function gy(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[be]=e,i[Ue]=l,a){case"dialog":Mt("cancel",i),Mt("close",i);break;case"iframe":case"object":case"embed":Mt("load",i);break;case"video":case"audio":for(a=0;a<xl.length;a++)Mt(xl[a],i);break;case"source":Mt("error",i);break;case"img":case"image":case"link":Mt("error",i),Mt("load",i);break;case"details":Mt("toggle",i);break;case"input":Mt("invalid",i),Uu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Mt("invalid",i);break;case"textarea":Mt("invalid",i),Dr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Mv(i.textContent,a)?(l.popover!=null&&(Mt("beforetoggle",i),Mt("toggle",i)),l.onScroll!=null&&Mt("scroll",i),l.onScrollEnd!=null&&Mt("scrollend",i),l.onClick!=null&&(i.onclick=Gn),i=!0):i=!1,i||zr(e,!0)}function yy(e){for(Fe=e.return;Fe;)switch(Fe.tag){case 5:case 31:case 13:Ln=!1;return;case 27:case 3:Ln=!0;return;default:Fe=Fe.return}}function La(e){if(e!==Fe)return!1;if(!jt)return yy(e),jt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||om(e.type,e.memoizedProps)),a=!a),a&&ae&&zr(e),yy(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ae=qv(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));ae=qv(e)}else i===27?(i=ae,Zr(e.type)?(e=fm,fm=null,ae=e):ae=i):ae=Fe?Un(e.stateNode.nextSibling):null;return!0}function Hs(){ae=Fe=null,jt=!1}function Ff(){var e=Pr;return e!==null&&(dn===null?dn=e:dn.push.apply(dn,e),Pr=null),e}function cl(e){Pr===null?Pr=[e]:Pr.push(e)}var Gf=x(null),Fs=null,$i=null;function jr(e,i,a){st(Gf,i._currentValue),i._currentValue=a}function Ki(e){e._currentValue=Gf.current,X(Gf)}function $f(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function Kf(e,i,a,l){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;t:for(;d!==null;){var S=d;d=f;for(var D=0;D<i.length;D++)if(S.context===i[D]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),$f(d.return,a,e),l||(_=null);break t}d=S.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),$f(_,a,e),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===e){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function ka(e,i,a,l){e=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=f.type;_n(f.pendingProps.value,_.value)||(e!==null?e.push(S):e=[S])}}else if(f===Vt.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(Ul):e=[Ul])}f=f.return}e!==null&&Kf(i,e,a,l),i.flags|=262144}function sc(e){for(e=e.firstContext;e!==null;){if(!_n(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Gs(e){Fs=e,$i=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ge(e){return _y(Fs,e)}function ac(e,i){return Fs===null&&Gs(e),_y(e,i)}function _y(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},$i===null){if(e===null)throw Error(s(308));$i=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else $i=$i.next=i;return a}var g1=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},y1=r.unstable_scheduleCallback,_1=r.unstable_NormalPriority,Ce={$$typeof:it,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Qf(){return{controller:new g1,data:new Map,refCount:0}}function hl(e){e.refCount--,e.refCount===0&&y1(_1,function(){e.controller.abort()})}var fl=null,Yf=0,Ua=0,Pa=null;function v1(e,i){if(fl===null){var a=fl=[];Yf=0,Ua=Wd(),Pa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Yf++,i.then(vy,vy),i}function vy(){if(--Yf===0&&fl!==null){Pa!==null&&(Pa.status="fulfilled");var e=fl;fl=null,Ua=0,Pa=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function E1(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Ey=Q.S;Q.S=function(e,i){iv=rn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&v1(e,i),Ey!==null&&Ey(e,i)};var $s=x(null);function Xf(){var e=$s.current;return e!==null?e:re.pooledCache}function oc(e,i){i===null?st($s,$s.current):st($s,i.pool)}function Ty(){var e=Xf();return e===null?null:{parent:Ce._currentValue,pool:e}}var za=Error(s(460)),Jf=Error(s(474)),lc=Error(s(542)),uc={then:function(){}};function Sy(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ay(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(Gn,Gn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,wy(e),e;default:if(typeof i.status=="string")i.then(Gn,Gn);else{if(e=re,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,wy(e),e}throw Qs=i,za}}function Ks(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Qs=a,za):a}}var Qs=null;function by(){if(Qs===null)throw Error(s(459));var e=Qs;return Qs=null,e}function wy(e){if(e===za||e===lc)throw Error(s(483))}var ja=null,dl=0;function cc(e){var i=dl;return dl+=1,ja===null&&(ja=[]),Ay(ja,e,i)}function ml(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function hc(e,i){throw i.$$typeof===w?Error(s(525)):(e=Object.prototype.toString.call(i),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function Ry(e){function i(U,M){if(e){var B=U.deletions;B===null?(U.deletions=[M],U.flags|=16):B.push(M)}}function a(U,M){if(!e)return null;for(;M!==null;)i(U,M),M=M.sibling;return null}function l(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function f(U,M){return U=Fi(U,M),U.index=0,U.sibling=null,U}function d(U,M,B){return U.index=B,e?(B=U.alternate,B!==null?(B=B.index,B<M?(U.flags|=67108866,M):B):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function _(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function S(U,M,B,J){return M===null||M.tag!==6?(M=zf(B,U.mode,J),M.return=U,M):(M=f(M,B),M.return=U,M)}function D(U,M,B,J){var gt=B.type;return gt===F?Y(U,M,B.props.children,J,B.key):M!==null&&(M.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===R&&Ks(gt)===M.type)?(M=f(M,B.props),ml(M,B),M.return=U,M):(M=ic(B.type,B.key,B.props,null,U.mode,J),ml(M,B),M.return=U,M)}function q(U,M,B,J){return M===null||M.tag!==4||M.stateNode.containerInfo!==B.containerInfo||M.stateNode.implementation!==B.implementation?(M=jf(B,U.mode,J),M.return=U,M):(M=f(M,B.children||[]),M.return=U,M)}function Y(U,M,B,J,gt){return M===null||M.tag!==7?(M=qs(B,U.mode,J,gt),M.return=U,M):(M=f(M,B),M.return=U,M)}function Z(U,M,B){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=zf(""+M,U.mode,B),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case k:return B=ic(M.type,M.key,M.props,null,U.mode,B),ml(B,M),B.return=U,B;case H:return M=jf(M,U.mode,B),M.return=U,M;case R:return M=Ks(M),Z(U,M,B)}if(he(M)||z(M))return M=qs(M,U.mode,B,null),M.return=U,M;if(typeof M.then=="function")return Z(U,cc(M),B);if(M.$$typeof===it)return Z(U,ac(U,M),B);hc(U,M)}return null}function G(U,M,B,J){var gt=M!==null?M.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return gt!==null?null:S(U,M,""+B,J);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case k:return B.key===gt?D(U,M,B,J):null;case H:return B.key===gt?q(U,M,B,J):null;case R:return B=Ks(B),G(U,M,B,J)}if(he(B)||z(B))return gt!==null?null:Y(U,M,B,J,null);if(typeof B.then=="function")return G(U,M,cc(B),J);if(B.$$typeof===it)return G(U,M,ac(U,B),J);hc(U,B)}return null}function K(U,M,B,J,gt){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return U=U.get(B)||null,S(M,U,""+J,gt);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case k:return U=U.get(J.key===null?B:J.key)||null,D(M,U,J,gt);case H:return U=U.get(J.key===null?B:J.key)||null,q(M,U,J,gt);case R:return J=Ks(J),K(U,M,B,J,gt)}if(he(J)||z(J))return U=U.get(B)||null,Y(M,U,J,gt,null);if(typeof J.then=="function")return K(U,M,B,cc(J),gt);if(J.$$typeof===it)return K(U,M,B,ac(M,J),gt);hc(M,J)}return null}function dt(U,M,B,J){for(var gt=null,Ht=null,mt=M,Nt=M=0,kt=null;mt!==null&&Nt<B.length;Nt++){mt.index>Nt?(kt=mt,mt=null):kt=mt.sibling;var Ft=G(U,mt,B[Nt],J);if(Ft===null){mt===null&&(mt=kt);break}e&&mt&&Ft.alternate===null&&i(U,mt),M=d(Ft,M,Nt),Ht===null?gt=Ft:Ht.sibling=Ft,Ht=Ft,mt=kt}if(Nt===B.length)return a(U,mt),jt&&Gi(U,Nt),gt;if(mt===null){for(;Nt<B.length;Nt++)mt=Z(U,B[Nt],J),mt!==null&&(M=d(mt,M,Nt),Ht===null?gt=mt:Ht.sibling=mt,Ht=mt);return jt&&Gi(U,Nt),gt}for(mt=l(mt);Nt<B.length;Nt++)kt=K(mt,U,Nt,B[Nt],J),kt!==null&&(e&&kt.alternate!==null&&mt.delete(kt.key===null?Nt:kt.key),M=d(kt,M,Nt),Ht===null?gt=kt:Ht.sibling=kt,Ht=kt);return e&&mt.forEach(function(rs){return i(U,rs)}),jt&&Gi(U,Nt),gt}function vt(U,M,B,J){if(B==null)throw Error(s(151));for(var gt=null,Ht=null,mt=M,Nt=M=0,kt=null,Ft=B.next();mt!==null&&!Ft.done;Nt++,Ft=B.next()){mt.index>Nt?(kt=mt,mt=null):kt=mt.sibling;var rs=G(U,mt,Ft.value,J);if(rs===null){mt===null&&(mt=kt);break}e&&mt&&rs.alternate===null&&i(U,mt),M=d(rs,M,Nt),Ht===null?gt=rs:Ht.sibling=rs,Ht=rs,mt=kt}if(Ft.done)return a(U,mt),jt&&Gi(U,Nt),gt;if(mt===null){for(;!Ft.done;Nt++,Ft=B.next())Ft=Z(U,Ft.value,J),Ft!==null&&(M=d(Ft,M,Nt),Ht===null?gt=Ft:Ht.sibling=Ft,Ht=Ft);return jt&&Gi(U,Nt),gt}for(mt=l(mt);!Ft.done;Nt++,Ft=B.next())Ft=K(mt,U,Nt,Ft.value,J),Ft!==null&&(e&&Ft.alternate!==null&&mt.delete(Ft.key===null?Nt:Ft.key),M=d(Ft,M,Nt),Ht===null?gt=Ft:Ht.sibling=Ft,Ht=Ft);return e&&mt.forEach(function(Ow){return i(U,Ow)}),jt&&Gi(U,Nt),gt}function ne(U,M,B,J){if(typeof B=="object"&&B!==null&&B.type===F&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case k:t:{for(var gt=B.key;M!==null;){if(M.key===gt){if(gt=B.type,gt===F){if(M.tag===7){a(U,M.sibling),J=f(M,B.props.children),J.return=U,U=J;break t}}else if(M.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===R&&Ks(gt)===M.type){a(U,M.sibling),J=f(M,B.props),ml(J,B),J.return=U,U=J;break t}a(U,M);break}else i(U,M);M=M.sibling}B.type===F?(J=qs(B.props.children,U.mode,J,B.key),J.return=U,U=J):(J=ic(B.type,B.key,B.props,null,U.mode,J),ml(J,B),J.return=U,U=J)}return _(U);case H:t:{for(gt=B.key;M!==null;){if(M.key===gt)if(M.tag===4&&M.stateNode.containerInfo===B.containerInfo&&M.stateNode.implementation===B.implementation){a(U,M.sibling),J=f(M,B.children||[]),J.return=U,U=J;break t}else{a(U,M);break}else i(U,M);M=M.sibling}J=jf(B,U.mode,J),J.return=U,U=J}return _(U);case R:return B=Ks(B),ne(U,M,B,J)}if(he(B))return dt(U,M,B,J);if(z(B)){if(gt=z(B),typeof gt!="function")throw Error(s(150));return B=gt.call(B),vt(U,M,B,J)}if(typeof B.then=="function")return ne(U,M,cc(B),J);if(B.$$typeof===it)return ne(U,M,ac(U,B),J);hc(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,M!==null&&M.tag===6?(a(U,M.sibling),J=f(M,B),J.return=U,U=J):(a(U,M),J=zf(B,U.mode,J),J.return=U,U=J),_(U)):a(U,M)}return function(U,M,B,J){try{dl=0;var gt=ne(U,M,B,J);return ja=null,gt}catch(mt){if(mt===za||mt===lc)throw mt;var Ht=vn(29,mt,null,U.mode);return Ht.lanes=J,Ht.return=U,Ht}finally{}}}var Ys=Ry(!0),Cy=Ry(!1),Br=!1;function Wf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zf(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function qr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Hr(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,($t&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=nc(e),cy(e,null,a),i}return ec(e,l,i,a),nc(e)}function pl(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,qo(e,a)}}function td(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var ed=!1;function gl(){if(ed){var e=Pa;if(e!==null)throw e}}function yl(e,i,a,l){ed=!1;var f=e.updateQueue;Br=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var D=S,q=D.next;D.next=null,_===null?d=q:_.next=q,_=D;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,S=Y.lastBaseUpdate,S!==_&&(S===null?Y.firstBaseUpdate=q:S.next=q,Y.lastBaseUpdate=D))}if(d!==null){var Z=f.baseState;_=0,Y=q=D=null,S=d;do{var G=S.lane&-536870913,K=G!==S.lane;if(K?(Lt&G)===G:(l&G)===G){G!==0&&G===Ua&&(ed=!0),Y!==null&&(Y=Y.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var dt=e,vt=S;G=i;var ne=a;switch(vt.tag){case 1:if(dt=vt.payload,typeof dt=="function"){Z=dt.call(ne,Z,G);break t}Z=dt;break t;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=vt.payload,G=typeof dt=="function"?dt.call(ne,Z,G):dt,G==null)break t;Z=T({},Z,G);break t;case 2:Br=!0}}G=S.callback,G!==null&&(e.flags|=64,K&&(e.flags|=8192),K=f.callbacks,K===null?f.callbacks=[G]:K.push(G))}else K={lane:G,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Y===null?(q=Y=K,D=Z):Y=Y.next=K,_|=G;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;K=S,S=K.next,K.next=null,f.lastBaseUpdate=K,f.shared.pending=null}}while(!0);Y===null&&(D=Z),f.baseState=D,f.firstBaseUpdate=q,f.lastBaseUpdate=Y,d===null&&(f.shared.lanes=0),Qr|=_,e.lanes=_,e.memoizedState=Z}}function Iy(e,i){if(typeof e!="function")throw Error(s(191,e));e.call(i)}function Ny(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Iy(a[e],i)}var Ba=x(null),fc=x(0);function Dy(e,i){e=nr,st(fc,e),st(Ba,i),nr=e|i.baseLanes}function nd(){st(fc,nr),st(Ba,Ba.current)}function id(){nr=fc.current,X(Ba),X(fc)}var En=x(null),kn=null;function Fr(e){var i=e.alternate;st(ve,ve.current&1),st(En,e),kn===null&&(i===null||Ba.current!==null||i.memoizedState!==null)&&(kn=e)}function rd(e){st(ve,ve.current),st(En,e),kn===null&&(kn=e)}function Oy(e){e.tag===22?(st(ve,ve.current),st(En,e),kn===null&&(kn=e)):Gr()}function Gr(){st(ve,ve.current),st(En,En.current)}function Tn(e){X(En),kn===e&&(kn=null),X(ve)}var ve=x(0);function dc(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||cm(a)||hm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Qi=0,It=null,te=null,Ie=null,mc=!1,qa=!1,Xs=!1,pc=0,_l=0,Ha=null,T1=0;function me(){throw Error(s(321))}function sd(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!_n(e[a],i[a]))return!1;return!0}function ad(e,i,a,l,f,d){return Qi=d,It=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=e===null||e.memoizedState===null?m_:Td,Xs=!1,d=a(l,f),Xs=!1,qa&&(d=My(i,a,l,f)),xy(e),d}function xy(e){Q.H=Tl;var i=te!==null&&te.next!==null;if(Qi=0,Ie=te=It=null,mc=!1,_l=0,Ha=null,i)throw Error(s(300));e===null||Ne||(e=e.dependencies,e!==null&&sc(e)&&(Ne=!0))}function My(e,i,a,l){It=e;var f=0;do{if(qa&&(Ha=null),_l=0,qa=!1,25<=f)throw Error(s(301));if(f+=1,Ie=te=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=p_,d=i(a,l)}while(qa);return d}function S1(){var e=Q.H,i=e.useState()[0];return i=typeof i.then=="function"?vl(i):i,e=e.useState()[0],(te!==null?te.memoizedState:null)!==e&&(It.flags|=1024),i}function od(){var e=pc!==0;return pc=0,e}function ld(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function ud(e){if(mc){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}mc=!1}Qi=0,Ie=te=It=null,qa=!1,_l=pc=0,Ha=null}function an(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?It.memoizedState=Ie=e:Ie=Ie.next=e,Ie}function Ee(){if(te===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=te.next;var i=Ie===null?It.memoizedState:Ie.next;if(i!==null)Ie=i,te=e;else{if(e===null)throw It.alternate===null?Error(s(467)):Error(s(310));te=e,e={memoizedState:te.memoizedState,baseState:te.baseState,baseQueue:te.baseQueue,queue:te.queue,next:null},Ie===null?It.memoizedState=Ie=e:Ie=Ie.next=e}return Ie}function gc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vl(e){var i=_l;return _l+=1,Ha===null&&(Ha=[]),e=Ay(Ha,e,i),i=It,(Ie===null?i.memoizedState:Ie.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?m_:Td),e}function yc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return vl(e);if(e.$$typeof===it)return Ge(e)}throw Error(s(438,String(e)))}function cd(e){var i=null,a=It.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=It.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=gc(),It.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=V;return i.index++,a}function Yi(e,i){return typeof i=="function"?i(e):i}function _c(e){var i=Ee();return hd(i,te,e)}function hd(e,i,a){var l=e.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=e.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}i.baseQueue=f=d,l.pending=null}if(d=e.baseState,f===null)e.memoizedState=d;else{i=f.next;var S=_=null,D=null,q=i,Y=!1;do{var Z=q.lane&-536870913;if(Z!==q.lane?(Lt&Z)===Z:(Qi&Z)===Z){var G=q.revertLane;if(G===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),Z===Ua&&(Y=!0);else if((Qi&G)===G){q=q.next,G===Ua&&(Y=!0);continue}else Z={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(S=D=Z,_=d):D=D.next=Z,It.lanes|=G,Qr|=G;Z=q.action,Xs&&a(d,Z),d=q.hasEagerState?q.eagerState:a(d,Z)}else G={lane:Z,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},D===null?(S=D=G,_=d):D=D.next=G,It.lanes|=Z,Qr|=Z;q=q.next}while(q!==null&&q!==i);if(D===null?_=d:D.next=S,!_n(d,e.memoizedState)&&(Ne=!0,Y&&(a=Pa,a!==null)))throw a;e.memoizedState=d,e.baseState=_,e.baseQueue=D,l.lastRenderedState=d}return f===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function fd(e){var i=Ee(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=e(d,_.action),_=_.next;while(_!==f);_n(d,i.memoizedState)||(Ne=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Vy(e,i,a){var l=It,f=Ee(),d=jt;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!_n((te||f).memoizedState,a);if(_&&(f.memoizedState=a,Ne=!0),f=f.queue,pd(Uy.bind(null,l,f,e),[e]),f.getSnapshot!==i||_||Ie!==null&&Ie.memoizedState.tag&1){if(l.flags|=2048,Fa(9,{destroy:void 0},ky.bind(null,l,f,a,i),null),re===null)throw Error(s(349));d||(Qi&127)!==0||Ly(l,i,a)}return a}function Ly(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=It.updateQueue,i===null?(i=gc(),It.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function ky(e,i,a,l){i.value=a,i.getSnapshot=l,Py(i)&&zy(e)}function Uy(e,i,a){return a(function(){Py(i)&&zy(e)})}function Py(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!_n(e,a)}catch{return!0}}function zy(e){var i=Bs(e,2);i!==null&&mn(i,e,2)}function dd(e){var i=an();if(typeof e=="function"){var a=e;if(e=a(),Xs){Rn(!0);try{a()}finally{Rn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:e},i}function jy(e,i,a,l){return e.baseState=a,hd(e,te,typeof l=="function"?l:Yi)}function A1(e,i,a,l,f){if(Tc(e))throw Error(s(485));if(e=i.action,e!==null){var d={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};Q.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,By(i,d)):(d.next=a.next,i.pending=a.next=d)}}function By(e,i){var a=i.action,l=i.payload,f=e.state;if(i.isTransition){var d=Q.T,_={};Q.T=_;try{var S=a(f,l),D=Q.S;D!==null&&D(_,S),qy(e,i,S)}catch(q){md(e,i,q)}finally{d!==null&&_.types!==null&&(d.types=_.types),Q.T=d}}else try{d=a(f,l),qy(e,i,d)}catch(q){md(e,i,q)}}function qy(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Hy(e,i,l)},function(l){return md(e,i,l)}):Hy(e,i,a)}function Hy(e,i,a){i.status="fulfilled",i.value=a,Fy(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,By(e,a)))}function md(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Fy(i),i=i.next;while(i!==l)}e.action=null}function Fy(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Gy(e,i){return i}function $y(e,i){if(jt){var a=re.formState;if(a!==null){t:{var l=It;if(jt){if(ae){e:{for(var f=ae,d=Ln;f.nodeType!==8;){if(!d){f=null;break e}if(f=Un(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ae=Un(f.nextSibling),l=f.data==="F!";break t}}zr(l)}l=!1}l&&(i=a[0])}}return a=an(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gy,lastRenderedState:i},a.queue=l,a=h_.bind(null,It,l),l.dispatch=a,l=dd(!1),d=Ed.bind(null,It,!1,l.queue),l=an(),f={state:i,dispatch:null,action:e,pending:null},l.queue=f,a=A1.bind(null,It,f,d,a),f.dispatch=a,l.memoizedState=e,[i,a,!1]}function Ky(e){var i=Ee();return Qy(i,te,e)}function Qy(e,i,a){if(i=hd(e,i,Gy)[0],e=_c(Yi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=vl(i)}catch(_){throw _===za?lc:_}else l=i;i=Ee();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(It.flags|=2048,Fa(9,{destroy:void 0},b1.bind(null,f,a),null)),[l,d,e]}function b1(e,i){e.action=i}function Yy(e){var i=Ee(),a=te;if(a!==null)return Qy(i,a,e);Ee(),i=i.memoizedState,a=Ee();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Fa(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=It.updateQueue,i===null&&(i=gc(),It.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function Xy(){return Ee().memoizedState}function vc(e,i,a,l){var f=an();It.flags|=e,f.memoizedState=Fa(1|i,{destroy:void 0},a,l===void 0?null:l)}function Ec(e,i,a,l){var f=Ee();l=l===void 0?null:l;var d=f.memoizedState.inst;te!==null&&l!==null&&sd(l,te.memoizedState.deps)?f.memoizedState=Fa(i,d,a,l):(It.flags|=e,f.memoizedState=Fa(1|i,d,a,l))}function Jy(e,i){vc(8390656,8,e,i)}function pd(e,i){Ec(2048,8,e,i)}function w1(e){It.flags|=4;var i=It.updateQueue;if(i===null)i=gc(),It.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function Wy(e){var i=Ee().memoizedState;return w1({ref:i,nextImpl:e}),function(){if(($t&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function Zy(e,i){return Ec(4,2,e,i)}function t_(e,i){return Ec(4,4,e,i)}function e_(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function n_(e,i,a){a=a!=null?a.concat([e]):null,Ec(4,4,e_.bind(null,i,e),a)}function gd(){}function i_(e,i){var a=Ee();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&sd(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function r_(e,i){var a=Ee();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&sd(i,l[1]))return l[0];if(l=e(),Xs){Rn(!0);try{e()}finally{Rn(!1)}}return a.memoizedState=[l,i],l}function yd(e,i,a){return a===void 0||(Qi&1073741824)!==0&&(Lt&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=sv(),It.lanes|=e,Qr|=e,a)}function s_(e,i,a,l){return _n(a,i)?a:Ba.current!==null?(e=yd(e,a,l),_n(e,i)||(Ne=!0),e):(Qi&42)===0||(Qi&1073741824)!==0&&(Lt&261930)===0?(Ne=!0,e.memoizedState=a):(e=sv(),It.lanes|=e,Qr|=e,i)}function a_(e,i,a,l,f){var d=rt.p;rt.p=d!==0&&8>d?d:8;var _=Q.T,S={};Q.T=S,Ed(e,!1,i,a);try{var D=f(),q=Q.S;if(q!==null&&q(S,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Y=E1(D,l);El(e,i,Y,bn(e))}else El(e,i,l,bn(e))}catch(Z){El(e,i,{then:function(){},status:"rejected",reason:Z},bn())}finally{rt.p=d,_!==null&&S.types!==null&&(_.types=S.types),Q.T=_}}function R1(){}function _d(e,i,a,l){if(e.tag!==5)throw Error(s(476));var f=o_(e).queue;a_(e,f,i,ut,a===null?R1:function(){return l_(e),a(l)})}function o_(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:ut},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function l_(e){var i=o_(e);i.next===null&&(i=e.alternate.memoizedState),El(e,i.next.queue,{},bn())}function vd(){return Ge(Ul)}function u_(){return Ee().memoizedState}function c_(){return Ee().memoizedState}function C1(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=bn();e=qr(a);var l=Hr(i,e,a);l!==null&&(mn(l,i,a),pl(l,i,a)),i={cache:Qf()},e.payload=i;return}i=i.return}}function I1(e,i,a){var l=bn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Tc(e)?f_(i,a):(a=Uf(e,i,a,l),a!==null&&(mn(a,e,l),d_(a,i,l)))}function h_(e,i,a){var l=bn();El(e,i,a,l)}function El(e,i,a,l){var f={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Tc(e))f_(i,f);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,S=d(_,a);if(f.hasEagerState=!0,f.eagerState=S,_n(S,_))return ec(e,i,f,0),re===null&&tc(),!1}catch{}finally{}if(a=Uf(e,i,f,l),a!==null)return mn(a,e,l),d_(a,i,l),!0}return!1}function Ed(e,i,a,l){if(l={lane:2,revertLane:Wd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Tc(e)){if(i)throw Error(s(479))}else i=Uf(e,a,l,2),i!==null&&mn(i,e,2)}function Tc(e){var i=e.alternate;return e===It||i!==null&&i===It}function f_(e,i){qa=mc=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function d_(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,qo(e,a)}}var Tl={readContext:Ge,use:yc,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useLayoutEffect:me,useInsertionEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useSyncExternalStore:me,useId:me,useHostTransitionStatus:me,useFormState:me,useActionState:me,useOptimistic:me,useMemoCache:me,useCacheRefresh:me};Tl.useEffectEvent=me;var m_={readContext:Ge,use:yc,useCallback:function(e,i){return an().memoizedState=[e,i===void 0?null:i],e},useContext:Ge,useEffect:Jy,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,vc(4194308,4,e_.bind(null,i,e),a)},useLayoutEffect:function(e,i){return vc(4194308,4,e,i)},useInsertionEffect:function(e,i){vc(4,2,e,i)},useMemo:function(e,i){var a=an();i=i===void 0?null:i;var l=e();if(Xs){Rn(!0);try{e()}finally{Rn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=an();if(a!==void 0){var f=a(i);if(Xs){Rn(!0);try{a(i)}finally{Rn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},l.queue=e,e=e.dispatch=I1.bind(null,It,e),[l.memoizedState,e]},useRef:function(e){var i=an();return e={current:e},i.memoizedState=e},useState:function(e){e=dd(e);var i=e.queue,a=h_.bind(null,It,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:gd,useDeferredValue:function(e,i){var a=an();return yd(a,e,i)},useTransition:function(){var e=dd(!1);return e=a_.bind(null,It,e.queue,!0,!1),an().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=It,f=an();if(jt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),re===null)throw Error(s(349));(Lt&127)!==0||Ly(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,Jy(Uy.bind(null,l,d,e),[e]),l.flags|=2048,Fa(9,{destroy:void 0},ky.bind(null,l,d,a,i),null),a},useId:function(){var e=an(),i=re.identifierPrefix;if(jt){var a=wi,l=bi;a=(l&~(1<<32-ye(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=pc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=T1++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:vd,useFormState:$y,useActionState:$y,useOptimistic:function(e){var i=an();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Ed.bind(null,It,!0,a),a.dispatch=i,[e,i]},useMemoCache:cd,useCacheRefresh:function(){return an().memoizedState=C1.bind(null,It)},useEffectEvent:function(e){var i=an(),a={impl:e};return i.memoizedState=a,function(){if(($t&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Td={readContext:Ge,use:yc,useCallback:i_,useContext:Ge,useEffect:pd,useImperativeHandle:n_,useInsertionEffect:Zy,useLayoutEffect:t_,useMemo:r_,useReducer:_c,useRef:Xy,useState:function(){return _c(Yi)},useDebugValue:gd,useDeferredValue:function(e,i){var a=Ee();return s_(a,te.memoizedState,e,i)},useTransition:function(){var e=_c(Yi)[0],i=Ee().memoizedState;return[typeof e=="boolean"?e:vl(e),i]},useSyncExternalStore:Vy,useId:u_,useHostTransitionStatus:vd,useFormState:Ky,useActionState:Ky,useOptimistic:function(e,i){var a=Ee();return jy(a,te,e,i)},useMemoCache:cd,useCacheRefresh:c_};Td.useEffectEvent=Wy;var p_={readContext:Ge,use:yc,useCallback:i_,useContext:Ge,useEffect:pd,useImperativeHandle:n_,useInsertionEffect:Zy,useLayoutEffect:t_,useMemo:r_,useReducer:fd,useRef:Xy,useState:function(){return fd(Yi)},useDebugValue:gd,useDeferredValue:function(e,i){var a=Ee();return te===null?yd(a,e,i):s_(a,te.memoizedState,e,i)},useTransition:function(){var e=fd(Yi)[0],i=Ee().memoizedState;return[typeof e=="boolean"?e:vl(e),i]},useSyncExternalStore:Vy,useId:u_,useHostTransitionStatus:vd,useFormState:Yy,useActionState:Yy,useOptimistic:function(e,i){var a=Ee();return te!==null?jy(a,te,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:cd,useCacheRefresh:c_};p_.useEffectEvent=Wy;function Sd(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:T({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Ad={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=bn(),f=qr(l);f.payload=i,a!=null&&(f.callback=a),i=Hr(e,f,l),i!==null&&(mn(i,e,l),pl(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=bn(),f=qr(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Hr(e,f,l),i!==null&&(mn(i,e,l),pl(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=bn(),l=qr(a);l.tag=2,i!=null&&(l.callback=i),i=Hr(e,l,a),i!==null&&(mn(i,e,a),pl(i,e,a))}};function g_(e,i,a,l,f,d,_){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,_):i.prototype&&i.prototype.isPureReactComponent?!ol(a,l)||!ol(f,d):!0}function y_(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&Ad.enqueueReplaceState(i,i.state,null)}function Js(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=T({},a));for(var f in e)a[f]===void 0&&(a[f]=e[f])}return a}function __(e){Zu(e)}function v_(e){console.error(e)}function E_(e){Zu(e)}function Sc(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function T_(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function bd(e,i,a){return a=qr(a),a.tag=3,a.payload={element:null},a.callback=function(){Sc(e,i)},a}function S_(e){return e=qr(e),e.tag=3,e}function A_(e,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;e.payload=function(){return f(d)},e.callback=function(){T_(i,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(e.callback=function(){T_(i,a,l),typeof f!="function"&&(Yr===null?Yr=new Set([this]):Yr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function N1(e,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&ka(i,a,f,!0),a=En.current,a!==null){switch(a.tag){case 31:case 13:return kn===null?Vc():a.alternate===null&&pe===0&&(pe=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===uc?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Yd(e,l,f)),!1;case 22:return a.flags|=65536,l===uc?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Yd(e,l,f)),!1}throw Error(s(435,a.tag))}return Yd(e,l,f),Vc(),!1}if(jt)return i=En.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==Hf&&(e=Error(s(422),{cause:l}),cl(xn(e,a)))):(l!==Hf&&(i=Error(s(423),{cause:l}),cl(xn(i,a))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,l=xn(l,a),f=bd(e.stateNode,l,f),td(e,f),pe!==4&&(pe=2)),!1;var d=Error(s(520),{cause:l});if(d=xn(d,a),Nl===null?Nl=[d]:Nl.push(d),pe!==4&&(pe=2),i===null)return!0;l=xn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=f&-f,a.lanes|=e,e=bd(a.stateNode,l,e),td(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Yr===null||!Yr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=S_(f),A_(f,e,a,l),td(a,f),!1}a=a.return}while(a!==null);return!1}var wd=Error(s(461)),Ne=!1;function $e(e,i,a,l){i.child=e===null?Cy(i,null,a,l):Ys(i,e.child,a,l)}function b_(e,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return Gs(i),l=ad(e,i,a,_,d,f),S=od(),e!==null&&!Ne?(ld(e,i,f),Xi(e,i,f)):(jt&&S&&Bf(i),i.flags|=1,$e(e,i,l,f),i.child)}function w_(e,i,a,l,f){if(e===null){var d=a.type;return typeof d=="function"&&!Pf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,R_(e,i,d,l,f)):(e=ic(a.type,null,l,i,i.mode,f),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!Md(e,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:ol,a(_,l)&&e.ref===i.ref)return Xi(e,i,f)}return i.flags|=1,e=Fi(d,l),e.ref=i.ref,e.return=i,i.child=e}function R_(e,i,a,l,f){if(e!==null){var d=e.memoizedProps;if(ol(d,l)&&e.ref===i.ref)if(Ne=!1,i.pendingProps=l=d,Md(e,f))(e.flags&131072)!==0&&(Ne=!0);else return i.lanes=e.lanes,Xi(e,i,f)}return Rd(e,i,a,l,f)}function C_(e,i,a,l){var f=l.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=i.child=e.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,i.child=null;return I_(e,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&oc(i,d!==null?d.cachePool:null),d!==null?Dy(i,d):nd(),Oy(i);else return l=i.lanes=536870912,I_(e,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(oc(i,d.cachePool),Dy(i,d),Gr(),i.memoizedState=null):(e!==null&&oc(i,null),nd(),Gr());return $e(e,i,f,a),i.child}function Sl(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function I_(e,i,a,l,f){var d=Xf();return d=d===null?null:{parent:Ce._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},e!==null&&oc(i,null),nd(),Oy(i),e!==null&&ka(e,i,l,!0),i.childLanes=f,null}function Ac(e,i){return i=wc({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function N_(e,i,a){return Ys(i,e.child,null,a),e=Ac(i,i.pendingProps),e.flags|=2,Tn(i),i.memoizedState=null,e}function D1(e,i,a){var l=i.pendingProps,f=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(jt){if(l.mode==="hidden")return e=Ac(i,l),i.lanes=536870912,Sl(null,e);if(rd(i),(e=ae)?(e=Bv(e,Ln),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Ur!==null?{id:bi,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},a=fy(e),a.return=i,i.child=a,Fe=i,ae=null)):e=null,e===null)throw zr(i);return i.lanes=536870912,null}return Ac(i,l)}var d=e.memoizedState;if(d!==null){var _=d.dehydrated;if(rd(i),f)if(i.flags&256)i.flags&=-257,i=N_(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(s(558));else if(Ne||ka(e,i,a,!1),f=(a&e.childLanes)!==0,Ne||f){if(l=re,l!==null&&(_=Ho(l,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Bs(e,_),mn(l,e,_),wd;Vc(),i=N_(e,i,a)}else e=d.treeContext,ae=Un(_.nextSibling),Fe=i,jt=!0,Pr=null,Ln=!1,e!==null&&py(i,e),i=Ac(i,l),i.flags|=4096;return i}return e=Fi(e.child,{mode:l.mode,children:l.children}),e.ref=i.ref,i.child=e,e.return=i,e}function bc(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Rd(e,i,a,l,f){return Gs(i),a=ad(e,i,a,l,void 0,f),l=od(),e!==null&&!Ne?(ld(e,i,f),Xi(e,i,f)):(jt&&l&&Bf(i),i.flags|=1,$e(e,i,a,f),i.child)}function D_(e,i,a,l,f,d){return Gs(i),i.updateQueue=null,a=My(i,l,a,f),xy(e),l=od(),e!==null&&!Ne?(ld(e,i,d),Xi(e,i,d)):(jt&&l&&Bf(i),i.flags|=1,$e(e,i,a,d),i.child)}function O_(e,i,a,l,f){if(Gs(i),i.stateNode===null){var d=xa,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ge(_)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Ad,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Wf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ge(_):xa,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Sd(i,a,_,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Ad.enqueueReplaceState(d,d.state,null),yl(i,l,d,f),gl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var S=i.memoizedProps,D=Js(a,S);d.props=D;var q=d.context,Y=a.contextType;_=xa,typeof Y=="object"&&Y!==null&&(_=Ge(Y));var Z=a.getDerivedStateFromProps;Y=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||q!==_)&&y_(i,d,l,_),Br=!1;var G=i.memoizedState;d.state=G,yl(i,l,d,f),gl(),q=i.memoizedState,S||G!==q||Br?(typeof Z=="function"&&(Sd(i,a,Z,l),q=i.memoizedState),(D=Br||g_(i,a,D,l,G,q,_))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=q),d.props=l,d.state=q,d.context=_,l=D):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Zf(e,i),_=i.memoizedProps,Y=Js(a,_),d.props=Y,Z=i.pendingProps,G=d.context,q=a.contextType,D=xa,typeof q=="object"&&q!==null&&(D=Ge(q)),S=a.getDerivedStateFromProps,(q=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==Z||G!==D)&&y_(i,d,l,D),Br=!1,G=i.memoizedState,d.state=G,yl(i,l,d,f),gl();var K=i.memoizedState;_!==Z||G!==K||Br||e!==null&&e.dependencies!==null&&sc(e.dependencies)?(typeof S=="function"&&(Sd(i,a,S,l),K=i.memoizedState),(Y=Br||g_(i,a,Y,l,G,K,D)||e!==null&&e.dependencies!==null&&sc(e.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,D)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&G===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&G===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=K),d.props=l,d.state=K,d.context=D,l=Y):(typeof d.componentDidUpdate!="function"||_===e.memoizedProps&&G===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===e.memoizedProps&&G===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,bc(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=Ys(i,e.child,null,f),i.child=Ys(i,null,a,f)):$e(e,i,a,f),i.memoizedState=d.state,e=i.child):e=Xi(e,i,f),e}function x_(e,i,a,l){return Hs(),i.flags|=256,$e(e,i,a,l),i.child}var Cd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Id(e){return{baseLanes:e,cachePool:Ty()}}function Nd(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=An),e}function M_(e,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=e!==null&&e.memoizedState===null?!1:(ve.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,e===null){if(jt){if(f?Fr(i):Gr(),(e=ae)?(e=Bv(e,Ln),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Ur!==null?{id:bi,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},a=fy(e),a.return=i,i.child=a,Fe=i,ae=null)):e=null,e===null)throw zr(i);return hm(e)?i.lanes=32:i.lanes=536870912,null}var S=l.children;return l=l.fallback,f?(Gr(),f=i.mode,S=wc({mode:"hidden",children:S},f),l=qs(l,f,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,l=i.child,l.memoizedState=Id(a),l.childLanes=Nd(e,_,a),i.memoizedState=Cd,Sl(null,l)):(Fr(i),Dd(i,S))}var D=e.memoizedState;if(D!==null&&(S=D.dehydrated,S!==null)){if(d)i.flags&256?(Fr(i),i.flags&=-257,i=Od(e,i,a)):i.memoizedState!==null?(Gr(),i.child=e.child,i.flags|=128,i=null):(Gr(),S=l.fallback,f=i.mode,l=wc({mode:"visible",children:l.children},f),S=qs(S,f,a,null),S.flags|=2,l.return=i,S.return=i,l.sibling=S,i.child=l,Ys(i,e.child,null,a),l=i.child,l.memoizedState=Id(a),l.childLanes=Nd(e,_,a),i.memoizedState=Cd,i=Sl(null,l));else if(Fr(i),hm(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var q=_.dgst;_=q,l=Error(s(419)),l.stack="",l.digest=_,cl({value:l,source:null,stack:null}),i=Od(e,i,a)}else if(Ne||ka(e,i,a,!1),_=(a&e.childLanes)!==0,Ne||_){if(_=re,_!==null&&(l=Ho(_,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,Bs(e,l),mn(_,e,l),wd;cm(S)||Vc(),i=Od(e,i,a)}else cm(S)?(i.flags|=192,i.child=e.child,i=null):(e=D.treeContext,ae=Un(S.nextSibling),Fe=i,jt=!0,Pr=null,Ln=!1,e!==null&&py(i,e),i=Dd(i,l.children),i.flags|=4096);return i}return f?(Gr(),S=l.fallback,f=i.mode,D=e.child,q=D.sibling,l=Fi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,q!==null?S=Fi(q,S):(S=qs(S,f,a,null),S.flags|=2),S.return=i,l.return=i,l.sibling=S,i.child=l,Sl(null,l),l=i.child,S=e.child.memoizedState,S===null?S=Id(a):(f=S.cachePool,f!==null?(D=Ce._currentValue,f=f.parent!==D?{parent:D,pool:D}:f):f=Ty(),S={baseLanes:S.baseLanes|a,cachePool:f}),l.memoizedState=S,l.childLanes=Nd(e,_,a),i.memoizedState=Cd,Sl(e.child,l)):(Fr(i),a=e.child,e=a.sibling,a=Fi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(_=i.deletions,_===null?(i.deletions=[e],i.flags|=16):_.push(e)),i.child=a,i.memoizedState=null,a)}function Dd(e,i){return i=wc({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function wc(e,i){return e=vn(22,e,null,i),e.lanes=0,e}function Od(e,i,a){return Ys(i,e.child,null,a),e=Dd(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function V_(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),$f(e.return,i,a)}function xd(e,i,a,l,f,d){var _=e.memoizedState;_===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=l,_.tail=a,_.tailMode=f,_.treeForkCount=d)}function L_(e,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var _=ve.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,st(ve,_),$e(e,i,l,a),l=jt?ul:0,!S&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&V_(e,a,i);else if(e.tag===19)V_(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(a=i.child,f=null;a!==null;)e=a.alternate,e!==null&&dc(e)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),xd(i,!1,f,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(e=f.alternate,e!==null&&dc(e)===null){i.child=f;break}e=f.sibling,f.sibling=a,a=f,f=e}xd(i,!0,a,null,d,l);break;case"together":xd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Xi(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Qr|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(ka(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(s(153));if(i.child!==null){for(e=i.child,a=Fi(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=Fi(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Md(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&sc(e)))}function O1(e,i,a){switch(i.tag){case 3:ge(i,i.stateNode.containerInfo),jr(i,Ce,e.memoizedState.cache),Hs();break;case 27:case 5:jn(i);break;case 4:ge(i,i.stateNode.containerInfo);break;case 10:jr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,rd(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Fr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?M_(e,i,a):(Fr(i),e=Xi(e,i,a),e!==null?e.sibling:null);Fr(i);break;case 19:var f=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(ka(e,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return L_(e,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),st(ve,ve.current),l)break;return null;case 22:return i.lanes=0,C_(e,i,a,i.pendingProps);case 24:jr(i,Ce,e.memoizedState.cache)}return Xi(e,i,a)}function k_(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Ne=!0;else{if(!Md(e,a)&&(i.flags&128)===0)return Ne=!1,O1(e,i,a);Ne=(e.flags&131072)!==0}else Ne=!1,jt&&(i.flags&1048576)!==0&&my(i,ul,i.index);switch(i.lanes=0,i.tag){case 16:t:{var l=i.pendingProps;if(e=Ks(i.elementType),i.type=e,typeof e=="function")Pf(e)?(l=Js(e,l),i.tag=1,i=O_(null,i,e,l,a)):(i.tag=0,i=Rd(null,i,e,l,a));else{if(e!=null){var f=e.$$typeof;if(f===ht){i.tag=11,i=b_(null,i,e,l,a);break t}else if(f===C){i.tag=14,i=w_(null,i,e,l,a);break t}}throw i=Qt(e)||e,Error(s(306,i,""))}}return i;case 0:return Rd(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=Js(l,i.pendingProps),O_(e,i,l,f,a);case 3:t:{if(ge(i,i.stateNode.containerInfo),e===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,Zf(e,i),yl(i,l,null,a);var _=i.memoizedState;if(l=_.cache,jr(i,Ce,l),l!==d.cache&&Kf(i,[Ce],a,!0),gl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=x_(e,i,l,a);break t}else if(l!==f){f=xn(Error(s(424)),i),cl(f),i=x_(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ae=Un(e.firstChild),Fe=i,jt=!0,Pr=null,Ln=!0,a=Cy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Hs(),l===f){i=Xi(e,i,a);break t}$e(e,i,l,a)}i=i.child}return i;case 26:return bc(e,i),e===null?(a=Kv(i.type,null,i.pendingProps,null))?i.memoizedState=a:jt||(a=i.type,e=i.pendingProps,l=Bc(Rt.current).createElement(a),l[be]=i,l[Ue]=e,Ke(l,a,e),we(l),i.stateNode=l):i.memoizedState=Kv(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return jn(i),e===null&&jt&&(l=i.stateNode=Fv(i.type,i.pendingProps,Rt.current),Fe=i,Ln=!0,f=ae,Zr(i.type)?(fm=f,ae=Un(l.firstChild)):ae=f),$e(e,i,i.pendingProps.children,a),bc(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&jt&&((f=l=ae)&&(l=ow(l,i.type,i.pendingProps,Ln),l!==null?(i.stateNode=l,Fe=i,ae=Un(l.firstChild),Ln=!1,f=!0):f=!1),f||zr(i)),jn(i),f=i.type,d=i.pendingProps,_=e!==null?e.memoizedProps:null,l=d.children,om(f,d)?l=null:_!==null&&om(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=ad(e,i,S1,null,null,a),Ul._currentValue=f),bc(e,i),$e(e,i,l,a),i.child;case 6:return e===null&&jt&&((e=a=ae)&&(a=lw(a,i.pendingProps,Ln),a!==null?(i.stateNode=a,Fe=i,ae=null,e=!0):e=!1),e||zr(i)),null;case 13:return M_(e,i,a);case 4:return ge(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=Ys(i,null,l,a):$e(e,i,l,a),i.child;case 11:return b_(e,i,i.type,i.pendingProps,a);case 7:return $e(e,i,i.pendingProps,a),i.child;case 8:return $e(e,i,i.pendingProps.children,a),i.child;case 12:return $e(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,jr(i,i.type,l.value),$e(e,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,Gs(i),f=Ge(f),l=l(f),i.flags|=1,$e(e,i,l,a),i.child;case 14:return w_(e,i,i.type,i.pendingProps,a);case 15:return R_(e,i,i.type,i.pendingProps,a);case 19:return L_(e,i,a);case 31:return D1(e,i,a);case 22:return C_(e,i,a,i.pendingProps);case 24:return Gs(i),l=Ge(Ce),e===null?(f=Xf(),f===null&&(f=re,d=Qf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},Wf(i),jr(i,Ce,f)):((e.lanes&a)!==0&&(Zf(e,i),yl(i,null,null,a),gl()),f=e.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),jr(i,Ce,l)):(l=d.cache,jr(i,Ce,l),l!==f.cache&&Kf(i,[Ce],a,!0))),$e(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Ji(e){e.flags|=4}function Vd(e,i,a,l,f){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(uv())e.flags|=8192;else throw Qs=uc,Jf}else e.flags&=-16777217}function U_(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Wv(i))if(uv())e.flags|=8192;else throw Qs=uc,Jf}function Rc(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?xu():536870912,e.lanes|=i,Qa|=i)}function Al(e,i){if(!jt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function oe(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function x1(e,i,a){var l=i.pendingProps;switch(qf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oe(i),null;case 1:return oe(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ki(Ce),Wt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(La(i)?Ji(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ff())),oe(i),null;case 26:var f=i.type,d=i.memoizedState;return e===null?(Ji(i),d!==null?(oe(i),U_(i,d)):(oe(i),Vd(i,f,null,l,a))):d?d!==e.memoizedState?(Ji(i),oe(i),U_(i,d)):(oe(i),i.flags&=-16777217):(e=e.memoizedProps,e!==l&&Ji(i),oe(i),Vd(i,f,e,l,a)),null;case 27:if(wr(i),a=Rt.current,f=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Ji(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return oe(i),null}e=ot.current,La(i)?gy(i):(e=Fv(f,l,a),i.stateNode=e,Ji(i))}return oe(i),null;case 5:if(wr(i),f=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&Ji(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return oe(i),null}if(d=ot.current,La(i))gy(i);else{var _=Bc(Rt.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?_.createElement("select",{is:l.is}):_.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?_.createElement(f,{is:l.is}):_.createElement(f)}}d[be]=i,d[Ue]=l;t:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break t;for(;_.sibling===null;){if(_.return===null||_.return===i)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;t:switch(Ke(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Ji(i)}}return oe(i),Vd(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&Ji(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(e=Rt.current,La(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,f=Fe,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}e[be]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Mv(e.nodeValue,a)),e||zr(i,!0)}else e=Bc(e).createTextNode(l),e[be]=i,i.stateNode=e}return oe(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(l=La(i),a!==null){if(e===null){if(!l)throw Error(s(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[be]=i}else Hs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;oe(i),e=!1}else a=Ff(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(Tn(i),i):(Tn(i),null);if((i.flags&128)!==0)throw Error(s(558))}return oe(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=La(i),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[be]=i}else Hs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;oe(i),f=!1}else f=Ff(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(Tn(i),i):(Tn(i),null)}return Tn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),Rc(i,i.updateQueue),oe(i),null);case 4:return Wt(),e===null&&nm(i.stateNode.containerInfo),oe(i),null;case 10:return Ki(i.type),oe(i),null;case 19:if(X(ve),l=i.memoizedState,l===null)return oe(i),null;if(f=(i.flags&128)!==0,d=l.rendering,d===null)if(f)Al(l,!1);else{if(pe!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=dc(e),d!==null){for(i.flags|=128,Al(l,!1),e=d.updateQueue,i.updateQueue=e,Rc(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)hy(a,e),a=a.sibling;return st(ve,ve.current&1|2),jt&&Gi(i,l.treeForkCount),i.child}e=e.sibling}l.tail!==null&&rn()>Oc&&(i.flags|=128,f=!0,Al(l,!1),i.lanes=4194304)}else{if(!f)if(e=dc(d),e!==null){if(i.flags|=128,f=!0,e=e.updateQueue,i.updateQueue=e,Rc(i,e),Al(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!jt)return oe(i),null}else 2*rn()-l.renderingStartTime>Oc&&a!==536870912&&(i.flags|=128,f=!0,Al(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(e=l.last,e!==null?e.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=rn(),e.sibling=null,a=ve.current,st(ve,f?a&1|2:a&1),jt&&Gi(i,l.treeForkCount),e):(oe(i),null);case 22:case 23:return Tn(i),id(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(oe(i),i.subtreeFlags&6&&(i.flags|=8192)):oe(i),a=i.updateQueue,a!==null&&Rc(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&X($s),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ki(Ce),oe(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function M1(e,i){switch(qf(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return Ki(Ce),Wt(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return wr(i),null;case 31:if(i.memoizedState!==null){if(Tn(i),i.alternate===null)throw Error(s(340));Hs()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(Tn(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Hs()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return X(ve),null;case 4:return Wt(),null;case 10:return Ki(i.type),null;case 22:case 23:return Tn(i),id(),e!==null&&X($s),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return Ki(Ce),null;case 25:return null;default:return null}}function P_(e,i){switch(qf(i),i.tag){case 3:Ki(Ce),Wt();break;case 26:case 27:case 5:wr(i);break;case 4:Wt();break;case 31:i.memoizedState!==null&&Tn(i);break;case 13:Tn(i);break;case 19:X(ve);break;case 10:Ki(i.type);break;case 22:case 23:Tn(i),id(),e!==null&&X($s);break;case 24:Ki(Ce)}}function bl(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&e)===e){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(S){Jt(i,i.return,S)}}function $r(e,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&e)===e){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,f=i;var D=a,q=S;try{q()}catch(Y){Jt(f,D,Y)}}}l=l.next}while(l!==d)}}catch(Y){Jt(i,i.return,Y)}}function z_(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{Ny(i,a)}catch(l){Jt(e,e.return,l)}}}function j_(e,i,a){a.props=Js(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){Jt(e,i,l)}}function wl(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(f){Jt(e,i,f)}}function Ri(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Jt(e,i,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Jt(e,i,f)}else a.current=null}function B_(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Jt(e,e.return,f)}}function Ld(e,i,a){try{var l=e.stateNode;ew(l,e.type,a,i),l[Ue]=i}catch(f){Jt(e,e.return,f)}}function q_(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Zr(e.type)||e.tag===4}function kd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||q_(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Zr(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ud(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Gn));else if(l!==4&&(l===27&&Zr(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Ud(e,i,a),e=e.sibling;e!==null;)Ud(e,i,a),e=e.sibling}function Cc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&Zr(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Cc(e,i,a),e=e.sibling;e!==null;)Cc(e,i,a),e=e.sibling}function H_(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Ke(i,l,a),i[be]=e,i[Ue]=a}catch(d){Jt(e,e.return,d)}}var Wi=!1,De=!1,Pd=!1,F_=typeof WeakSet=="function"?WeakSet:Set,ze=null;function V1(e,i){if(e=e.containerInfo,sm=Qc,e=ny(e),Of(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var _=0,S=-1,D=-1,q=0,Y=0,Z=e,G=null;e:for(;;){for(var K;Z!==a||f!==0&&Z.nodeType!==3||(S=_+f),Z!==d||l!==0&&Z.nodeType!==3||(D=_+l),Z.nodeType===3&&(_+=Z.nodeValue.length),(K=Z.firstChild)!==null;)G=Z,Z=K;for(;;){if(Z===e)break e;if(G===a&&++q===f&&(S=_),G===d&&++Y===l&&(D=_),(K=Z.nextSibling)!==null)break;Z=G,G=Z.parentNode}Z=K}a=S===-1||D===-1?null:{start:S,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(am={focusedElem:e,selectionRange:a},Qc=!1,ze=i;ze!==null;)if(i=ze,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,ze=e;else for(;ze!==null;){switch(i=ze,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)f=e[a],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var dt=Js(a.type,f);e=l.getSnapshotBeforeUpdate(dt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(vt){Jt(a,a.return,vt)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)um(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":um(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=i.sibling,e!==null){e.return=i.return,ze=e;break}ze=i.return}}function G_(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:tr(e,a),l&4&&bl(5,a);break;case 1:if(tr(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(_){Jt(a,a.return,_)}else{var f=Js(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(f,i,e.__reactInternalSnapshotBeforeUpdate)}catch(_){Jt(a,a.return,_)}}l&64&&z_(a),l&512&&wl(a,a.return);break;case 3:if(tr(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Ny(e,i)}catch(_){Jt(a,a.return,_)}}break;case 27:i===null&&l&4&&H_(a);case 26:case 5:tr(e,a),i===null&&l&4&&B_(a),l&512&&wl(a,a.return);break;case 12:tr(e,a);break;case 31:tr(e,a),l&4&&Q_(e,a);break;case 13:tr(e,a),l&4&&Y_(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=H1.bind(null,a),uw(e,a))));break;case 22:if(l=a.memoizedState!==null||Wi,!l){i=i!==null&&i.memoizedState!==null||De,f=Wi;var d=De;Wi=l,(De=i)&&!d?er(e,a,(a.subtreeFlags&8772)!==0):tr(e,a),Wi=f,De=d}break;case 30:break;default:tr(e,a)}}function $_(e){var i=e.alternate;i!==null&&(e.alternate=null,$_(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&_a(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ce=null,cn=!1;function Zi(e,i,a){for(a=a.child;a!==null;)K_(e,i,a),a=a.sibling}function K_(e,i,a){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(Bn,a)}catch{}switch(a.tag){case 26:De||Ri(a,i),Zi(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:De||Ri(a,i);var l=ce,f=cn;Zr(a.type)&&(ce=a.stateNode,cn=!1),Zi(e,i,a),Vl(a.stateNode),ce=l,cn=f;break;case 5:De||Ri(a,i);case 6:if(l=ce,f=cn,ce=null,Zi(e,i,a),ce=l,cn=f,ce!==null)if(cn)try{(ce.nodeType===9?ce.body:ce.nodeName==="HTML"?ce.ownerDocument.body:ce).removeChild(a.stateNode)}catch(d){Jt(a,i,d)}else try{ce.removeChild(a.stateNode)}catch(d){Jt(a,i,d)}break;case 18:ce!==null&&(cn?(e=ce,zv(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),no(e)):zv(ce,a.stateNode));break;case 4:l=ce,f=cn,ce=a.stateNode.containerInfo,cn=!0,Zi(e,i,a),ce=l,cn=f;break;case 0:case 11:case 14:case 15:$r(2,a,i),De||$r(4,a,i),Zi(e,i,a);break;case 1:De||(Ri(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&j_(a,i,l)),Zi(e,i,a);break;case 21:Zi(e,i,a);break;case 22:De=(l=De)||a.memoizedState!==null,Zi(e,i,a),De=l;break;default:Zi(e,i,a)}}function Q_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{no(e)}catch(a){Jt(i,i.return,a)}}}function Y_(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{no(e)}catch(a){Jt(i,i.return,a)}}function L1(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new F_),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new F_),i;default:throw Error(s(435,e.tag))}}function Ic(e,i){var a=L1(e);i.forEach(function(l){if(!a.has(l)){a.add(l);var f=F1.bind(null,e,l);l.then(f,f)}})}function hn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=e,_=i,S=_;t:for(;S!==null;){switch(S.tag){case 27:if(Zr(S.type)){ce=S.stateNode,cn=!1;break t}break;case 5:ce=S.stateNode,cn=!1;break t;case 3:case 4:ce=S.stateNode.containerInfo,cn=!0;break t}S=S.return}if(ce===null)throw Error(s(160));K_(d,_,f),ce=null,cn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)X_(i,e),i=i.sibling}var Jn=null;function X_(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:hn(i,e),fn(e),l&4&&($r(3,e,e.return),bl(3,e),$r(5,e,e.return));break;case 1:hn(i,e),fn(e),l&512&&(De||a===null||Ri(a,a.return)),l&64&&Wi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Jn;if(hn(i,e),fn(e),l&512&&(De||a===null||Ri(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[fi]||d[be]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Ke(d,l,a),d[be]=e,we(d),l=d;break t;case"link":var _=Xv("link","href",f).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break e}}d=f.createElement(l),Ke(d,l,a),f.head.appendChild(d);break;case"meta":if(_=Xv("meta","content",f).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break e}}d=f.createElement(l),Ke(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[be]=e,we(d),l=d}e.stateNode=l}else Jv(f,e.type,e.stateNode);else e.stateNode=Yv(f,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Jv(f,e.type,e.stateNode):Yv(f,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Ld(e,e.memoizedProps,a.memoizedProps)}break;case 27:hn(i,e),fn(e),l&512&&(De||a===null||Ri(a,a.return)),a!==null&&l&4&&Ld(e,e.memoizedProps,a.memoizedProps);break;case 5:if(hn(i,e),fn(e),l&512&&(De||a===null||Ri(a,a.return)),e.flags&32){f=e.stateNode;try{un(f,"")}catch(dt){Jt(e,e.return,dt)}}l&4&&e.stateNode!=null&&(f=e.memoizedProps,Ld(e,f,a!==null?a.memoizedProps:f)),l&1024&&(Pd=!0);break;case 6:if(hn(i,e),fn(e),l&4){if(e.stateNode===null)throw Error(s(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(dt){Jt(e,e.return,dt)}}break;case 3:if(Fc=null,f=Jn,Jn=qc(i.containerInfo),hn(i,e),Jn=f,fn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{no(i.containerInfo)}catch(dt){Jt(e,e.return,dt)}Pd&&(Pd=!1,J_(e));break;case 4:l=Jn,Jn=qc(e.stateNode.containerInfo),hn(i,e),fn(e),Jn=l;break;case 12:hn(i,e),fn(e);break;case 31:hn(i,e),fn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ic(e,l)));break;case 13:hn(i,e),fn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Dc=rn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ic(e,l)));break;case 22:f=e.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,q=Wi,Y=De;if(Wi=q||f,De=Y||D,hn(i,e),De=Y,Wi=q,fn(e),l&8192)t:for(i=e.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||D||Wi||De||Ws(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){D=a=i;try{if(d=D.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=D.stateNode;var Z=D.memoizedProps.style,G=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;S.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(dt){Jt(D,D.return,dt)}}}else if(i.tag===6){if(a===null){D=i;try{D.stateNode.nodeValue=f?"":D.memoizedProps}catch(dt){Jt(D,D.return,dt)}}}else if(i.tag===18){if(a===null){D=i;try{var K=D.stateNode;f?jv(K,!0):jv(D.stateNode,!1)}catch(dt){Jt(D,D.return,dt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ic(e,a))));break;case 19:hn(i,e),fn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ic(e,l)));break;case 30:break;case 21:break;default:hn(i,e),fn(e)}}function fn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(q_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=kd(e);Cc(e,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(un(_,""),a.flags&=-33);var S=kd(e);Cc(e,S,_);break;case 3:case 4:var D=a.stateNode.containerInfo,q=kd(e);Ud(e,q,D);break;default:throw Error(s(161))}}catch(Y){Jt(e,e.return,Y)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function J_(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;J_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function tr(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)G_(e,i.alternate,i),i=i.sibling}function Ws(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:$r(4,i,i.return),Ws(i);break;case 1:Ri(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&j_(i,i.return,a),Ws(i);break;case 27:Vl(i.stateNode);case 26:case 5:Ri(i,i.return),Ws(i);break;case 22:i.memoizedState===null&&Ws(i);break;case 30:Ws(i);break;default:Ws(i)}e=e.sibling}}function er(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=e,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:er(f,d,a),bl(4,d);break;case 1:if(er(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(q){Jt(l,l.return,q)}if(l=d,f=l.updateQueue,f!==null){var S=l.stateNode;try{var D=f.shared.hiddenCallbacks;if(D!==null)for(f.shared.hiddenCallbacks=null,f=0;f<D.length;f++)Iy(D[f],S)}catch(q){Jt(l,l.return,q)}}a&&_&64&&z_(d),wl(d,d.return);break;case 27:H_(d);case 26:case 5:er(f,d,a),a&&l===null&&_&4&&B_(d),wl(d,d.return);break;case 12:er(f,d,a);break;case 31:er(f,d,a),a&&_&4&&Q_(f,d);break;case 13:er(f,d,a),a&&_&4&&Y_(f,d);break;case 22:d.memoizedState===null&&er(f,d,a),wl(d,d.return);break;case 30:break;default:er(f,d,a)}i=i.sibling}}function zd(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&hl(a))}function jd(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&hl(e))}function Wn(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)W_(e,i,a,l),i=i.sibling}function W_(e,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Wn(e,i,a,l),f&2048&&bl(9,i);break;case 1:Wn(e,i,a,l);break;case 3:Wn(e,i,a,l),f&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&hl(e)));break;case 12:if(f&2048){Wn(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(D){Jt(i,i.return,D)}}else Wn(e,i,a,l);break;case 31:Wn(e,i,a,l);break;case 13:Wn(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Wn(e,i,a,l):Rl(e,i):d._visibility&2?Wn(e,i,a,l):(d._visibility|=2,Ga(e,i,a,l,(i.subtreeFlags&10256)!==0||!1)),f&2048&&zd(_,i);break;case 24:Wn(e,i,a,l),f&2048&&jd(i.alternate,i);break;default:Wn(e,i,a,l)}}function Ga(e,i,a,l,f){for(f=f&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,_=i,S=a,D=l,q=_.flags;switch(_.tag){case 0:case 11:case 15:Ga(d,_,S,D,f),bl(8,_);break;case 23:break;case 22:var Y=_.stateNode;_.memoizedState!==null?Y._visibility&2?Ga(d,_,S,D,f):Rl(d,_):(Y._visibility|=2,Ga(d,_,S,D,f)),f&&q&2048&&zd(_.alternate,_);break;case 24:Ga(d,_,S,D,f),f&&q&2048&&jd(_.alternate,_);break;default:Ga(d,_,S,D,f)}i=i.sibling}}function Rl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,f=l.flags;switch(l.tag){case 22:Rl(a,l),f&2048&&zd(l.alternate,l);break;case 24:Rl(a,l),f&2048&&jd(l.alternate,l);break;default:Rl(a,l)}i=i.sibling}}var Cl=8192;function $a(e,i,a){if(e.subtreeFlags&Cl)for(e=e.child;e!==null;)Z_(e,i,a),e=e.sibling}function Z_(e,i,a){switch(e.tag){case 26:$a(e,i,a),e.flags&Cl&&e.memoizedState!==null&&Tw(a,Jn,e.memoizedState,e.memoizedProps);break;case 5:$a(e,i,a);break;case 3:case 4:var l=Jn;Jn=qc(e.stateNode.containerInfo),$a(e,i,a),Jn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Cl,Cl=16777216,$a(e,i,a),Cl=l):$a(e,i,a));break;default:$a(e,i,a)}}function tv(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Il(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];ze=l,nv(l,e)}tv(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ev(e),e=e.sibling}function ev(e){switch(e.tag){case 0:case 11:case 15:Il(e),e.flags&2048&&$r(9,e,e.return);break;case 3:Il(e);break;case 12:Il(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,Nc(e)):Il(e);break;default:Il(e)}}function Nc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];ze=l,nv(l,e)}tv(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:$r(8,i,i.return),Nc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Nc(i));break;default:Nc(i)}e=e.sibling}}function nv(e,i){for(;ze!==null;){var a=ze;switch(a.tag){case 0:case 11:case 15:$r(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:hl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,ze=l;else t:for(a=e;ze!==null;){l=ze;var f=l.sibling,d=l.return;if($_(l),l===a){ze=null;break t}if(f!==null){f.return=d,ze=f;break t}ze=d}}}var k1={getCacheForType:function(e){var i=Ge(Ce),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return Ge(Ce).controller.signal}},U1=typeof WeakMap=="function"?WeakMap:Map,$t=0,re=null,xt=null,Lt=0,Xt=0,Sn=null,Kr=!1,Ka=!1,Bd=!1,nr=0,pe=0,Qr=0,Zs=0,qd=0,An=0,Qa=0,Nl=null,dn=null,Hd=!1,Dc=0,iv=0,Oc=1/0,xc=null,Yr=null,Le=0,Xr=null,Ya=null,ir=0,Fd=0,Gd=null,rv=null,Dl=0,$d=null;function bn(){return($t&2)!==0&&Lt!==0?Lt&-Lt:Q.T!==null?Wd():Mu()}function sv(){if(An===0)if((Lt&536870912)===0||jt){var e=Rs;Rs<<=1,(Rs&3932160)===0&&(Rs=262144),An=e}else An=536870912;return e=En.current,e!==null&&(e.flags|=32),An}function mn(e,i,a){(e===re&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)&&(Xa(e,0),Jr(e,Lt,An,!1)),Cs(e,a),(($t&2)===0||e!==re)&&(e===re&&(($t&2)===0&&(Zs|=a),pe===4&&Jr(e,Lt,An,!1)),Ci(e))}function av(e,i,a){if(($t&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&e.expiredLanes)===0||qn(e,i),f=l?j1(e,i):Qd(e,i,!0),d=l;do{if(f===0){Ka&&!l&&Jr(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!P1(a)){f=Qd(e,i,!1),d=!1;continue}if(f===2){if(d=i,e.errorRecoveryDisabledLanes&d)var _=0;else _=e.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;t:{var S=e;f=Nl;var D=S.current.memoizedState.isDehydrated;if(D&&(Xa(S,_).flags|=256),_=Qd(S,_,!1),_!==2){if(Bd&&!D){S.errorRecoveryDisabledLanes|=d,Zs|=d,f=4;break t}d=dn,dn=f,d!==null&&(dn===null?dn=d:dn.push.apply(dn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){Xa(e,0),Jr(e,i,0,!0);break}t:{switch(l=e,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Jr(l,i,An,!Kr);break t;case 2:dn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=Dc+300-rn(),10<f)){if(Jr(l,i,An,!Kr),ui(l,0,!0)!==0)break t;ir=i,l.timeoutHandle=Uv(ov.bind(null,l,a,dn,xc,Hd,i,An,Zs,Qa,Kr,d,"Throttled",-0,0),f);break t}ov(l,a,dn,xc,Hd,i,An,Zs,Qa,Kr,d,null,-0,0)}}break}while(!0);Ci(e)}function ov(e,i,a,l,f,d,_,S,D,q,Y,Z,G,K){if(e.timeoutHandle=-1,Z=i.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gn},Z_(i,d,Z);var dt=(d&62914560)===d?Dc-rn():(d&4194048)===d?iv-rn():0;if(dt=Sw(Z,dt),dt!==null){ir=d,e.cancelPendingCommit=dt(pv.bind(null,e,i,d,a,l,f,_,S,D,Y,Z,null,G,K)),Jr(e,d,_,!q);return}}pv(e,i,d,a,l,f,_,S,D)}function P1(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!_n(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Jr(e,i,a,l){i&=~qd,i&=~Zs,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var f=i;0<f;){var d=31-ye(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&Is(e,a,i)}function Mc(){return($t&6)===0?(Ol(0),!1):!0}function Kd(){if(xt!==null){if(Xt===0)var e=xt.return;else e=xt,$i=Fs=null,ud(e),ja=null,dl=0,e=xt;for(;e!==null;)P_(e.alternate,e),e=e.return;xt=null}}function Xa(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,rw(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ir=0,Kd(),re=e,xt=a=Fi(e.current,null),Lt=i,Xt=0,Sn=null,Kr=!1,Ka=qn(e,i),Bd=!1,Qa=An=qd=Zs=Qr=pe=0,dn=Nl=null,Hd=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var f=31-ye(l),d=1<<f;i|=e[f],l&=~d}return nr=i,tc(),a}function lv(e,i){It=null,Q.H=Tl,i===za||i===lc?(i=by(),Xt=3):i===Jf?(i=by(),Xt=4):Xt=i===wd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Sn=i,xt===null&&(pe=1,Sc(e,xn(i,e.current)))}function uv(){var e=En.current;return e===null?!0:(Lt&4194048)===Lt?kn===null:(Lt&62914560)===Lt||(Lt&536870912)!==0?e===kn:!1}function cv(){var e=Q.H;return Q.H=Tl,e===null?Tl:e}function hv(){var e=Q.A;return Q.A=k1,e}function Vc(){pe=4,Kr||(Lt&4194048)!==Lt&&En.current!==null||(Ka=!0),(Qr&134217727)===0&&(Zs&134217727)===0||re===null||Jr(re,Lt,An,!1)}function Qd(e,i,a){var l=$t;$t|=2;var f=cv(),d=hv();(re!==e||Lt!==i)&&(xc=null,Xa(e,i)),i=!1;var _=pe;t:do try{if(Xt!==0&&xt!==null){var S=xt,D=Sn;switch(Xt){case 8:Kd(),_=6;break t;case 3:case 2:case 9:case 6:En.current===null&&(i=!0);var q=Xt;if(Xt=0,Sn=null,Ja(e,S,D,q),a&&Ka){_=0;break t}break;default:q=Xt,Xt=0,Sn=null,Ja(e,S,D,q)}}z1(),_=pe;break}catch(Y){lv(e,Y)}while(!0);return i&&e.shellSuspendCounter++,$i=Fs=null,$t=l,Q.H=f,Q.A=d,xt===null&&(re=null,Lt=0,tc()),_}function z1(){for(;xt!==null;)fv(xt)}function j1(e,i){var a=$t;$t|=2;var l=cv(),f=hv();re!==e||Lt!==i?(xc=null,Oc=rn()+500,Xa(e,i)):Ka=qn(e,i);t:do try{if(Xt!==0&&xt!==null){i=xt;var d=Sn;e:switch(Xt){case 1:Xt=0,Sn=null,Ja(e,i,d,1);break;case 2:case 9:if(Sy(d)){Xt=0,Sn=null,dv(i);break}i=function(){Xt!==2&&Xt!==9||re!==e||(Xt=7),Ci(e)},d.then(i,i);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:Sy(d)?(Xt=0,Sn=null,dv(i)):(Xt=0,Sn=null,Ja(e,i,d,7));break;case 5:var _=null;switch(xt.tag){case 26:_=xt.memoizedState;case 5:case 27:var S=xt;if(_?Wv(_):S.stateNode.complete){Xt=0,Sn=null;var D=S.sibling;if(D!==null)xt=D;else{var q=S.return;q!==null?(xt=q,Lc(q)):xt=null}break e}}Xt=0,Sn=null,Ja(e,i,d,5);break;case 6:Xt=0,Sn=null,Ja(e,i,d,6);break;case 8:Kd(),pe=6;break t;default:throw Error(s(462))}}B1();break}catch(Y){lv(e,Y)}while(!0);return $i=Fs=null,Q.H=l,Q.A=f,$t=a,xt!==null?0:(re=null,Lt=0,tc(),pe)}function B1(){for(;xt!==null&&!bf();)fv(xt)}function fv(e){var i=k_(e.alternate,e,nr);e.memoizedProps=e.pendingProps,i===null?Lc(e):xt=i}function dv(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=D_(a,i,i.pendingProps,i.type,void 0,Lt);break;case 11:i=D_(a,i,i.pendingProps,i.type.render,i.ref,Lt);break;case 5:ud(i);default:P_(a,i),i=xt=hy(i,nr),i=k_(a,i,nr)}e.memoizedProps=e.pendingProps,i===null?Lc(e):xt=i}function Ja(e,i,a,l){$i=Fs=null,ud(i),ja=null,dl=0;var f=i.return;try{if(N1(e,f,i,a,Lt)){pe=1,Sc(e,xn(a,e.current)),xt=null;return}}catch(d){if(f!==null)throw xt=f,d;pe=1,Sc(e,xn(a,e.current)),xt=null;return}i.flags&32768?(jt||l===1?e=!0:Ka||(Lt&536870912)!==0?e=!1:(Kr=e=!0,(l===2||l===9||l===3||l===6)&&(l=En.current,l!==null&&l.tag===13&&(l.flags|=16384))),mv(i,e)):Lc(i)}function Lc(e){var i=e;do{if((i.flags&32768)!==0){mv(i,Kr);return}e=i.return;var a=x1(i.alternate,i,nr);if(a!==null){xt=a;return}if(i=i.sibling,i!==null){xt=i;return}xt=i=e}while(i!==null);pe===0&&(pe=5)}function mv(e,i){do{var a=M1(e.alternate,e);if(a!==null){a.flags&=32767,xt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){xt=e;return}xt=e=a}while(e!==null);pe=6,xt=null}function pv(e,i,a,l,f,d,_,S,D){e.cancelPendingCommit=null;do kc();while(Le!==0);if(($t&6)!==0)throw Error(s(327));if(i!==null){if(i===e.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=kf,Cf(e,a,d,_,S,D),e===re&&(xt=re=null,Lt=0),Ya=i,Xr=e,ir=a,Fd=d,Gd=f,rv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,G1(Cr,function(){return Ev(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,f=rt.p,rt.p=2,_=$t,$t|=4;try{V1(e,i,a)}finally{$t=_,rt.p=f,Q.T=l}}Le=1,gv(),yv(),_v()}}function gv(){if(Le===1){Le=0;var e=Xr,i=Ya,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=rt.p;rt.p=2;var f=$t;$t|=4;try{X_(i,e);var d=am,_=ny(e.containerInfo),S=d.focusedElem,D=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&ey(S.ownerDocument.documentElement,S)){if(D!==null&&Of(S)){var q=D.start,Y=D.end;if(Y===void 0&&(Y=q),"selectionStart"in S)S.selectionStart=q,S.selectionEnd=Math.min(Y,S.value.length);else{var Z=S.ownerDocument||document,G=Z&&Z.defaultView||window;if(G.getSelection){var K=G.getSelection(),dt=S.textContent.length,vt=Math.min(D.start,dt),ne=D.end===void 0?vt:Math.min(D.end,dt);!K.extend&&vt>ne&&(_=ne,ne=vt,vt=_);var U=ty(S,vt),M=ty(S,ne);if(U&&M&&(K.rangeCount!==1||K.anchorNode!==U.node||K.anchorOffset!==U.offset||K.focusNode!==M.node||K.focusOffset!==M.offset)){var B=Z.createRange();B.setStart(U.node,U.offset),K.removeAllRanges(),vt>ne?(K.addRange(B),K.extend(M.node,M.offset)):(B.setEnd(M.node,M.offset),K.addRange(B))}}}}for(Z=[],K=S;K=K.parentNode;)K.nodeType===1&&Z.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<Z.length;S++){var J=Z[S];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Qc=!!sm,am=sm=null}finally{$t=f,rt.p=l,Q.T=a}}e.current=i,Le=2}}function yv(){if(Le===2){Le=0;var e=Xr,i=Ya,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=rt.p;rt.p=2;var f=$t;$t|=4;try{G_(e,i.alternate,i)}finally{$t=f,rt.p=l,Q.T=a}}Le=3}}function _v(){if(Le===4||Le===3){Le=0,Ru();var e=Xr,i=Ya,a=ir,l=rv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Le=5:(Le=0,Ya=Xr=null,vv(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Yr=null),ji(a),i=i.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(Bn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Q.T,f=rt.p,rt.p=2,Q.T=null;try{for(var d=e.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{Q.T=i,rt.p=f}}(ir&3)!==0&&kc(),Ci(e),f=e.pendingLanes,(a&261930)!==0&&(f&42)!==0?e===$d?Dl++:(Dl=0,$d=e):Dl=0,Ol(0)}}function vv(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,hl(i)))}function kc(){return gv(),yv(),_v(),Ev()}function Ev(){if(Le!==5)return!1;var e=Xr,i=Fd;Fd=0;var a=ji(ir),l=Q.T,f=rt.p;try{rt.p=32>a?32:a,Q.T=null,a=Gd,Gd=null;var d=Xr,_=ir;if(Le=0,Ya=Xr=null,ir=0,($t&6)!==0)throw Error(s(331));var S=$t;if($t|=4,ev(d.current),W_(d,d.current,_,a),$t=S,Ol(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(Bn,d)}catch{}return!0}finally{rt.p=f,Q.T=l,vv(e,i)}}function Tv(e,i,a){i=xn(a,i),i=bd(e.stateNode,i,2),e=Hr(e,i,2),e!==null&&(Cs(e,2),Ci(e))}function Jt(e,i,a){if(e.tag===3)Tv(e,e,a);else for(;i!==null;){if(i.tag===3){Tv(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Yr===null||!Yr.has(l))){e=xn(a,e),a=S_(2),l=Hr(i,a,2),l!==null&&(A_(a,l,i,e),Cs(l,2),Ci(l));break}}i=i.return}}function Yd(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new U1;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(Bd=!0,f.add(a),e=q1.bind(null,e,i,a),i.then(e,e))}function q1(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,re===e&&(Lt&a)===a&&(pe===4||pe===3&&(Lt&62914560)===Lt&&300>rn()-Dc?($t&2)===0&&Xa(e,0):qd|=a,Qa===Lt&&(Qa=0)),Ci(e)}function Sv(e,i){i===0&&(i=xu()),e=Bs(e,i),e!==null&&(Cs(e,i),Ci(e))}function H1(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),Sv(e,a)}function F1(e,i){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Sv(e,a)}function G1(e,i){return Ve(e,i)}var Uc=null,Wa=null,Xd=!1,Pc=!1,Jd=!1,Wr=0;function Ci(e){e!==Wa&&e.next===null&&(Wa===null?Uc=Wa=e:Wa=Wa.next=e),Pc=!0,Xd||(Xd=!0,K1())}function Ol(e,i){if(!Jd&&Pc){Jd=!0;do for(var a=!1,l=Uc;l!==null;){if(e!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-ye(42|e)+1)-1,d&=f&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Rv(l,d))}else d=Lt,d=ui(l,l===re?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||qn(l,d)||(a=!0,Rv(l,d));l=l.next}while(a);Jd=!1}}function $1(){Av()}function Av(){Pc=Xd=!1;var e=0;Wr!==0&&iw()&&(e=Wr);for(var i=rn(),a=null,l=Uc;l!==null;){var f=l.next,d=bv(l,i);d===0?(l.next=null,a===null?Uc=f:a.next=f,f===null&&(Wa=a)):(a=l,(e!==0||(d&3)!==0)&&(Pc=!0)),l=f}Le!==0&&Le!==5||Ol(e),Wr!==0&&(Wr=0)}function bv(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var _=31-ye(d),S=1<<_,D=f[_];D===-1?((S&a)===0||(S&l)!==0)&&(f[_]=Rf(S,i)):D<=i&&(e.expiredLanes|=S),d&=~S}if(i=re,a=Lt,a=ui(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Rr(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||qn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&Rr(l),ji(a)){case 2:case 8:a=Bo;break;case 32:a=Cr;break;case 268435456:a=Cu;break;default:a=Cr}return l=wv.bind(null,e),a=Ve(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&Rr(l),e.callbackPriority=2,e.callbackNode=null,2}function wv(e,i){if(Le!==0&&Le!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(kc()&&e.callbackNode!==a)return null;var l=Lt;return l=ui(e,e===re?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(av(e,l,i),bv(e,rn()),e.callbackNode!=null&&e.callbackNode===a?wv.bind(null,e):null)}function Rv(e,i){if(kc())return null;av(e,i,!0)}function K1(){sw(function(){($t&6)!==0?Ve(jo,$1):Av()})}function Wd(){if(Wr===0){var e=Ua;e===0&&(e=oi,oi<<=1,(oi&261888)===0&&(oi=256)),Wr=e}return Wr}function Cv(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Sa(""+e)}function Iv(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function Q1(e,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=Cv((f[Ue]||null).action),_=l.submitter;_&&(i=(i=_[Ue]||null)?Cv(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var S=new Ei("action","action",null,l,f);e.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Wr!==0){var D=_?Iv(f,_):new FormData(f);_d(a,{pending:!0,data:D,method:f.method,action:d},null,D)}}else typeof d=="function"&&(S.preventDefault(),D=_?Iv(f,_):new FormData(f),_d(a,{pending:!0,data:D,method:f.method,action:d},d,D))},currentTarget:f}]})}}for(var Zd=0;Zd<Lf.length;Zd++){var tm=Lf[Zd],Y1=tm.toLowerCase(),X1=tm[0].toUpperCase()+tm.slice(1);Xn(Y1,"on"+X1)}Xn(sy,"onAnimationEnd"),Xn(ay,"onAnimationIteration"),Xn(oy,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(f1,"onTransitionRun"),Xn(d1,"onTransitionStart"),Xn(m1,"onTransitionCancel"),Xn(ly,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),J1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xl));function Nv(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],f=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var _=l.length-1;0<=_;_--){var S=l[_],D=S.instance,q=S.currentTarget;if(S=S.listener,D!==d&&f.isPropagationStopped())break t;d=S,f.currentTarget=q;try{d(f)}catch(Y){Zu(Y)}f.currentTarget=null,d=D}else for(_=0;_<l.length;_++){if(S=l[_],D=S.instance,q=S.currentTarget,S=S.listener,D!==d&&f.isPropagationStopped())break t;d=S,f.currentTarget=q;try{d(f)}catch(Y){Zu(Y)}f.currentTarget=null,d=D}}}}function Mt(e,i){var a=i[ya];a===void 0&&(a=i[ya]=new Set);var l=e+"__bubble";a.has(l)||(Dv(i,e,2,!1),a.add(l))}function em(e,i,a){var l=0;i&&(l|=4),Dv(a,e,l,i)}var zc="_reactListening"+Math.random().toString(36).slice(2);function nm(e){if(!e[zc]){e[zc]=!0,Fo.forEach(function(a){a!=="selectionchange"&&(J1.has(a)||em(a,!1,e),em(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[zc]||(i[zc]=!0,em("selectionchange",!1,i))}}function Dv(e,i,a,l){switch(sE(i)){case 2:var f=ww;break;case 8:f=Rw;break;default:f=ym}a=f.bind(null,i,a,e),f=void 0,!Ms||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?e.addEventListener(i,a,{capture:!0,passive:f}):e.addEventListener(i,a,!0):f!==void 0?e.addEventListener(i,a,{passive:f}):e.addEventListener(i,a,!1)}function im(e,i,a,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===f)break;if(_===4)for(_=l.return;_!==null;){var D=_.tag;if((D===3||D===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;S!==null;){if(_=di(S),_===null)return;if(D=_.tag,D===5||D===6||D===26||D===27){l=d=_;continue t}S=S.parentNode}}l=l.return}Mr(function(){var q=d,Y=In(a),Z=[];t:{var G=uy.get(e);if(G!==void 0){var K=Ei,dt=e;switch(e){case"keypress":if(Ls(a)===0)break t;case"keydown":case"keyup":K=Xu;break;case"focusin":dt="focus",K=Us;break;case"focusout":dt="blur",K=Us;break;case"beforeblur":case"afterblur":K=Us;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=il;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Bu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=y;break;case sy:case ay:case oy:K=Hu;break;case ly:K=A;break;case"scroll":case"scrollend":K=nl;break;case"wheel":K=$;break;case"copy":case"cut":case"paste":K=Fu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Hi;break;case"toggle":case"beforetoggle":K=Ct}var vt=(i&4)!==0,ne=!vt&&(e==="scroll"||e==="scrollend"),U=vt?G!==null?G+"Capture":null:G;vt=[];for(var M=q,B;M!==null;){var J=M;if(B=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||B===null||U===null||(J=$n(M,U),J!=null&&vt.push(Ml(M,J,B))),ne)break;M=M.return}0<vt.length&&(G=new K(G,dt,null,a,Y),Z.push({event:G,listeners:vt}))}}if((i&7)===0){t:{if(G=e==="mouseover"||e==="pointerover",K=e==="mouseout"||e==="pointerout",G&&a!==Zo&&(dt=a.relatedTarget||a.fromElement)&&(di(dt)||dt[hi]))break t;if((K||G)&&(G=Y.window===Y?Y:(G=Y.ownerDocument)?G.defaultView||G.parentWindow:window,K?(dt=a.relatedTarget||a.toElement,K=q,dt=dt?di(dt):null,dt!==null&&(ne=u(dt),vt=dt.tag,dt!==ne||vt!==5&&vt!==27&&vt!==6)&&(dt=null)):(K=null,dt=q),K!==dt)){if(vt=il,J="onMouseLeave",U="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(vt=Hi,J="onPointerLeave",U="onPointerEnter",M="pointer"),ne=K==null?G:gn(K),B=dt==null?G:gn(dt),G=new vt(J,M+"leave",K,a,Y),G.target=ne,G.relatedTarget=B,J=null,di(Y)===q&&(vt=new vt(U,M+"enter",dt,a,Y),vt.target=B,vt.relatedTarget=ne,J=vt),ne=J,K&&dt)e:{for(vt=W1,U=K,M=dt,B=0,J=U;J;J=vt(J))B++;J=0;for(var gt=M;gt;gt=vt(gt))J++;for(;0<B-J;)U=vt(U),B--;for(;0<J-B;)M=vt(M),J--;for(;B--;){if(U===M||M!==null&&U===M.alternate){vt=U;break e}U=vt(U),M=vt(M)}vt=null}else vt=null;K!==null&&Ov(Z,G,K,vt,!1),dt!==null&&ne!==null&&Ov(Z,ne,dt,vt,!0)}}t:{if(G=q?gn(q):window,K=G.nodeName&&G.nodeName.toLowerCase(),K==="select"||K==="input"&&G.type==="file")var Ht=Qg;else if($g(G))if(Yg)Ht=u1;else{Ht=o1;var mt=a1}else K=G.nodeName,!K||K.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?q&&Ta(q.elementType)&&(Ht=Qg):Ht=l1;if(Ht&&(Ht=Ht(e,q))){Kg(Z,Ht,a,Y);break t}mt&&mt(e,G,q),e==="focusout"&&q&&G.type==="number"&&q.memoizedProps.value!=null&&Xo(G,"number",G.value)}switch(mt=q?gn(q):window,e){case"focusin":($g(mt)||mt.contentEditable==="true")&&(Na=mt,xf=q,ll=null);break;case"focusout":ll=xf=Na=null;break;case"mousedown":Mf=!0;break;case"contextmenu":case"mouseup":case"dragend":Mf=!1,iy(Z,a,Y);break;case"selectionchange":if(h1)break;case"keydown":case"keyup":iy(Z,a,Y)}var Nt;if(Gt)t:{switch(e){case"compositionstart":var kt="onCompositionStart";break t;case"compositionend":kt="onCompositionEnd";break t;case"compositionupdate":kt="onCompositionUpdate";break t}kt=void 0}else Ia?Ps(e,a)&&(kt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(kt="onCompositionStart");kt&&(Ai&&a.locale!=="ko"&&(Ia||kt!=="onCompositionStart"?kt==="onCompositionEnd"&&Ia&&(Nt=el()):(vi=Y,tl="value"in vi?vi.value:vi.textContent,Ia=!0)),mt=jc(q,kt),0<mt.length&&(kt=new Si(kt,e,null,a,Y),Z.push({event:kt,listeners:mt}),Nt?kt.data=Nt:(Nt=Ca(a),Nt!==null&&(kt.data=Nt)))),(Nt=Dn?n1(e,a):i1(e,a))&&(kt=jc(q,"onBeforeInput"),0<kt.length&&(mt=new Si("onBeforeInput","beforeinput",null,a,Y),Z.push({event:mt,listeners:kt}),mt.data=Nt)),Q1(Z,e,q,a,Y)}Nv(Z,i)})}function Ml(e,i,a){return{instance:e,listener:i,currentTarget:a}}function jc(e,i){for(var a=i+"Capture",l=[];e!==null;){var f=e,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=$n(e,a),f!=null&&l.unshift(Ml(e,f,d)),f=$n(e,i),f!=null&&l.push(Ml(e,f,d))),e.tag===3)return l;e=e.return}return[]}function W1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Ov(e,i,a,l,f){for(var d=i._reactName,_=[];a!==null&&a!==l;){var S=a,D=S.alternate,q=S.stateNode;if(S=S.tag,D!==null&&D===l)break;S!==5&&S!==26&&S!==27||q===null||(D=q,f?(q=$n(a,d),q!=null&&_.unshift(Ml(a,q,D))):f||(q=$n(a,d),q!=null&&_.push(Ml(a,q,D)))),a=a.return}_.length!==0&&e.push({event:i,listeners:_})}var Z1=/\r\n?/g,tw=/\u0000|\uFFFD/g;function xv(e){return(typeof e=="string"?e:""+e).replace(Z1,`
`).replace(tw,"")}function Mv(e,i){return i=xv(i),xv(e)===i}function ee(e,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||un(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&un(e,""+l);break;case"className":yn(e,"class",l);break;case"tabIndex":yn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":yn(e,a,l);break;case"style":Wo(e,l,d);break;case"data":if(i!=="object"){yn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Sa(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&ee(e,i,"name",f.name,f,null),ee(e,i,"formEncType",f.formEncType,f,null),ee(e,i,"formMethod",f.formMethod,f,null),ee(e,i,"formTarget",f.formTarget,f,null)):(ee(e,i,"encType",f.encType,f,null),ee(e,i,"method",f.method,f,null),ee(e,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Sa(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Gn);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Sa(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Mt("beforetoggle",e),Mt("toggle",e),va(e,"popover",l);break;case"xlinkActuate":Re(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Re(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Re(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Re(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Re(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Re(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Re(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Re(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Re(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":va(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ju.get(a)||a,va(e,a,l))}}function rm(e,i,a,l,f,d){switch(a){case"style":Wo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof l=="string"?un(e,l):(typeof l=="number"||typeof l=="bigint")&&un(e,""+l);break;case"onScroll":l!=null&&Mt("scroll",e);break;case"onScrollEnd":l!=null&&Mt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Go.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=e[Ue]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,f);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):va(e,a,l)}}}function Ke(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",e),Mt("load",e);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ee(e,i,d,_,a,null)}}f&&ee(e,i,"srcSet",a.srcSet,a,null),l&&ee(e,i,"src",a.src,a,null);return;case"input":Mt("invalid",e);var S=d=_=f=null,D=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":f=Y;break;case"type":_=Y;break;case"checked":D=Y;break;case"defaultChecked":q=Y;break;case"value":d=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:ee(e,i,l,Y,a,null)}}Uu(e,d,S,D,q,_,f,!1);return;case"select":Mt("invalid",e),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:ee(e,i,f,S,a,null)}i=d,a=_,e.multiple=!!l,i!=null?Nr(e,!!l,i,!1):a!=null&&Nr(e,!!l,a,!0);return;case"textarea":Mt("invalid",e),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":f=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:ee(e,i,_,S,a,null)}Dr(e,l,f,d);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:ee(e,i,D,l,a,null)}return;case"dialog":Mt("beforetoggle",e),Mt("toggle",e),Mt("cancel",e),Mt("close",e);break;case"iframe":case"object":Mt("load",e);break;case"video":case"audio":for(l=0;l<xl.length;l++)Mt(xl[l],e);break;case"image":Mt("error",e),Mt("load",e);break;case"details":Mt("toggle",e);break;case"embed":case"source":case"link":Mt("error",e),Mt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:ee(e,i,q,l,a,null)}return;default:if(Ta(i)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&rm(e,i,Y,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&ee(e,i,S,l,a,null))}function ew(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,S=null,D=null,q=null,Y=null;for(K in a){var Z=a[K];if(a.hasOwnProperty(K)&&Z!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":D=Z;default:l.hasOwnProperty(K)||ee(e,i,K,null,l,Z)}}for(var G in l){var K=l[G];if(Z=a[G],l.hasOwnProperty(G)&&(K!=null||Z!=null))switch(G){case"type":d=K;break;case"name":f=K;break;case"checked":q=K;break;case"defaultChecked":Y=K;break;case"value":_=K;break;case"defaultValue":S=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:K!==Z&&ee(e,i,G,K,l,Z)}}Ea(e,_,S,D,q,Y,d,f);return;case"select":K=_=S=G=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":K=D;default:l.hasOwnProperty(d)||ee(e,i,d,null,l,D)}for(f in l)if(d=l[f],D=a[f],l.hasOwnProperty(f)&&(d!=null||D!=null))switch(f){case"value":G=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==D&&ee(e,i,f,d,l,D)}i=S,a=_,l=K,G!=null?Nr(e,!!a,G,!1):!!l!=!!a&&(i!=null?Nr(e,!!a,i,!0):Nr(e,!!a,a?[]:"",!1));return;case"textarea":K=G=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:ee(e,i,S,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":G=f;break;case"defaultValue":K=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&ee(e,i,_,f,l,d)}Pu(e,G,K);return;case"option":for(var dt in a)if(G=a[dt],a.hasOwnProperty(dt)&&G!=null&&!l.hasOwnProperty(dt))switch(dt){case"selected":e.selected=!1;break;default:ee(e,i,dt,null,l,G)}for(D in l)if(G=l[D],K=a[D],l.hasOwnProperty(D)&&G!==K&&(G!=null||K!=null))switch(D){case"selected":e.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:ee(e,i,D,G,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in a)G=a[vt],a.hasOwnProperty(vt)&&G!=null&&!l.hasOwnProperty(vt)&&ee(e,i,vt,null,l,G);for(q in l)if(G=l[q],K=a[q],l.hasOwnProperty(q)&&G!==K&&(G!=null||K!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:ee(e,i,q,G,l,K)}return;default:if(Ta(i)){for(var ne in a)G=a[ne],a.hasOwnProperty(ne)&&G!==void 0&&!l.hasOwnProperty(ne)&&rm(e,i,ne,void 0,l,G);for(Y in l)G=l[Y],K=a[Y],!l.hasOwnProperty(Y)||G===K||G===void 0&&K===void 0||rm(e,i,Y,G,l,K);return}}for(var U in a)G=a[U],a.hasOwnProperty(U)&&G!=null&&!l.hasOwnProperty(U)&&ee(e,i,U,null,l,G);for(Z in l)G=l[Z],K=a[Z],!l.hasOwnProperty(Z)||G===K||G==null&&K==null||ee(e,i,Z,G,l,K)}function Vv(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function nw(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var f=a[l],d=f.transferSize,_=f.initiatorType,S=f.duration;if(d&&S&&Vv(_)){for(_=0,S=f.responseEnd,l+=1;l<a.length;l++){var D=a[l],q=D.startTime;if(q>S)break;var Y=D.transferSize,Z=D.initiatorType;Y&&Vv(Z)&&(D=D.responseEnd,_+=Y*(D<S?1:(S-q)/(D-q)))}if(--l,i+=8*(d+_)/(f.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var sm=null,am=null;function Bc(e){return e.nodeType===9?e:e.ownerDocument}function Lv(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kv(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function om(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var lm=null;function iw(){var e=window.event;return e&&e.type==="popstate"?e===lm?!1:(lm=e,!0):(lm=null,!1)}var Uv=typeof setTimeout=="function"?setTimeout:void 0,rw=typeof clearTimeout=="function"?clearTimeout:void 0,Pv=typeof Promise=="function"?Promise:void 0,sw=typeof queueMicrotask=="function"?queueMicrotask:typeof Pv<"u"?function(e){return Pv.resolve(null).then(e).catch(aw)}:Uv;function aw(e){setTimeout(function(){throw e})}function Zr(e){return e==="head"}function zv(e,i){var a=i,l=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(f),no(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Vl(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Vl(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[fi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Vl(e.ownerDocument.body);a=f}while(a);no(i)}function jv(e,i){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function um(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":um(a),_a(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function ow(e,i,a,l){for(;e.nodeType===1;){var f=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[fi])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Un(e.nextSibling),e===null)break}return null}function lw(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Un(e.nextSibling),e===null))return null;return e}function Bv(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Un(e.nextSibling),e===null))return null;return e}function cm(e){return e.data==="$?"||e.data==="$~"}function hm(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function uw(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Un(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var fm=null;function qv(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return Un(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function Hv(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function Fv(e,i,a){switch(i=Bc(a),e){case"html":if(e=i.documentElement,!e)throw Error(s(452));return e;case"head":if(e=i.head,!e)throw Error(s(453));return e;case"body":if(e=i.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function Vl(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);_a(e)}var Pn=new Map,Gv=new Set;function qc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var rr=rt.d;rt.d={f:cw,r:hw,D:fw,C:dw,L:mw,m:pw,X:yw,S:gw,M:_w};function cw(){var e=rr.f(),i=Mc();return e||i}function hw(e){var i=Cn(e);i!==null&&i.tag===5&&i.type==="form"?l_(i):rr.r(e)}var Za=typeof document>"u"?null:document;function $v(e,i,a){var l=Za;if(l&&typeof i=="string"&&i){var f=ln(i);f='link[rel="'+e+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),Gv.has(f)||(Gv.add(f),e={rel:e,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),Ke(i,"link",e),we(i),l.head.appendChild(i)))}}function fw(e){rr.D(e),$v("dns-prefetch",e,null)}function dw(e,i){rr.C(e,i),$v("preconnect",e,i)}function mw(e,i,a){rr.L(e,i,a);var l=Za;if(l&&e&&i){var f='link[rel="preload"][as="'+ln(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+ln(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+ln(a.imageSizes)+'"]')):f+='[href="'+ln(e)+'"]';var d=f;switch(i){case"style":d=to(e);break;case"script":d=eo(e)}Pn.has(d)||(e=T({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),Pn.set(d,e),l.querySelector(f)!==null||i==="style"&&l.querySelector(Ll(d))||i==="script"&&l.querySelector(kl(d))||(i=l.createElement("link"),Ke(i,"link",e),we(i),l.head.appendChild(i)))}}function pw(e,i){rr.m(e,i);var a=Za;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+ln(l)+'"][href="'+ln(e)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=eo(e)}if(!Pn.has(d)&&(e=T({rel:"modulepreload",href:e},i),Pn.set(d,e),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(kl(d)))return}l=a.createElement("link"),Ke(l,"link",e),we(l),a.head.appendChild(l)}}}function gw(e,i,a){rr.S(e,i,a);var l=Za;if(l&&e){var f=mi(l).hoistableStyles,d=to(e);i=i||"default";var _=f.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(Ll(d)))S.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":i},a),(a=Pn.get(d))&&dm(e,a);var D=_=l.createElement("link");we(D),Ke(D,"link",e),D._p=new Promise(function(q,Y){D.onload=q,D.onerror=Y}),D.addEventListener("load",function(){S.loading|=1}),D.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Hc(_,i,l)}_={type:"stylesheet",instance:_,count:1,state:S},f.set(d,_)}}}function yw(e,i){rr.X(e,i);var a=Za;if(a&&e){var l=mi(a).hoistableScripts,f=eo(e),d=l.get(f);d||(d=a.querySelector(kl(f)),d||(e=T({src:e,async:!0},i),(i=Pn.get(f))&&mm(e,i),d=a.createElement("script"),we(d),Ke(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function _w(e,i){rr.M(e,i);var a=Za;if(a&&e){var l=mi(a).hoistableScripts,f=eo(e),d=l.get(f);d||(d=a.querySelector(kl(f)),d||(e=T({src:e,async:!0,type:"module"},i),(i=Pn.get(f))&&mm(e,i),d=a.createElement("script"),we(d),Ke(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Kv(e,i,a,l){var f=(f=Rt.current)?qc(f):null;if(!f)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=to(a.href),a=mi(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=to(a.href);var d=mi(f).hoistableStyles,_=d.get(e);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,_),(d=f.querySelector(Ll(e)))&&!d._p&&(_.instance=d,_.state.loading=5),Pn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Pn.set(e,a),d||vw(f,e,a,_.state))),i&&l===null)throw Error(s(528,""));return _}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=eo(a),a=mi(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function to(e){return'href="'+ln(e)+'"'}function Ll(e){return'link[rel="stylesheet"]['+e+"]"}function Qv(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function vw(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ke(i,"link",a),we(i),e.head.appendChild(i))}function eo(e){return'[src="'+ln(e)+'"]'}function kl(e){return"script[async]"+e}function Yv(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+ln(a.href)+'"]');if(l)return i.instance=l,we(l),l;var f=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),we(l),Ke(l,"style",f),Hc(l,a.precedence,e),i.instance=l;case"stylesheet":f=to(a.href);var d=e.querySelector(Ll(f));if(d)return i.state.loading|=4,i.instance=d,we(d),d;l=Qv(a),(f=Pn.get(f))&&dm(l,f),d=(e.ownerDocument||e).createElement("link"),we(d);var _=d;return _._p=new Promise(function(S,D){_.onload=S,_.onerror=D}),Ke(d,"link",l),i.state.loading|=4,Hc(d,a.precedence,e),i.instance=d;case"script":return d=eo(a.src),(f=e.querySelector(kl(d)))?(i.instance=f,we(f),f):(l=a,(f=Pn.get(d))&&(l=T({},a),mm(l,f)),e=e.ownerDocument||e,f=e.createElement("script"),we(f),Ke(f,"link",l),e.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Hc(l,a.precedence,e));return i.instance}function Hc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===i)d=S;else if(d!==f)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function dm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function mm(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var Fc=null;function Xv(e,i,a){if(Fc===null){var l=new Map,f=Fc=new Map;f.set(a,l)}else f=Fc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),f=0;f<a.length;f++){var d=a[f];if(!(d[fi]||d[be]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=e+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function Jv(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function Ew(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Wv(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Tw(e,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=to(l.href),d=i.querySelector(Ll(f));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Gc.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=d,we(d);return}d=i.ownerDocument||i,l=Qv(l),(f=Pn.get(f))&&dm(l,f),d=d.createElement("link"),we(d);var _=d;_._p=new Promise(function(S,D){_.onload=S,_.onerror=D}),Ke(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Gc.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var pm=0;function Sw(e,i){return e.stylesheets&&e.count===0&&Kc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Kc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&pm===0&&(pm=62500*nw());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Kc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>pm?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Gc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Kc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var $c=null;function Kc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,$c=new Map,i.forEach(Aw,e),$c=null,Gc.call(e))}function Aw(e,i){if(!(i.state.loading&4)){var a=$c.get(e);if(a)var l=a.get(null);else{a=new Map,$c.set(e,a);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=i.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=Gc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),i.state.loading|=4}}var Ul={$$typeof:it,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function bw(e,i,a,l,f,d,_,S,D){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ci(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ci(0),this.hiddenUpdates=ci(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function Zv(e,i,a,l,f,d,_,S,D,q,Y,Z){return e=new bw(e,i,a,_,D,q,Y,Z,S),i=1,d===!0&&(i|=24),d=vn(3,null,null,i),e.current=d,d.stateNode=e,i=Qf(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Wf(d),e}function tE(e){return e?(e=xa,e):xa}function eE(e,i,a,l,f,d){f=tE(f),l.context===null?l.context=f:l.pendingContext=f,l=qr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Hr(e,l,i),a!==null&&(mn(a,e,i),pl(a,e,i))}function nE(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function gm(e,i){nE(e,i),(e=e.alternate)&&nE(e,i)}function iE(e){if(e.tag===13||e.tag===31){var i=Bs(e,67108864);i!==null&&mn(i,e,67108864),gm(e,67108864)}}function rE(e){if(e.tag===13||e.tag===31){var i=bn();i=Ns(i);var a=Bs(e,i);a!==null&&mn(a,e,i),gm(e,i)}}var Qc=!0;function ww(e,i,a,l){var f=Q.T;Q.T=null;var d=rt.p;try{rt.p=2,ym(e,i,a,l)}finally{rt.p=d,Q.T=f}}function Rw(e,i,a,l){var f=Q.T;Q.T=null;var d=rt.p;try{rt.p=8,ym(e,i,a,l)}finally{rt.p=d,Q.T=f}}function ym(e,i,a,l){if(Qc){var f=_m(l);if(f===null)im(e,i,l,Yc,a),aE(e,l);else if(Iw(f,e,i,a,l))l.stopPropagation();else if(aE(e,l),i&4&&-1<Cw.indexOf(e)){for(;f!==null;){var d=Cn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=li(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var D=1<<31-ye(_);S.entanglements[1]|=D,_&=~D}Ci(d),($t&6)===0&&(Oc=rn()+500,Ol(0))}}break;case 31:case 13:S=Bs(d,2),S!==null&&mn(S,d,2),Mc(),gm(d,2)}if(d=_m(l),d===null&&im(e,i,l,Yc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else im(e,i,l,null,a)}}function _m(e){return e=In(e),vm(e)}var Yc=null;function vm(e){if(Yc=null,e=di(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=h(i),e!==null)return e;e=null}else if(a===31){if(e=m(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Yc=e,null}function sE(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ws()){case jo:return 2;case Bo:return 8;case Cr:case wf:return 32;case Cu:return 268435456;default:return 32}default:return 32}}var Em=!1,ts=null,es=null,ns=null,Pl=new Map,zl=new Map,is=[],Cw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function aE(e,i){switch(e){case"focusin":case"focusout":ts=null;break;case"dragenter":case"dragleave":es=null;break;case"mouseover":case"mouseout":ns=null;break;case"pointerover":case"pointerout":Pl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(i.pointerId)}}function jl(e,i,a,l,f,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=Cn(i),i!==null&&iE(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),e)}function Iw(e,i,a,l,f){switch(i){case"focusin":return ts=jl(ts,e,i,a,l,f),!0;case"dragenter":return es=jl(es,e,i,a,l,f),!0;case"mouseover":return ns=jl(ns,e,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return Pl.set(d,jl(Pl.get(d)||null,e,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,zl.set(d,jl(zl.get(d)||null,e,i,a,l,f)),!0}return!1}function oE(e){var i=di(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){e.blockedOn=i,Hn(e.priority,function(){rE(a)});return}}else if(i===31){if(i=m(a),i!==null){e.blockedOn=i,Hn(e.priority,function(){rE(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=_m(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Zo=l,a.target.dispatchEvent(l),Zo=null}else return i=Cn(a),i!==null&&iE(i),e.blockedOn=a,!1;i.shift()}return!0}function lE(e,i,a){Xc(e)&&a.delete(i)}function Nw(){Em=!1,ts!==null&&Xc(ts)&&(ts=null),es!==null&&Xc(es)&&(es=null),ns!==null&&Xc(ns)&&(ns=null),Pl.forEach(lE),zl.forEach(lE)}function Jc(e,i){e.blockedOn===i&&(e.blockedOn=null,Em||(Em=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Nw)))}var Wc=null;function uE(e){Wc!==e&&(Wc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Wc===e&&(Wc=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],f=e[i+2];if(typeof l!="function"){if(vm(l||a)===null)continue;break}var d=Cn(a);d!==null&&(e.splice(i,3),i-=3,_d(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function no(e){function i(D){return Jc(D,e)}ts!==null&&Jc(ts,e),es!==null&&Jc(es,e),ns!==null&&Jc(ns,e),Pl.forEach(i),zl.forEach(i);for(var a=0;a<is.length;a++){var l=is[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<is.length&&(a=is[0],a.blockedOn===null);)oE(a),a.blockedOn===null&&is.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[Ue]||null;if(typeof d=="function")_||uE(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[Ue]||null)S=_.formAction;else if(vm(f)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),uE(a)}}}function cE(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function i(){f!==null&&(f(),f=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),f!==null&&(f(),f=null)}}}function Tm(e){this._internalRoot=e}Zc.prototype.render=Tm.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=bn();eE(a,l,e,i,null,null)},Zc.prototype.unmount=Tm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;eE(e.current,2,null,e,null,null),Mc(),i[hi]=null}};function Zc(e){this._internalRoot=e}Zc.prototype.unstable_scheduleHydration=function(e){if(e){var i=Mu();e={blockedOn:null,target:e,priority:i};for(var a=0;a<is.length&&i!==0&&i<is[a].priority;a++);is.splice(a,0,e),a===0&&oE(e)}};var hE=t.version;if(hE!=="19.2.0")throw Error(s(527,hE,"19.2.0"));rt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=g(i),e=e!==null?E(e):null,e=e===null?null:e.stateNode,e};var Dw={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var th=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!th.isDisabled&&th.supportsFiber)try{Bn=th.inject(Dw),qe=th}catch{}}return ql.createRoot=function(e,i){if(!o(e))throw Error(s(299));var a=!1,l="",f=__,d=v_,_=E_;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Zv(e,1,!1,null,null,a,l,null,f,d,_,cE),e[hi]=i.current,nm(e),new Tm(i)},ql.hydrateRoot=function(e,i,a){if(!o(e))throw Error(s(299));var l=!1,f="",d=__,_=v_,S=E_,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),i=Zv(e,1,!0,i,a??null,l,f,D,d,_,S,cE),i.context=tE(null),a=i.current,l=bn(),l=Ns(l),f=qr(l),f.callback=null,Hr(a,f,l),a=l,i.current.lanes=a,Cs(i,a),Ci(i),e[hi]=i.current,nm(e),new Zc(i)},ql.version="19.2.0",ql}var TE;function zw(){if(TE)return Am.exports;TE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Am.exports=Pw(),Am.exports}var jw=zw(),b=Np();const or=Qh(b);/**
 * react-router v7.9.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var SE="popstate";function Bw(r={}){function t(o,u){let{pathname:h="/",search:m="",hash:p=""}=ha(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),Jm("",{pathname:h,search:m,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let h=o.document.querySelector("base"),m="";if(h&&h.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");m=g===-1?p:p.slice(0,g)}return m+"#"+(typeof u=="string"?u:eu(u))}function s(o,u){ni(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return Hw(t,n,s,r)}function fe(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function ni(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function qw(){return Math.random().toString(36).substring(2,10)}function AE(r,t){return{usr:r.state,key:r.key,idx:t}}function Jm(r,t,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?ha(t):t,state:n,key:t&&t.key||s||qw()}}function eu({pathname:r="/",search:t="",hash:n=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function ha(r){let t={};if(r){let n=r.indexOf("#");n>=0&&(t.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(t.search=r.substring(s),r=r.substring(0,s)),r&&(t.pathname=r)}return t}function Hw(r,t,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function T(){m="POP";let P=E(),W=P==null?null:P-g;g=P,p&&p({action:m,location:F.location,delta:W})}function w(P,W){m="PUSH";let et=Jm(F.location,P,W);n&&n(et,P),g=E()+1;let it=AE(et,g),ht=F.createHref(et);try{h.pushState(it,"",ht)}catch(pt){if(pt instanceof DOMException&&pt.name==="DataCloneError")throw pt;o.location.assign(ht)}u&&p&&p({action:m,location:F.location,delta:1})}function k(P,W){m="REPLACE";let et=Jm(F.location,P,W);n&&n(et,P),g=E();let it=AE(et,g),ht=F.createHref(et);h.replaceState(it,"",ht),u&&p&&p({action:m,location:F.location,delta:0})}function H(P){return Fw(P)}let F={get action(){return m},get location(){return r(o,h)},listen(P){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(SE,T),p=P,()=>{o.removeEventListener(SE,T),p=null}},createHref(P){return t(o,P)},createURL:H,encodeLocation(P){let W=H(P);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:w,replace:k,go(P){return h.go(P)}};return F}function Fw(r,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),fe(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:eu(r);return s=s.replace(/ $/,"%20"),!t&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function v0(r,t,n="/"){return Gw(r,t,n,!1)}function Gw(r,t,n,s){let o=typeof t=="string"?ha(t):t,u=pr(o.pathname||"/",n);if(u==null)return null;let h=E0(r);$w(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=iR(u);m=eR(h[p],g,s)}return m}function E0(r,t=[],n=[],s="",o=!1){let u=(h,m,p=o,g)=>{let E={relativePath:g===void 0?h.path||"":g,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(s)&&p)return;fe(E.relativePath.startsWith(s),`Absolute route path "${E.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(s.length)}let T=hr([s,E.relativePath]),w=n.concat(E);h.children&&h.children.length>0&&(fe(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),E0(h.children,t,w,T,p)),!(h.path==null&&!h.index)&&t.push({path:T,score:Zw(T,h.index),routesMeta:w})};return r.forEach((h,m)=>{if(h.path===""||!h.path?.includes("?"))u(h,m);else for(let p of T0(h.path))u(h,m,!0,p)}),t}function T0(r){let t=r.split("/");if(t.length===0)return[];let[n,...s]=t,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=T0(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function $w(r){r.sort((t,n)=>t.score!==n.score?n.score-t.score:tR(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Kw=/^:[\w-]+$/,Qw=3,Yw=2,Xw=1,Jw=10,Ww=-2,bE=r=>r==="*";function Zw(r,t){let n=r.split("/"),s=n.length;return n.some(bE)&&(s+=Ww),t&&(s+=Yw),n.filter(o=>!bE(o)).reduce((o,u)=>o+(Kw.test(u)?Qw:u===""?Xw:Jw),s)}function tR(r,t){return r.length===t.length&&r.slice(0,-1).every((s,o)=>s===t[o])?r[r.length-1]-t[t.length-1]:0}function eR(r,t,n=!1){let{routesMeta:s}=r,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?t:t.slice(u.length)||"/",T=Ah({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),w=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=Ah({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:hr([u,T.pathname]),pathnameBase:oR(hr([u,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(u=hr([u,T.pathnameBase]))}return h}function Ah(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=nR(r.path,r.caseSensitive,r.end),o=t.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:T},w)=>{if(E==="*"){let H=m[w]||"";h=u.slice(0,u.length-H.length).replace(/(.)\/+$/,"$1")}const k=m[w];return T&&!k?g[E]=void 0:g[E]=(k||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:r}}function nR(r,t=!1,n=!0){ni(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),s]}function iR(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ni(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function pr(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function rR(r,t="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?ha(r):r;return{pathname:n?n.startsWith("/")?n:sR(n,t):t,search:lR(s),hash:uR(o)}}function sR(r,t){let n=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Im(r,t,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function aR(r){return r.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function S0(r){let t=aR(r);return t.map((n,s)=>s===t.length-1?n.pathname:n.pathnameBase)}function A0(r,t,n,s=!1){let o;typeof r=="string"?o=ha(r):(o={...r},fe(!o.pathname||!o.pathname.includes("?"),Im("?","pathname","search",o)),fe(!o.pathname||!o.pathname.includes("#"),Im("#","pathname","hash",o)),fe(!o.search||!o.search.includes("#"),Im("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let T=t.length-1;if(!s&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),T-=1;o.pathname=w.join("/")}m=T>=0?t[T]:"/"}let p=rR(o,m),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var hr=r=>r.join("/").replace(/\/\/+/g,"/"),oR=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),lR=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,uR=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function cR(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var b0=["POST","PUT","PATCH","DELETE"];new Set(b0);var hR=["GET",...b0];new Set(hR);var Co=b.createContext(null);Co.displayName="DataRouter";var Yh=b.createContext(null);Yh.displayName="DataRouterState";b.createContext(!1);var w0=b.createContext({isTransitioning:!1});w0.displayName="ViewTransition";var fR=b.createContext(new Map);fR.displayName="Fetchers";var dR=b.createContext(null);dR.displayName="Await";var Ui=b.createContext(null);Ui.displayName="Navigation";var fu=b.createContext(null);fu.displayName="Location";var Sr=b.createContext({outlet:null,matches:[],isDataRoute:!1});Sr.displayName="Route";var Dp=b.createContext(null);Dp.displayName="RouteError";function mR(r,{relative:t}={}){fe(du(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=b.useContext(Ui),{hash:o,pathname:u,search:h}=mu(r,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:hr([n,u])),s.createHref({pathname:m,search:h,hash:o})}function du(){return b.useContext(fu)!=null}function fa(){return fe(du(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(fu).location}var R0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function C0(r){b.useContext(Ui).static||b.useLayoutEffect(r)}function Op(){let{isDataRoute:r}=b.useContext(Sr);return r?CR():pR()}function pR(){fe(du(),"useNavigate() may be used only in the context of a <Router> component.");let r=b.useContext(Co),{basename:t,navigator:n}=b.useContext(Ui),{matches:s}=b.useContext(Sr),{pathname:o}=fa(),u=JSON.stringify(S0(s)),h=b.useRef(!1);return C0(()=>{h.current=!0}),b.useCallback((p,g={})=>{if(ni(h.current,R0),!h.current)return;if(typeof p=="number"){n.go(p);return}let E=A0(p,JSON.parse(u),o,g.relative==="path");r==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:hr([t,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[t,n,u,o,r])}b.createContext(null);function mu(r,{relative:t}={}){let{matches:n}=b.useContext(Sr),{pathname:s}=fa(),o=JSON.stringify(S0(n));return b.useMemo(()=>A0(r,JSON.parse(o),s,t==="path"),[r,o,s,t])}function gR(r,t){return I0(r,t)}function I0(r,t,n,s,o){fe(du(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=b.useContext(Ui),{matches:h}=b.useContext(Sr),m=h[h.length-1],p=m?m.params:{},g=m?m.pathname:"/",E=m?m.pathnameBase:"/",T=m&&m.route;{let et=T&&T.path||"";N0(g,!T||et.endsWith("*")||et.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${et}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${et}"> to <Route path="${et==="/"?"*":`${et}/*`}">.`)}let w=fa(),k;if(t){let et=typeof t=="string"?ha(t):t;fe(E==="/"||et.pathname?.startsWith(E),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${et.pathname}" was given in the \`location\` prop.`),k=et}else k=w;let H=k.pathname||"/",F=H;if(E!=="/"){let et=E.replace(/^\//,"").split("/");F="/"+H.replace(/^\//,"").split("/").slice(et.length).join("/")}let P=v0(r,{pathname:F});ni(T||P!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),ni(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let W=TR(P&&P.map(et=>Object.assign({},et,{params:Object.assign({},p,et.params),pathname:hr([E,u.encodeLocation?u.encodeLocation(et.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:et.pathname]),pathnameBase:et.pathnameBase==="/"?E:hr([E,u.encodeLocation?u.encodeLocation(et.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:et.pathnameBase])})),h,n,s,o);return t&&W?b.createElement(fu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},W):W}function yR(){let r=RR(),t=cR(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:u},"ErrorBoundary")," or"," ",b.createElement("code",{style:u},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),n?b.createElement("pre",{style:o},n):null,h)}var _R=b.createElement(yR,null),vR=class extends b.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){this.props.unstable_onError?this.props.unstable_onError(r,t):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?b.createElement(Sr.Provider,{value:this.props.routeContext},b.createElement(Dp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ER({routeContext:r,match:t,children:n}){let s=b.useContext(Co);return s&&s.static&&s.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=t.route.id),b.createElement(Sr.Provider,{value:r},n)}function TR(r,t=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,h=n?.errors;if(h!=null){let g=u.findIndex(E=>E.route.id&&h?.[E.route.id]!==void 0);fe(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),u=u.slice(0,Math.min(u.length,g+1))}let m=!1,p=-1;if(n)for(let g=0;g<u.length;g++){let E=u[g];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(p=g),E.route.id){let{loaderData:T,errors:w}=n,k=E.route.loader&&!T.hasOwnProperty(E.route.id)&&(!w||w[E.route.id]===void 0);if(E.route.lazy||k){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((g,E,T)=>{let w,k=!1,H=null,F=null;n&&(w=h&&E.route.id?h[E.route.id]:void 0,H=E.route.errorElement||_R,m&&(p<0&&T===0?(N0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,F=null):p===T&&(k=!0,F=E.route.hydrateFallbackElement||null)));let P=t.concat(u.slice(0,T+1)),W=()=>{let et;return w?et=H:k?et=F:E.route.Component?et=b.createElement(E.route.Component,null):E.route.element?et=E.route.element:et=g,b.createElement(ER,{match:E,routeContext:{outlet:g,matches:P,isDataRoute:n!=null},children:et})};return n&&(E.route.ErrorBoundary||E.route.errorElement||T===0)?b.createElement(vR,{location:n.location,revalidation:n.revalidation,component:H,error:w,children:W(),routeContext:{outlet:null,matches:P,isDataRoute:!0},unstable_onError:s}):W()},null)}function xp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function SR(r){let t=b.useContext(Co);return fe(t,xp(r)),t}function AR(r){let t=b.useContext(Yh);return fe(t,xp(r)),t}function bR(r){let t=b.useContext(Sr);return fe(t,xp(r)),t}function Mp(r){let t=bR(r),n=t.matches[t.matches.length-1];return fe(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function wR(){return Mp("useRouteId")}function RR(){let r=b.useContext(Dp),t=AR("useRouteError"),n=Mp("useRouteError");return r!==void 0?r:t.errors?.[n]}function CR(){let{router:r}=SR("useNavigate"),t=Mp("useNavigate"),n=b.useRef(!1);return C0(()=>{n.current=!0}),b.useCallback(async(o,u={})=>{ni(n.current,R0),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:t,...u}))},[r,t])}var wE={};function N0(r,t,n){!t&&!wE[r]&&(wE[r]=!0,ni(!1,n))}b.memo(IR);function IR({routes:r,future:t,state:n,unstable_onError:s}){return I0(r,void 0,n,s,t)}function ea(r){fe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function NR({basename:r="/",children:t=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){fe(!du(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),m=b.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=ha(n));let{pathname:p="/",search:g="",hash:E="",state:T=null,key:w="default"}=n,k=b.useMemo(()=>{let H=pr(p,h);return H==null?null:{location:{pathname:H,search:g,hash:E,state:T,key:w},navigationType:s}},[h,p,g,E,T,w,s]);return ni(k!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:b.createElement(Ui.Provider,{value:m},b.createElement(fu.Provider,{children:t,value:k}))}function DR({children:r,location:t}){return gR(Wm(r),t)}function Wm(r,t=[]){let n=[];return b.Children.forEach(r,(s,o)=>{if(!b.isValidElement(s))return;let u=[...t,o];if(s.type===b.Fragment){n.push.apply(n,Wm(s.props.children,u));return}fe(s.type===ea,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),fe(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Wm(s.props.children,u)),n.push(h)}),n}var hh="get",fh="application/x-www-form-urlencoded";function Xh(r){return r!=null&&typeof r.tagName=="string"}function OR(r){return Xh(r)&&r.tagName.toLowerCase()==="button"}function xR(r){return Xh(r)&&r.tagName.toLowerCase()==="form"}function MR(r){return Xh(r)&&r.tagName.toLowerCase()==="input"}function VR(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function LR(r,t){return r.button===0&&(!t||t==="_self")&&!VR(r)}var eh=null;function kR(){if(eh===null)try{new FormData(document.createElement("form"),0),eh=!1}catch{eh=!0}return eh}var UR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Nm(r){return r!=null&&!UR.has(r)?(ni(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fh}"`),null):r}function PR(r,t){let n,s,o,u,h;if(xR(r)){let m=r.getAttribute("action");s=m?pr(m,t):null,n=r.getAttribute("method")||hh,o=Nm(r.getAttribute("enctype"))||fh,u=new FormData(r)}else if(OR(r)||MR(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?pr(p,t):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||hh,o=Nm(r.getAttribute("formenctype"))||Nm(m.getAttribute("enctype"))||fh,u=new FormData(m,r),!kR()){let{name:g,type:E,value:T}=r;if(E==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,T)}}else{if(Xh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=hh,s=null,o=fh,h=r}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Vp(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function zR(r,t,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:t&&pr(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function jR(r,t){if(r.id in t)return t[r.id];try{let n=await import(r.module);return t[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function BR(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function qR(r,t,n){let s=await Promise.all(r.map(async o=>{let u=t.routes[o.route.id];if(u){let h=await jR(u,n);return h.links?h.links():[]}return[]}));return $R(s.flat(1).filter(BR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function RE(r,t,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?t.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?t.filter((p,g)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let T=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof T=="boolean")return T}return!0}):[]}function HR(r,t,{includeHydrateFallback:n}={}){return FR(r.map(s=>{let o=t.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function FR(r){return[...new Set(r)]}function GR(r){let t={},n=Object.keys(r).sort();for(let s of n)t[s]=r[s];return t}function $R(r,t){let n=new Set;return new Set(t),r.reduce((s,o)=>{let u=JSON.stringify(GR(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function D0(){let r=b.useContext(Co);return Vp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function KR(){let r=b.useContext(Yh);return Vp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Lp=b.createContext(void 0);Lp.displayName="FrameworkContext";function O0(){let r=b.useContext(Lp);return Vp(r,"You must render this element inside a <HydratedRouter> element"),r}function QR(r,t){let n=b.useContext(Lp),[s,o]=b.useState(!1),[u,h]=b.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:T}=t,w=b.useRef(null);b.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let F=W=>{W.forEach(et=>{h(et.isIntersecting)})},P=new IntersectionObserver(F,{threshold:.5});return w.current&&P.observe(w.current),()=>{P.disconnect()}}},[r]),b.useEffect(()=>{if(s){let F=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(F)}}},[s]);let k=()=>{o(!0)},H=()=>{o(!1),h(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:Hl(m,k),onBlur:Hl(p,H),onMouseEnter:Hl(g,k),onMouseLeave:Hl(E,H),onTouchStart:Hl(T,k)}]:[!1,w,{}]}function Hl(r,t){return n=>{r&&r(n),n.defaultPrevented||t(n)}}function YR({page:r,...t}){let{router:n}=D0(),s=b.useMemo(()=>v0(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?b.createElement(JR,{page:r,matches:s,...t}):null}function XR(r){let{manifest:t,routeModules:n}=O0(),[s,o]=b.useState([]);return b.useEffect(()=>{let u=!1;return qR(r,t,n).then(h=>{u||o(h)}),()=>{u=!0}},[r,t,n]),s}function JR({page:r,matches:t,...n}){let s=fa(),{manifest:o,routeModules:u}=O0(),{basename:h}=D0(),{loaderData:m,matches:p}=KR(),g=b.useMemo(()=>RE(r,t,p,o,s,"data"),[r,t,p,o,s]),E=b.useMemo(()=>RE(r,t,p,o,s,"assets"),[r,t,p,o,s]),T=b.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let H=new Set,F=!1;if(t.forEach(W=>{let et=o.routes[W.route.id];!et||!et.hasLoader||(!g.some(it=>it.route.id===W.route.id)&&W.route.id in m&&u[W.route.id]?.shouldRevalidate||et.hasClientLoader?F=!0:H.add(W.route.id))}),H.size===0)return[];let P=zR(r,h,"data");return F&&H.size>0&&P.searchParams.set("_routes",t.filter(W=>H.has(W.route.id)).map(W=>W.route.id).join(",")),[P.pathname+P.search]},[h,m,s,o,g,t,r,u]),w=b.useMemo(()=>HR(E,o),[E,o]),k=XR(E);return b.createElement(b.Fragment,null,T.map(H=>b.createElement("link",{key:H,rel:"prefetch",as:"fetch",href:H,...n})),w.map(H=>b.createElement("link",{key:H,rel:"modulepreload",href:H,...n})),k.map(({key:H,link:F})=>b.createElement("link",{key:H,nonce:n.nonce,...F})))}function WR(...r){return t=>{r.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var x0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{x0&&(window.__reactRouterVersion="7.9.5")}catch{}function ZR({basename:r,children:t,window:n}){let s=b.useRef();s.current==null&&(s.current=Bw({window:n,v5Compat:!0}));let o=s.current,[u,h]=b.useState({action:o.action,location:o.location}),m=b.useCallback(p=>{b.startTransition(()=>h(p))},[h]);return b.useLayoutEffect(()=>o.listen(m),[o,m]),b.createElement(NR,{basename:r,children:t,location:u.location,navigationType:u.action,navigator:o})}var M0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wn=b.forwardRef(function({onClick:t,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:E,viewTransition:T,...w},k){let{basename:H}=b.useContext(Ui),F=typeof g=="string"&&M0.test(g),P,W=!1;if(typeof g=="string"&&F&&(P=g,x0))try{let I=new URL(window.location.href),V=g.startsWith("//")?new URL(I.protocol+g):new URL(g),O=pr(V.pathname,H);V.origin===I.origin&&O!=null?g=O+V.search+V.hash:W=!0}catch{ni(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let et=mR(g,{relative:o}),[it,ht,pt]=QR(s,w),lt=iC(g,{replace:h,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:T});function C(I){t&&t(I),I.defaultPrevented||lt(I)}let R=b.createElement("a",{...w,...pt,href:P||et,onClick:W||u?t:C,ref:WR(k,ht),target:p,"data-discover":!F&&n==="render"?"true":void 0});return it&&!F?b.createElement(b.Fragment,null,R,b.createElement(YR,{page:et})):R});wn.displayName="Link";var tC=b.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},E){let T=mu(h,{relative:g.relative}),w=fa(),k=b.useContext(Yh),{navigator:H,basename:F}=b.useContext(Ui),P=k!=null&&lC(T)&&m===!0,W=H.encodeLocation?H.encodeLocation(T).pathname:T.pathname,et=w.pathname,it=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;n||(et=et.toLowerCase(),it=it?it.toLowerCase():null,W=W.toLowerCase()),it&&F&&(it=pr(it,F)||it);const ht=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let pt=et===W||!o&&et.startsWith(W)&&et.charAt(ht)==="/",lt=it!=null&&(it===W||!o&&it.startsWith(W)&&it.charAt(W.length)==="/"),C={isActive:pt,isPending:lt,isTransitioning:P},R=pt?t:void 0,I;typeof s=="function"?I=s(C):I=[s,pt?"active":null,lt?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(C):u;return b.createElement(wn,{...g,"aria-current":R,className:I,ref:E,style:V,to:h,viewTransition:m},typeof p=="function"?p(C):p)});tC.displayName="NavLink";var eC=b.forwardRef(({discover:r="render",fetcherKey:t,navigate:n,reloadDocument:s,replace:o,state:u,method:h=hh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:T,...w},k)=>{let H=aC(),F=oC(m,{relative:g}),P=h.toLowerCase()==="get"?"get":"post",W=typeof m=="string"&&M0.test(m),et=it=>{if(p&&p(it),it.defaultPrevented)return;it.preventDefault();let ht=it.nativeEvent.submitter,pt=ht?.getAttribute("formmethod")||h;H(ht||it.currentTarget,{fetcherKey:t,method:pt,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:T})};return b.createElement("form",{ref:k,method:P,action:F,onSubmit:s?p:et,...w,"data-discover":!W&&r==="render"?"true":void 0})});eC.displayName="Form";function nC(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function V0(r){let t=b.useContext(Co);return fe(t,nC(r)),t}function iC(r,{target:t,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=Op(),p=fa(),g=mu(r,{relative:u});return b.useCallback(E=>{if(LR(E,t)){E.preventDefault();let T=n!==void 0?n:eu(p)===eu(g);m(r,{replace:T,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,n,s,t,r,o,u,h])}var rC=0,sC=()=>`__${String(++rC)}__`;function aC(){let{router:r}=V0("useSubmit"),{basename:t}=b.useContext(Ui),n=wR();return b.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=PR(s,t);if(o.navigate===!1){let E=o.fetcherKey||sC();await r.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,t,n])}function oC(r,{relative:t}={}){let{basename:n}=b.useContext(Ui),s=b.useContext(Sr);fe(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...mu(r||".",{relative:t})},h=fa();if(r==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(T=>T).forEach(T=>m.append("index",T));let E=m.toString();u.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:hr([n,u.pathname])),eu(u)}function lC(r,{relative:t}={}){let n=b.useContext(w0);fe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=V0("useViewTransitionState"),o=mu(r,{relative:t});if(!n.isTransitioning)return!1;let u=pr(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=pr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Ah(o.pathname,h)!=null||Ah(o.pathname,u)!=null}var Dm={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var CE;function uC(){return CE||(CE=1,(function(r){(function(){var t={}.hasOwnProperty;function n(){for(var u="",h=0;h<arguments.length;h++){var m=arguments[h];m&&(u=o(u,s(m)))}return u}function s(u){if(typeof u=="string"||typeof u=="number")return u;if(typeof u!="object")return"";if(Array.isArray(u))return n.apply(null,u);if(u.toString!==Object.prototype.toString&&!u.toString.toString().includes("[native code]"))return u.toString();var h="";for(var m in u)t.call(u,m)&&u[m]&&(h=o(h,m));return h}function o(u,h){return h?u?u+" "+h:u+h:u}r.exports?(n.default=n,r.exports=n):window.classNames=n})()})(Dm)),Dm.exports}var cC=uC();const St=Qh(cC);function Zm(){return Zm=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)({}).hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},Zm.apply(null,arguments)}function L0(r,t){if(r==null)return{};var n={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)!==-1)continue;n[s]=r[s]}return n}function IE(r){return"default"+r.charAt(0).toUpperCase()+r.substr(1)}function hC(r){var t=fC(r,"string");return typeof t=="symbol"?t:String(t)}function fC(r,t){if(typeof r!="object"||r===null)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var s=n.call(r,t);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}function dC(r,t,n){var s=b.useRef(r!==void 0),o=b.useState(t),u=o[0],h=o[1],m=r!==void 0,p=s.current;return s.current=m,!m&&p&&u!==t&&h(t),[m?r:u,b.useCallback(function(g){for(var E=arguments.length,T=new Array(E>1?E-1:0),w=1;w<E;w++)T[w-1]=arguments[w];n&&n.apply(void 0,[g].concat(T)),h(g)},[n])]}function k0(r,t){return Object.keys(t).reduce(function(n,s){var o,u=n,h=u[IE(s)],m=u[s],p=L0(u,[IE(s),s].map(hC)),g=t[s],E=dC(m,h,r[g]),T=E[0],w=E[1];return Zm({},p,(o={},o[s]=T,o[g]=w,o))},r)}function tp(r,t){return tp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},tp(r,t)}function mC(r,t){r.prototype=Object.create(t.prototype),r.prototype.constructor=r,tp(r,t)}const pC=["xxl","xl","lg","md","sm","xs"],gC="xs",Jh=b.createContext({prefixes:{},breakpoints:pC,minBreakpoint:gC}),{Consumer:C4,Provider:I4}=Jh;function Dt(r,t){const{prefixes:n}=b.useContext(Jh);return r||n[t]||t}function U0(){const{breakpoints:r}=b.useContext(Jh);return r}function P0(){const{minBreakpoint:r}=b.useContext(Jh);return r}function kp(r){return r&&r.ownerDocument||document}function yC(r){var t=kp(r);return t&&t.defaultView||window}function _C(r,t){return yC(r).getComputedStyle(r,t)}var vC=/([A-Z])/g;function EC(r){return r.replace(vC,"-$1").toLowerCase()}var TC=/^ms-/;function nh(r){return EC(r).replace(TC,"-ms-")}var SC=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function AC(r){return!!(r&&SC.test(r))}function fr(r,t){var n="",s="";if(typeof t=="string")return r.style.getPropertyValue(nh(t))||_C(r).getPropertyValue(nh(t));Object.keys(t).forEach(function(o){var u=t[o];!u&&u!==0?r.style.removeProperty(nh(o)):AC(o)?s+=o+"("+u+") ":n+=nh(o)+": "+u+";"}),s&&(n+="transform: "+s+";"),r.style.cssText+=";"+n}var Om={exports:{}},xm,NE;function bC(){if(NE)return xm;NE=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return xm=r,xm}var Mm,DE;function wC(){if(DE)return Mm;DE=1;var r=bC();function t(){}function n(){}return n.resetWarningCache=t,Mm=function(){function s(h,m,p,g,E,T){if(T!==r){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}s.isRequired=s;function o(){return s}var u={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:t};return u.PropTypes=u,u},Mm}var OE;function RC(){return OE||(OE=1,Om.exports=wC()()),Om.exports}var CC=RC();const dr=Qh(CC);var IC=_0();const co=Qh(IC),xE={disabled:!1},z0=or.createContext(null);var NC=function(t){return t.scrollTop},Gl="unmounted",as="exited",Zn="entering",sr="entered",nu="exiting",Ar=(function(r){mC(t,r);function t(s,o){var u;u=r.call(this,s,o)||this;var h=o,m=h&&!h.isMounting?s.enter:s.appear,p;return u.appearStatus=null,s.in?m?(p=as,u.appearStatus=Zn):p=sr:s.unmountOnExit||s.mountOnEnter?p=Gl:p=as,u.state={status:p},u.nextCallback=null,u}t.getDerivedStateFromProps=function(o,u){var h=o.in;return h&&u.status===Gl?{status:as}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(o){var u=null;if(o!==this.props){var h=this.state.status;this.props.in?h!==Zn&&h!==sr&&(u=Zn):(h===Zn||h===sr)&&(u=nu)}this.updateStatus(!1,u)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var o=this.props.timeout,u,h,m;return u=h=m=o,o!=null&&typeof o!="number"&&(u=o.exit,h=o.enter,m=o.appear!==void 0?o.appear:h),{exit:u,enter:h,appear:m}},n.updateStatus=function(o,u){if(o===void 0&&(o=!1),u!==null)if(this.cancelNextCallback(),u===Zn){if(this.props.unmountOnExit||this.props.mountOnEnter){var h=this.props.nodeRef?this.props.nodeRef.current:co.findDOMNode(this);h&&NC(h)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===as&&this.setState({status:Gl})},n.performEnter=function(o){var u=this,h=this.props.enter,m=this.context?this.context.isMounting:o,p=this.props.nodeRef?[m]:[co.findDOMNode(this),m],g=p[0],E=p[1],T=this.getTimeouts(),w=m?T.appear:T.enter;if(!o&&!h||xE.disabled){this.safeSetState({status:sr},function(){u.props.onEntered(g)});return}this.props.onEnter(g,E),this.safeSetState({status:Zn},function(){u.props.onEntering(g,E),u.onTransitionEnd(w,function(){u.safeSetState({status:sr},function(){u.props.onEntered(g,E)})})})},n.performExit=function(){var o=this,u=this.props.exit,h=this.getTimeouts(),m=this.props.nodeRef?void 0:co.findDOMNode(this);if(!u||xE.disabled){this.safeSetState({status:as},function(){o.props.onExited(m)});return}this.props.onExit(m),this.safeSetState({status:nu},function(){o.props.onExiting(m),o.onTransitionEnd(h.exit,function(){o.safeSetState({status:as},function(){o.props.onExited(m)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(o,u){u=this.setNextCallback(u),this.setState(o,u)},n.setNextCallback=function(o){var u=this,h=!0;return this.nextCallback=function(m){h&&(h=!1,u.nextCallback=null,o(m))},this.nextCallback.cancel=function(){h=!1},this.nextCallback},n.onTransitionEnd=function(o,u){this.setNextCallback(u);var h=this.props.nodeRef?this.props.nodeRef.current:co.findDOMNode(this),m=o==null&&!this.props.addEndListener;if(!h||m){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var p=this.props.nodeRef?[this.nextCallback]:[h,this.nextCallback],g=p[0],E=p[1];this.props.addEndListener(g,E)}o!=null&&setTimeout(this.nextCallback,o)},n.render=function(){var o=this.state.status;if(o===Gl)return null;var u=this.props,h=u.children;u.in,u.mountOnEnter,u.unmountOnExit,u.appear,u.enter,u.exit,u.timeout,u.addEndListener,u.onEnter,u.onEntering,u.onEntered,u.onExit,u.onExiting,u.onExited,u.nodeRef;var m=L0(u,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return or.createElement(z0.Provider,{value:null},typeof h=="function"?h(o,m):or.cloneElement(or.Children.only(h),m))},t})(or.Component);Ar.contextType=z0;Ar.propTypes={};function io(){}Ar.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:io,onEntering:io,onEntered:io,onExit:io,onExiting:io,onExited:io};Ar.UNMOUNTED=Gl;Ar.EXITED=as;Ar.ENTERING=Zn;Ar.ENTERED=sr;Ar.EXITING=nu;function DC(r){return r.code==="Escape"||r.keyCode===27}function OC(){const r=b.version.split(".");return{major:+r[0],minor:+r[1],patch:+r[2]}}function Io(r){if(!r||typeof r=="function")return null;const{major:t}=OC();return t>=19?r.props.ref:r.ref}const Wh=!!(typeof window<"u"&&window.document&&window.document.createElement);var ep=!1,np=!1;try{var Vm={get passive(){return ep=!0},get once(){return np=ep=!0}};Wh&&(window.addEventListener("test",Vm,Vm),window.removeEventListener("test",Vm,!0))}catch{}function xC(r,t,n,s){if(s&&typeof s!="boolean"&&!np){var o=s.once,u=s.capture,h=n;!np&&o&&(h=n.__once||function m(p){this.removeEventListener(t,m,u),n.call(this,p)},n.__once=h),r.addEventListener(t,h,ep?s:u)}r.addEventListener(t,n,s)}function MC(r,t,n,s){var o=s&&typeof s!="boolean"?s.capture:s;r.removeEventListener(t,n,o),n.__once&&r.removeEventListener(t,n.__once,o)}function bh(r,t,n,s){return xC(r,t,n,s),function(){MC(r,t,n,s)}}function VC(r,t,n,s){if(s===void 0&&(s=!0),r){var o=document.createEvent("HTMLEvents");o.initEvent(t,n,s),r.dispatchEvent(o)}}function LC(r){var t=fr(r,"transitionDuration")||"",n=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*n}function kC(r,t,n){n===void 0&&(n=5);var s=!1,o=setTimeout(function(){s||VC(r,"transitionend",!0)},t+n),u=bh(r,"transitionend",function(){s=!0},{once:!0});return function(){clearTimeout(o),u()}}function UC(r,t,n,s){n==null&&(n=LC(r)||0);var o=kC(r,n,s),u=bh(r,"transitionend",t);return function(){o(),u()}}function ME(r,t){const n=fr(r,t)||"",s=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*s}function Up(r,t){const n=ME(r,"transitionDuration"),s=ME(r,"transitionDelay"),o=UC(r,u=>{u.target===r&&(o(),t(u))},n+s)}function Fl(...r){return r.filter(t=>t!=null).reduce((t,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return t===null?n:function(...o){t.apply(this,o),n.apply(this,o)}},null)}function j0(r){r.offsetHeight}const VE=r=>!r||typeof r=="function"?r:t=>{r.current=t};function PC(r,t){const n=VE(r),s=VE(t);return o=>{n&&n(o),s&&s(o)}}function zC(r,t){return b.useMemo(()=>PC(r,t),[r,t])}function jC(r){return r&&"setState"in r?co.findDOMNode(r):r??null}const Zh=or.forwardRef(({onEnter:r,onEntering:t,onEntered:n,onExit:s,onExiting:o,onExited:u,addEndListener:h,children:m,childRef:p,...g},E)=>{const T=b.useRef(null),w=zC(T,p),k=lt=>{w(jC(lt))},H=lt=>C=>{lt&&T.current&&lt(T.current,C)},F=b.useCallback(H(r),[r]),P=b.useCallback(H(t),[t]),W=b.useCallback(H(n),[n]),et=b.useCallback(H(s),[s]),it=b.useCallback(H(o),[o]),ht=b.useCallback(H(u),[u]),pt=b.useCallback(H(h),[h]);return L.jsx(Ar,{ref:E,...g,onEnter:F,onEntered:W,onEntering:P,onExit:et,onExited:ht,onExiting:it,addEndListener:pt,nodeRef:T,children:typeof m=="function"?(lt,C)=>m(lt,{...C,ref:k}):or.cloneElement(m,{ref:k})})});Zh.displayName="TransitionWrapper";const BC={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function qC(r,t){const n=`offset${r[0].toUpperCase()}${r.slice(1)}`,s=t[n],o=BC[r];return s+parseInt(fr(t,o[0]),10)+parseInt(fr(t,o[1]),10)}const HC={[as]:"collapse",[nu]:"collapsing",[Zn]:"collapsing",[sr]:"collapse show"},B0=or.forwardRef(({onEnter:r,onEntering:t,onEntered:n,onExit:s,onExiting:o,className:u,children:h,dimension:m="height",in:p=!1,timeout:g=300,mountOnEnter:E=!1,unmountOnExit:T=!1,appear:w=!1,getDimensionValue:k=qC,...H},F)=>{const P=typeof m=="function"?m():m,W=b.useMemo(()=>Fl(lt=>{lt.style[P]="0"},r),[P,r]),et=b.useMemo(()=>Fl(lt=>{const C=`scroll${P[0].toUpperCase()}${P.slice(1)}`;lt.style[P]=`${lt[C]}px`},t),[P,t]),it=b.useMemo(()=>Fl(lt=>{lt.style[P]=null},n),[P,n]),ht=b.useMemo(()=>Fl(lt=>{lt.style[P]=`${k(P,lt)}px`,j0(lt)},s),[s,k,P]),pt=b.useMemo(()=>Fl(lt=>{lt.style[P]=null},o),[P,o]);return L.jsx(Zh,{ref:F,addEndListener:Up,...H,"aria-expanded":H.role?p:null,onEnter:W,onEntering:et,onEntered:it,onExit:ht,onExiting:pt,childRef:Io(h),in:p,timeout:g,mountOnEnter:E,unmountOnExit:T,appear:w,children:(lt,C)=>or.cloneElement(h,{...C,className:St(u,h.props.className,HC[lt],P==="width"&&"collapse-horizontal")})})});B0.displayName="Collapse";function FC(r){const t=b.useRef(r);return b.useEffect(()=>{t.current=r},[r]),t}function tf(r){const t=FC(r);return b.useCallback(function(...n){return t.current&&t.current(...n)},[t])}const Pp=(r=>b.forwardRef((t,n)=>L.jsx("div",{...t,ref:n,className:St(t.className,r)})));function GC(r){const t=b.useRef(r);return b.useEffect(()=>{t.current=r},[r]),t}function ar(r){const t=GC(r);return b.useCallback(function(...n){return t.current&&t.current(...n)},[t])}function $C(){const r=b.useRef(!0),t=b.useRef(()=>r.current);return b.useEffect(()=>(r.current=!0,()=>{r.current=!1}),[]),t.current}function KC(r){const t=b.useRef(null);return b.useEffect(()=>{t.current=r}),t.current}const QC=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",YC=typeof document<"u",LE=YC||QC?b.useLayoutEffect:b.useEffect,XC=["as","disabled"];function JC(r,t){if(r==null)return{};var n={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;n[s]=r[s]}return n}function WC(r){return!r||r.trim()==="#"}function zp({tagName:r,disabled:t,href:n,target:s,rel:o,role:u,onClick:h,tabIndex:m=0,type:p}){r||(n!=null||s!=null||o!=null?r="a":r="button");const g={tagName:r};if(r==="button")return[{type:p||"button",disabled:t},g];const E=w=>{if((t||r==="a"&&WC(n))&&w.preventDefault(),t){w.stopPropagation();return}h?.(w)},T=w=>{w.key===" "&&(w.preventDefault(),E(w))};return r==="a"&&(n||(n="#"),t&&(n=void 0)),[{role:u??"button",disabled:void 0,tabIndex:t?void 0:m,href:n,target:r==="a"?s:void 0,"aria-disabled":t||void 0,rel:r==="a"?o:void 0,onClick:E,onKeyDown:T},g]}const q0=b.forwardRef((r,t)=>{let{as:n,disabled:s}=r,o=JC(r,XC);const[u,{tagName:h}]=zp(Object.assign({tagName:n,disabled:s},o));return L.jsx(h,Object.assign({},o,u,{ref:t}))});q0.displayName="Button";const ZC=["onKeyDown"];function tI(r,t){if(r==null)return{};var n={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;n[s]=r[s]}return n}function eI(r){return!r||r.trim()==="#"}const jp=b.forwardRef((r,t)=>{let{onKeyDown:n}=r,s=tI(r,ZC);const[o]=zp(Object.assign({tagName:"a"},s)),u=ar(h=>{o.onKeyDown(h),n?.(h)});return eI(s.href)||s.role==="button"?L.jsx("a",Object.assign({ref:t},s,o,{onKeyDown:u})):L.jsx("a",Object.assign({ref:t},s,{onKeyDown:n}))});jp.displayName="Anchor";const nI={[Zn]:"show",[sr]:"show"},H0=b.forwardRef(({className:r,children:t,transitionClasses:n={},onEnter:s,...o},u)=>{const h={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...o},m=b.useCallback((p,g)=>{j0(p),s?.(p,g)},[s]);return L.jsx(Zh,{ref:u,addEndListener:Up,...h,onEnter:m,childRef:Io(t),children:(p,g)=>b.cloneElement(t,{...g,className:St("fade",r,t.props.className,nI[p],n[p])})})});H0.displayName="Fade";const iI={"aria-label":dr.string,onClick:dr.func,variant:dr.oneOf(["white"])},Bp=b.forwardRef(({className:r,variant:t,"aria-label":n="Close",...s},o)=>L.jsx("button",{ref:o,type:"button",className:St("btn-close",t&&`btn-close-${t}`,r),"aria-label":n,...s}));Bp.displayName="CloseButton";Bp.propTypes=iI;const pu=b.forwardRef(({as:r,bsPrefix:t,variant:n="primary",size:s,active:o=!1,disabled:u=!1,className:h,...m},p)=>{const g=Dt(t,"btn"),[E,{tagName:T}]=zp({tagName:r,disabled:u,...m}),w=T;return L.jsx(w,{...E,...m,ref:p,disabled:u,className:St(h,g,o&&"active",n&&`${g}-${n}`,s&&`${g}-${s}`,m.href&&u&&"disabled")})});pu.displayName="Button";const qp=b.forwardRef(({className:r,bsPrefix:t,as:n="div",...s},o)=>(t=Dt(t,"card-body"),L.jsx(n,{ref:o,className:St(r,t),...s})));qp.displayName="CardBody";const F0=b.forwardRef(({className:r,bsPrefix:t,as:n="div",...s},o)=>(t=Dt(t,"card-footer"),L.jsx(n,{ref:o,className:St(r,t),...s})));F0.displayName="CardFooter";const Hp=b.createContext(null);Hp.displayName="CardHeaderContext";const G0=b.forwardRef(({bsPrefix:r,className:t,as:n="div",...s},o)=>{const u=Dt(r,"card-header"),h=b.useMemo(()=>({cardHeaderBsPrefix:u}),[u]);return L.jsx(Hp.Provider,{value:h,children:L.jsx(n,{ref:o,...s,className:St(t,u)})})});G0.displayName="CardHeader";const $0=b.forwardRef(({bsPrefix:r,className:t,variant:n,as:s="img",...o},u)=>{const h=Dt(r,"card-img");return L.jsx(s,{ref:u,className:St(n?`${h}-${n}`:h,t),...o})});$0.displayName="CardImg";const K0=b.forwardRef(({className:r,bsPrefix:t,as:n="div",...s},o)=>(t=Dt(t,"card-img-overlay"),L.jsx(n,{ref:o,className:St(r,t),...s})));K0.displayName="CardImgOverlay";const Q0=b.forwardRef(({className:r,bsPrefix:t,as:n="a",...s},o)=>(t=Dt(t,"card-link"),L.jsx(n,{ref:o,className:St(r,t),...s})));Q0.displayName="CardLink";const rI=Pp("h6"),Y0=b.forwardRef(({className:r,bsPrefix:t,as:n=rI,...s},o)=>(t=Dt(t,"card-subtitle"),L.jsx(n,{ref:o,className:St(r,t),...s})));Y0.displayName="CardSubtitle";const X0=b.forwardRef(({className:r,bsPrefix:t,as:n="p",...s},o)=>(t=Dt(t,"card-text"),L.jsx(n,{ref:o,className:St(r,t),...s})));X0.displayName="CardText";const sI=Pp("h5"),J0=b.forwardRef(({className:r,bsPrefix:t,as:n=sI,...s},o)=>(t=Dt(t,"card-title"),L.jsx(n,{ref:o,className:St(r,t),...s})));J0.displayName="CardTitle";const W0=b.forwardRef(({bsPrefix:r,className:t,bg:n,text:s,border:o,body:u=!1,children:h,as:m="div",...p},g)=>{const E=Dt(r,"card");return L.jsx(m,{ref:g,...p,className:St(t,E,n&&`bg-${n}`,s&&`text-${s}`,o&&`border-${o}`),children:u?L.jsx(qp,{children:h}):h})});W0.displayName="Card";const aI=Object.assign(W0,{Img:$0,Title:J0,Subtitle:Y0,Body:qp,Link:Q0,Text:X0,Header:G0,Footer:F0,ImgOverlay:K0});function oI(r,t){return b.Children.toArray(r).some(n=>b.isValidElement(n)&&n.type===t)}function lI({as:r,bsPrefix:t,className:n,...s}){t=Dt(t,"col");const o=U0(),u=P0(),h=[],m=[];return o.forEach(p=>{const g=s[p];delete s[p];let E,T,w;typeof g=="object"&&g!=null?{span:E,offset:T,order:w}=g:E=g;const k=p!==u?`-${p}`:"";E&&h.push(E===!0?`${t}${k}`:`${t}${k}-${E}`),w!=null&&m.push(`order${k}-${w}`),T!=null&&m.push(`offset${k}-${T}`)}),[{...s,className:St(n,...h,...m)},{as:r,bsPrefix:t,spans:h}]}const Fp=b.forwardRef((r,t)=>{const[{className:n,...s},{as:o="div",bsPrefix:u,spans:h}]=lI(r);return L.jsx(o,{...s,ref:t,className:St(n,!h.length&&u)})});Fp.displayName="Col";const Gp=b.forwardRef(({bsPrefix:r,fluid:t=!1,as:n="div",className:s,...o},u)=>{const h=Dt(r,"container"),m=typeof t=="string"?`-${t}`:"-fluid";return L.jsx(n,{ref:u,...o,className:St(s,t?`${h}${m}`:h)})});Gp.displayName="Container";var uI=Function.prototype.bind.call(Function.prototype.call,[].slice);function na(r,t){return uI(r.querySelectorAll(t))}function cI(){const[,r]=b.useReducer(t=>t+1,0);return r}function kE(r,t){if(r.contains)return r.contains(t);if(r.compareDocumentPosition)return r===t||!!(r.compareDocumentPosition(t)&16)}const wh=b.createContext(null),$p=(r,t=null)=>r!=null?String(r):t||null,Kp=b.createContext(null);Kp.displayName="NavContext";const hI="data-rr-ui-",fI="rrUi";function ef(r){return`${hI}${r}`}function dI(r){return`${fI}${r}`}const Z0=b.createContext(Wh?window:void 0);Z0.Provider;function Qp(){return b.useContext(Z0)}const mI=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",pI=typeof document<"u",gI=pI||mI?b.useLayoutEffect:b.useEffect,No=b.createContext(null);No.displayName="NavbarContext";const yI={type:dr.string,tooltip:dr.bool,as:dr.elementType},nf=b.forwardRef(({as:r="div",className:t,type:n="valid",tooltip:s=!1,...o},u)=>L.jsx(r,{...o,ref:u,className:St(t,`${n}-${s?"tooltip":"feedback"}`)}));nf.displayName="Feedback";nf.propTypes=yI;const gr=b.createContext({}),Yp=b.forwardRef(({id:r,bsPrefix:t,className:n,type:s="checkbox",isValid:o=!1,isInvalid:u=!1,as:h="input",...m},p)=>{const{controlId:g}=b.useContext(gr);return t=Dt(t,"form-check-input"),L.jsx(h,{...m,ref:p,type:s,id:r||g,className:St(n,t,o&&"is-valid",u&&"is-invalid")})});Yp.displayName="FormCheckInput";const Rh=b.forwardRef(({bsPrefix:r,className:t,htmlFor:n,...s},o)=>{const{controlId:u}=b.useContext(gr);return r=Dt(r,"form-check-label"),L.jsx("label",{...s,ref:o,htmlFor:n||u,className:St(t,r)})});Rh.displayName="FormCheckLabel";const tS=b.forwardRef(({id:r,bsPrefix:t,bsSwitchPrefix:n,inline:s=!1,reverse:o=!1,disabled:u=!1,isValid:h=!1,isInvalid:m=!1,feedbackTooltip:p=!1,feedback:g,feedbackType:E,className:T,style:w,title:k="",type:H="checkbox",label:F,children:P,as:W="input",...et},it)=>{t=Dt(t,"form-check"),n=Dt(n,"form-switch");const{controlId:ht}=b.useContext(gr),pt=b.useMemo(()=>({controlId:r||ht}),[ht,r]),lt=!P&&F!=null&&F!==!1||oI(P,Rh),C=L.jsx(Yp,{...et,type:H==="switch"?"checkbox":H,ref:it,isValid:h,isInvalid:m,disabled:u,as:W});return L.jsx(gr.Provider,{value:pt,children:L.jsx("div",{style:w,className:St(T,lt&&t,s&&`${t}-inline`,o&&`${t}-reverse`,H==="switch"&&n),children:P||L.jsxs(L.Fragment,{children:[C,lt&&L.jsx(Rh,{title:k,children:F}),g&&L.jsx(nf,{type:E,tooltip:p,children:g})]})})})});tS.displayName="FormCheck";const Ch=Object.assign(tS,{Input:Yp,Label:Rh}),eS=b.forwardRef(({bsPrefix:r,type:t,size:n,htmlSize:s,id:o,className:u,isValid:h=!1,isInvalid:m=!1,plaintext:p,readOnly:g,as:E="input",...T},w)=>{const{controlId:k}=b.useContext(gr);return r=Dt(r,"form-control"),L.jsx(E,{...T,type:t,size:s,ref:w,readOnly:g,id:o||k,className:St(u,p?`${r}-plaintext`:r,n&&`${r}-${n}`,t==="color"&&`${r}-color`,h&&"is-valid",m&&"is-invalid")})});eS.displayName="FormControl";const _I=Object.assign(eS,{Feedback:nf}),nS=b.forwardRef(({className:r,bsPrefix:t,as:n="div",...s},o)=>(t=Dt(t,"form-floating"),L.jsx(n,{ref:o,className:St(r,t),...s})));nS.displayName="FormFloating";const Xp=b.forwardRef(({controlId:r,as:t="div",...n},s)=>{const o=b.useMemo(()=>({controlId:r}),[r]);return L.jsx(gr.Provider,{value:o,children:L.jsx(t,{...n,ref:s})})});Xp.displayName="FormGroup";const iS=b.forwardRef(({as:r="label",bsPrefix:t,column:n=!1,visuallyHidden:s=!1,className:o,htmlFor:u,...h},m)=>{const{controlId:p}=b.useContext(gr);t=Dt(t,"form-label");let g="col-form-label";typeof n=="string"&&(g=`${g} ${g}-${n}`);const E=St(o,t,s&&"visually-hidden",n&&g);return u=u||p,n?L.jsx(Fp,{ref:m,as:"label",className:E,htmlFor:u,...h}):L.jsx(r,{ref:m,className:E,htmlFor:u,...h})});iS.displayName="FormLabel";const rS=b.forwardRef(({bsPrefix:r,className:t,id:n,...s},o)=>{const{controlId:u}=b.useContext(gr);return r=Dt(r,"form-range"),L.jsx("input",{...s,type:"range",ref:o,className:St(t,r),id:n||u})});rS.displayName="FormRange";const sS=b.forwardRef(({bsPrefix:r,size:t,htmlSize:n,className:s,isValid:o=!1,isInvalid:u=!1,id:h,...m},p)=>{const{controlId:g}=b.useContext(gr);return r=Dt(r,"form-select"),L.jsx("select",{...m,size:n,ref:p,className:St(s,r,t&&`${r}-${t}`,o&&"is-valid",u&&"is-invalid"),id:h||g})});sS.displayName="FormSelect";const aS=b.forwardRef(({bsPrefix:r,className:t,as:n="small",muted:s,...o},u)=>(r=Dt(r,"form-text"),L.jsx(n,{...o,ref:u,className:St(t,r,s&&"text-muted")})));aS.displayName="FormText";const oS=b.forwardRef((r,t)=>L.jsx(Ch,{...r,ref:t,type:"switch"}));oS.displayName="Switch";const vI=Object.assign(oS,{Input:Ch.Input,Label:Ch.Label}),lS=b.forwardRef(({bsPrefix:r,className:t,children:n,controlId:s,label:o,...u},h)=>(r=Dt(r,"form-floating"),L.jsxs(Xp,{ref:h,className:St(t,r),controlId:s,...u,children:[n,L.jsx("label",{htmlFor:s,children:o})]})));lS.displayName="FloatingLabel";const EI={_ref:dr.any,validated:dr.bool,as:dr.elementType},Jp=b.forwardRef(({className:r,validated:t,as:n="form",...s},o)=>L.jsx(n,{...s,ref:o,className:St(r,t&&"was-validated")}));Jp.displayName="Form";Jp.propTypes=EI;const on=Object.assign(Jp,{Group:Xp,Control:_I,Floating:nS,Check:Ch,Switch:vI,Label:iS,Text:aS,Range:rS,Select:sS,FloatingLabel:lS}),UE=r=>!r||typeof r=="function"?r:t=>{r.current=t};function TI(r,t){const n=UE(r),s=UE(t);return o=>{n&&n(o),s&&s(o)}}function rf(r,t){return b.useMemo(()=>TI(r,t),[r,t])}const uS=b.createContext(null),SI=["as","active","eventKey"];function AI(r,t){if(r==null)return{};var n={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;n[s]=r[s]}return n}function cS({key:r,onClick:t,active:n,id:s,role:o,disabled:u}){const h=b.useContext(wh),m=b.useContext(Kp),p=b.useContext(uS);let g=n;const E={role:o};if(m){!o&&m.role==="tablist"&&(E.role="tab");const T=m.getControllerId(r??null),w=m.getControlledId(r??null);E[ef("event-key")]=r,E.id=T||s,g=n==null&&r!=null?m.activeKey===r:n,(g||!(p!=null&&p.unmountOnExit)&&!(p!=null&&p.mountOnEnter))&&(E["aria-controls"]=w)}return E.role==="tab"&&(E["aria-selected"]=g,g||(E.tabIndex=-1),u&&(E.tabIndex=-1,E["aria-disabled"]=!0)),E.onClick=ar(T=>{u||(t?.(T),r!=null&&h&&!T.isPropagationStopped()&&h(r,T))}),[E,{isActive:g}]}const hS=b.forwardRef((r,t)=>{let{as:n=q0,active:s,eventKey:o}=r,u=AI(r,SI);const[h,m]=cS(Object.assign({key:$p(o,u.href),active:s},u));return h[ef("active")]=m.isActive,L.jsx(n,Object.assign({},u,h,{ref:t}))});hS.displayName="NavItem";const bI=["as","onSelect","activeKey","role","onKeyDown"];function wI(r,t){if(r==null)return{};var n={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;n[s]=r[s]}return n}const PE=()=>{},zE=ef("event-key"),fS=b.forwardRef((r,t)=>{let{as:n="div",onSelect:s,activeKey:o,role:u,onKeyDown:h}=r,m=wI(r,bI);const p=cI(),g=b.useRef(!1),E=b.useContext(wh),T=b.useContext(uS);let w,k;T&&(u=u||"tablist",o=T.activeKey,w=T.getControlledId,k=T.getControllerId);const H=b.useRef(null),F=it=>{const ht=H.current;if(!ht)return null;const pt=na(ht,`[${zE}]:not([aria-disabled=true])`),lt=ht.querySelector("[aria-selected=true]");if(!lt||lt!==document.activeElement)return null;const C=pt.indexOf(lt);if(C===-1)return null;let R=C+it;return R>=pt.length&&(R=0),R<0&&(R=pt.length-1),pt[R]},P=(it,ht)=>{it!=null&&(s?.(it,ht),E?.(it,ht))},W=it=>{if(h?.(it),!T)return;let ht;switch(it.key){case"ArrowLeft":case"ArrowUp":ht=F(-1);break;case"ArrowRight":case"ArrowDown":ht=F(1);break;default:return}ht&&(it.preventDefault(),P(ht.dataset[dI("EventKey")]||null,it),g.current=!0,p())};b.useEffect(()=>{if(H.current&&g.current){const it=H.current.querySelector(`[${zE}][aria-selected=true]`);it?.focus()}g.current=!1});const et=rf(t,H);return L.jsx(wh.Provider,{value:P,children:L.jsx(Kp.Provider,{value:{role:u,activeKey:$p(o),getControlledId:w||PE,getControllerId:k||PE},children:L.jsx(n,Object.assign({},m,{onKeyDown:W,ref:et,role:u}))})})});fS.displayName="Nav";const RI=Object.assign(fS,{Item:hS});function Lm(r){r===void 0&&(r=kp());try{var t=r.activeElement;return!t||!t.nodeName?null:t}catch{return r.body}}function CI(r){const t=b.useRef(r);return t.current=r,t}function II(r){const t=CI(r);b.useEffect(()=>()=>t.current(),[])}function NI(r=document){const t=r.defaultView;return Math.abs(t.innerWidth-r.documentElement.clientWidth)}const jE=ef("modal-open");class Wp{constructor({ownerDocument:t,handleContainerOverflow:n=!0,isRTL:s=!1}={}){this.handleContainerOverflow=n,this.isRTL=s,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return NI(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const n={overflow:"hidden"},s=this.isRTL?"paddingLeft":"paddingRight",o=this.getElement();t.style={overflow:o.style.overflow,[s]:o.style[s]},t.scrollBarWidth&&(n[s]=`${parseInt(fr(o,s)||"0",10)+t.scrollBarWidth}px`),o.setAttribute(jE,""),fr(o,n)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const n=this.getElement();n.removeAttribute(jE),Object.assign(n.style,t.style)}add(t){let n=this.modals.indexOf(t);return n!==-1||(n=this.modals.length,this.modals.push(t),this.setModalAttributes(t),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(t){const n=this.modals.indexOf(t);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const km=(r,t)=>Wh?r==null?(t||kp()).body:(typeof r=="function"&&(r=r()),r&&"current"in r&&(r=r.current),r&&("nodeType"in r||r.getBoundingClientRect)?r:null):null;function DI(r,t){const n=Qp(),[s,o]=b.useState(()=>km(r,n?.document));if(!s){const u=km(r);u&&o(u)}return b.useEffect(()=>{},[t,s]),b.useEffect(()=>{const u=km(r);u!==s&&o(u)},[r,s]),s}function OI({children:r,in:t,onExited:n,mountOnEnter:s,unmountOnExit:o}){const u=b.useRef(null),h=b.useRef(t),m=ar(n);b.useEffect(()=>{t?h.current=!0:m(u.current)},[t,m]);const p=rf(u,Io(r)),g=b.cloneElement(r,{ref:p});return t?g:o||!h.current&&s?null:g}const xI=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function MI(r,t){if(r==null)return{};var n={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;n[s]=r[s]}return n}function VI(r){let{onEnter:t,onEntering:n,onEntered:s,onExit:o,onExiting:u,onExited:h,addEndListener:m,children:p}=r,g=MI(r,xI);const E=b.useRef(null),T=rf(E,Io(p)),w=ht=>pt=>{ht&&E.current&&ht(E.current,pt)},k=b.useCallback(w(t),[t]),H=b.useCallback(w(n),[n]),F=b.useCallback(w(s),[s]),P=b.useCallback(w(o),[o]),W=b.useCallback(w(u),[u]),et=b.useCallback(w(h),[h]),it=b.useCallback(w(m),[m]);return Object.assign({},g,{nodeRef:E},t&&{onEnter:k},n&&{onEntering:H},s&&{onEntered:F},o&&{onExit:P},u&&{onExiting:W},h&&{onExited:et},m&&{addEndListener:it},{children:typeof p=="function"?(ht,pt)=>p(ht,Object.assign({},pt,{ref:T})):b.cloneElement(p,{ref:T})})}const LI=["component"];function kI(r,t){if(r==null)return{};var n={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;n[s]=r[s]}return n}const UI=b.forwardRef((r,t)=>{let{component:n}=r,s=kI(r,LI);const o=VI(s);return L.jsx(n,Object.assign({ref:t},o))});function PI({in:r,onTransition:t}){const n=b.useRef(null),s=b.useRef(!0),o=ar(t);return LE(()=>{if(!n.current)return;let u=!1;return o({in:r,element:n.current,initial:s.current,isStale:()=>u}),()=>{u=!0}},[r,o]),LE(()=>(s.current=!1,()=>{s.current=!0}),[]),n}function zI({children:r,in:t,onExited:n,onEntered:s,transition:o}){const[u,h]=b.useState(!t);t&&u&&h(!1);const m=PI({in:!!t,onTransition:g=>{const E=()=>{g.isStale()||(g.in?s?.(g.element,g.initial):(h(!0),n?.(g.element)))};Promise.resolve(o(g)).then(E,T=>{throw g.in||h(!0),T})}}),p=rf(m,Io(r));return u&&!t?null:b.cloneElement(r,{ref:p})}function BE(r,t,n){return r?L.jsx(UI,Object.assign({},n,{component:r})):t?L.jsx(zI,Object.assign({},n,{transition:t})):L.jsx(OI,Object.assign({},n))}const jI=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function BI(r,t){if(r==null)return{};var n={};for(var s in r)if({}.hasOwnProperty.call(r,s)){if(t.indexOf(s)>=0)continue;n[s]=r[s]}return n}let Um;function qI(r){return Um||(Um=new Wp({ownerDocument:r?.document})),Um}function HI(r){const t=Qp(),n=r||qI(t),s=b.useRef({dialog:null,backdrop:null});return Object.assign(s.current,{add:()=>n.add(s.current),remove:()=>n.remove(s.current),isTopModal:()=>n.isTopModal(s.current),setDialogRef:b.useCallback(o=>{s.current.dialog=o},[]),setBackdropRef:b.useCallback(o=>{s.current.backdrop=o},[])})}const dS=b.forwardRef((r,t)=>{let{show:n=!1,role:s="dialog",className:o,style:u,children:h,backdrop:m=!0,keyboard:p=!0,onBackdropClick:g,onEscapeKeyDown:E,transition:T,runTransition:w,backdropTransition:k,runBackdropTransition:H,autoFocus:F=!0,enforceFocus:P=!0,restoreFocus:W=!0,restoreFocusOptions:et,renderDialog:it,renderBackdrop:ht=ie=>L.jsx("div",Object.assign({},ie)),manager:pt,container:lt,onShow:C,onHide:R=()=>{},onExit:I,onExited:V,onExiting:O,onEnter:z,onEntering:N,onEntered:Qt}=r,he=BI(r,jI);const Q=Qp(),rt=DI(lt),ut=HI(pt),Ot=$C(),qt=KC(n),[x,X]=b.useState(!n),st=b.useRef(null);b.useImperativeHandle(t,()=>ut,[ut]),Wh&&!qt&&n&&(st.current=Lm(Q?.document)),n&&x&&X(!1);const ot=ar(()=>{if(ut.add(),jn.current=bh(document,"keydown",ge),Wt.current=bh(document,"focus",()=>setTimeout(Rt),!0),C&&C(),F){var ie,ai;const zi=Lm((ie=(ai=ut.dialog)==null?void 0:ai.ownerDocument)!=null?ie:Q?.document);ut.dialog&&zi&&!kE(ut.dialog,zi)&&(st.current=zi,ut.dialog.focus())}}),_t=ar(()=>{if(ut.remove(),jn.current==null||jn.current(),Wt.current==null||Wt.current(),W){var ie;(ie=st.current)==null||ie.focus==null||ie.focus(et),st.current=null}});b.useEffect(()=>{!n||!rt||ot()},[n,rt,ot]),b.useEffect(()=>{x&&_t()},[x,_t]),II(()=>{_t()});const Rt=ar(()=>{if(!P||!Ot()||!ut.isTopModal())return;const ie=Lm(Q?.document);ut.dialog&&ie&&!kE(ut.dialog,ie)&&ut.dialog.focus()}),Vt=ar(ie=>{ie.target===ie.currentTarget&&(g?.(ie),m===!0&&R())}),ge=ar(ie=>{p&&DC(ie)&&ut.isTopModal()&&(E?.(ie),ie.defaultPrevented||R())}),Wt=b.useRef(),jn=b.useRef(),wr=(...ie)=>{X(!0),V?.(...ie)};if(!rt)return null;const Pi=Object.assign({role:s,ref:ut.setDialogRef,"aria-modal":s==="dialog"?!0:void 0},he,{style:u,className:o,tabIndex:-1});let si=it?it(Pi):L.jsx("div",Object.assign({},Pi,{children:b.cloneElement(h,{role:"document"})}));si=BE(T,w,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:I,onExiting:O,onExited:wr,onEnter:z,onEntering:N,onEntered:Qt,children:si});let nn=null;return m&&(nn=ht({ref:ut.setBackdropRef,onClick:Vt}),nn=BE(k,H,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:nn})),L.jsx(L.Fragment,{children:co.createPortal(L.jsxs(L.Fragment,{children:[nn,si]}),rt)})});dS.displayName="Modal";const FI=Object.assign(dS,{Manager:Wp});function GI(r,t){return r.classList?r.classList.contains(t):(" "+(r.className.baseVal||r.className)+" ").indexOf(" "+t+" ")!==-1}function $I(r,t){r.classList?r.classList.add(t):GI(r,t)||(typeof r.className=="string"?r.className=r.className+" "+t:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+t))}function qE(r,t){return r.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function KI(r,t){r.classList?r.classList.remove(t):typeof r.className=="string"?r.className=qE(r.className,t):r.setAttribute("class",qE(r.className&&r.className.baseVal||"",t))}const ro={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class mS extends Wp{adjustAndStore(t,n,s){const o=n.style[t];n.dataset[t]=o,fr(n,{[t]:`${parseFloat(fr(n,t))+s}px`})}restore(t,n){const s=n.dataset[t];s!==void 0&&(delete n.dataset[t],fr(n,{[t]:s}))}setContainerStyle(t){super.setContainerStyle(t);const n=this.getElement();if($I(n,"modal-open"),!t.scrollBarWidth)return;const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";na(n,ro.FIXED_CONTENT).forEach(u=>this.adjustAndStore(s,u,t.scrollBarWidth)),na(n,ro.STICKY_CONTENT).forEach(u=>this.adjustAndStore(o,u,-t.scrollBarWidth)),na(n,ro.NAVBAR_TOGGLER).forEach(u=>this.adjustAndStore(o,u,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const n=this.getElement();KI(n,"modal-open");const s=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";na(n,ro.FIXED_CONTENT).forEach(u=>this.restore(s,u)),na(n,ro.STICKY_CONTENT).forEach(u=>this.restore(o,u)),na(n,ro.NAVBAR_TOGGLER).forEach(u=>this.restore(o,u))}}let Pm;function QI(r){return Pm||(Pm=new mS(r)),Pm}const pS=b.createContext({onHide(){}}),gS=b.forwardRef(({closeLabel:r="Close",closeVariant:t,closeButton:n=!1,onHide:s,children:o,...u},h)=>{const m=b.useContext(pS),p=tf(()=>{m?.onHide(),s?.()});return L.jsxs("div",{ref:h,...u,children:[o,n&&L.jsx(Bp,{"aria-label":r,variant:t,onClick:p})]})});gS.displayName="AbstractModalHeader";const yS=b.forwardRef(({className:r,bsPrefix:t,as:n="div",...s},o)=>(t=Dt(t,"nav-item"),L.jsx(n,{ref:o,className:St(r,t),...s})));yS.displayName="NavItem";const _S=b.forwardRef(({bsPrefix:r,className:t,as:n=jp,active:s,eventKey:o,disabled:u=!1,...h},m)=>{r=Dt(r,"nav-link");const[p,g]=cS({key:$p(o,h.href),active:s,disabled:u,...h});return L.jsx(n,{...h,...p,ref:m,disabled:u,className:St(t,r,u&&"disabled",g.isActive&&"active")})});_S.displayName="NavLink";const vS=b.forwardRef((r,t)=>{const{as:n="div",bsPrefix:s,variant:o,fill:u=!1,justify:h=!1,navbar:m,navbarScroll:p,className:g,activeKey:E,...T}=k0(r,{activeKey:"onSelect"}),w=Dt(s,"nav");let k,H,F=!1;const P=b.useContext(No),W=b.useContext(Hp);return P?(k=P.bsPrefix,F=m??!0):W&&({cardHeaderBsPrefix:H}=W),L.jsx(RI,{as:n,ref:t,activeKey:E,className:St(g,{[w]:!F,[`${k}-nav`]:F,[`${k}-nav-scroll`]:F&&p,[`${H}-${o}`]:!!H,[`${w}-${o}`]:!!o,[`${w}-fill`]:u,[`${w}-justified`]:h}),...T})});vS.displayName="Nav";const ta=Object.assign(vS,{Item:yS,Link:_S}),ES=b.forwardRef(({bsPrefix:r,className:t,as:n,...s},o)=>{r=Dt(r,"navbar-brand");const u=n||(s.href?"a":"span");return L.jsx(u,{...s,ref:o,className:St(t,r)})});ES.displayName="NavbarBrand";const TS=b.forwardRef(({children:r,bsPrefix:t,...n},s)=>{t=Dt(t,"navbar-collapse");const o=b.useContext(No);return L.jsx(B0,{in:!!(o&&o.expanded),...n,children:L.jsx("div",{ref:s,className:t,children:r})})});TS.displayName="NavbarCollapse";const SS=b.forwardRef(({bsPrefix:r,className:t,children:n,label:s="Toggle navigation",as:o="button",onClick:u,...h},m)=>{r=Dt(r,"navbar-toggler");const{onToggle:p,expanded:g}=b.useContext(No)||{},E=tf(T=>{u&&u(T),p&&p()});return o==="button"&&(h.type="button"),L.jsx(o,{...h,ref:m,onClick:E,"aria-label":s,className:St(t,r,!g&&"collapsed"),children:n||L.jsx("span",{className:`${r}-icon`})})});SS.displayName="NavbarToggle";const ip=new WeakMap,HE=(r,t)=>{if(!r||!t)return;const n=ip.get(t)||new Map;ip.set(t,n);let s=n.get(r);return s||(s=t.matchMedia(r),s.refCount=0,n.set(s.media,s)),s};function YI(r,t=typeof window>"u"?void 0:window){const n=HE(r,t),[s,o]=b.useState(()=>n?n.matches:!1);return gI(()=>{let u=HE(r,t);if(!u)return o(!1);let h=ip.get(t);const m=()=>{o(u.matches)};return u.refCount++,u.addListener(m),m(),()=>{u.removeListener(m),u.refCount--,u.refCount<=0&&h?.delete(u.media),u=void 0}},[r]),s}function XI(r){const t=Object.keys(r);function n(m,p){return m===p?p:m?`${m} and ${p}`:p}function s(m){return t[Math.min(t.indexOf(m)+1,t.length-1)]}function o(m){const p=s(m);let g=r[p];return typeof g=="number"?g=`${g-.2}px`:g=`calc(${g} - 0.2px)`,`(max-width: ${g})`}function u(m){let p=r[m];return typeof p=="number"&&(p=`${p}px`),`(min-width: ${p})`}function h(m,p,g){let E;typeof m=="object"?(E=m,g=p,p=!0):(p=p||!0,E={[m]:p});let T=b.useMemo(()=>Object.entries(E).reduce((w,[k,H])=>((H==="up"||H===!0)&&(w=n(w,u(k))),(H==="down"||H===!0)&&(w=n(w,o(k))),w),""),[JSON.stringify(E)]);return YI(T,g)}return h}const JI=XI({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),AS=b.forwardRef(({className:r,bsPrefix:t,as:n="div",...s},o)=>(t=Dt(t,"offcanvas-body"),L.jsx(n,{ref:o,className:St(r,t),...s})));AS.displayName="OffcanvasBody";const WI={[Zn]:"show",[sr]:"show"},bS=b.forwardRef(({bsPrefix:r,className:t,children:n,in:s=!1,mountOnEnter:o=!1,unmountOnExit:u=!1,appear:h=!1,...m},p)=>(r=Dt(r,"offcanvas"),L.jsx(Zh,{ref:p,addEndListener:Up,in:s,mountOnEnter:o,unmountOnExit:u,appear:h,...m,childRef:Io(n),children:(g,E)=>b.cloneElement(n,{...E,className:St(t,n.props.className,(g===Zn||g===nu)&&`${r}-toggling`,WI[g])})})));bS.displayName="OffcanvasToggling";const wS=b.forwardRef(({bsPrefix:r,className:t,closeLabel:n="Close",closeButton:s=!1,...o},u)=>(r=Dt(r,"offcanvas-header"),L.jsx(gS,{ref:u,...o,className:St(t,r),closeLabel:n,closeButton:s})));wS.displayName="OffcanvasHeader";const ZI=Pp("h5"),RS=b.forwardRef(({className:r,bsPrefix:t,as:n=ZI,...s},o)=>(t=Dt(t,"offcanvas-title"),L.jsx(n,{ref:o,className:St(r,t),...s})));RS.displayName="OffcanvasTitle";function t2(r){return L.jsx(bS,{...r})}function e2(r){return L.jsx(H0,{...r})}const CS=b.forwardRef(({bsPrefix:r,className:t,children:n,"aria-labelledby":s,placement:o="start",responsive:u,show:h=!1,backdrop:m=!0,keyboard:p=!0,scroll:g=!1,onEscapeKeyDown:E,onShow:T,onHide:w,container:k,autoFocus:H=!0,enforceFocus:F=!0,restoreFocus:P=!0,restoreFocusOptions:W,onEntered:et,onExit:it,onExiting:ht,onEnter:pt,onEntering:lt,onExited:C,backdropClassName:R,manager:I,renderStaticNode:V=!1,...O},z)=>{const N=b.useRef();r=Dt(r,"offcanvas");const[Qt,he]=b.useState(!1),Q=tf(w),rt=JI(u||"xs","up");b.useEffect(()=>{he(u?h&&!rt:h)},[h,u,rt]);const ut=b.useMemo(()=>({onHide:Q}),[Q]);function Ot(){return I||(g?(N.current||(N.current=new mS({handleContainerOverflow:!1})),N.current):QI())}const qt=(ot,..._t)=>{ot&&(ot.style.visibility="visible"),pt?.(ot,..._t)},x=(ot,..._t)=>{ot&&(ot.style.visibility=""),C?.(..._t)},X=b.useCallback(ot=>L.jsx("div",{...ot,className:St(`${r}-backdrop`,R)}),[R,r]),st=ot=>L.jsx("div",{...ot,...O,className:St(t,u?`${r}-${u}`:r,`${r}-${o}`),"aria-labelledby":s,children:n});return L.jsxs(L.Fragment,{children:[!Qt&&(u||V)&&st({}),L.jsx(pS.Provider,{value:ut,children:L.jsx(FI,{show:Qt,ref:z,backdrop:m,container:k,keyboard:p,autoFocus:H,enforceFocus:F&&!g,restoreFocus:P,restoreFocusOptions:W,onEscapeKeyDown:E,onShow:T,onHide:Q,onEnter:qt,onEntering:lt,onEntered:et,onExit:it,onExiting:ht,onExited:x,manager:Ot(),transition:t2,backdropTransition:e2,renderBackdrop:X,renderDialog:st})})]})});CS.displayName="Offcanvas";const n2=Object.assign(CS,{Body:AS,Header:wS,Title:RS}),IS=b.forwardRef(({onHide:r,...t},n)=>{const s=b.useContext(No),o=tf(()=>{s==null||s.onToggle==null||s.onToggle(),r?.()});return L.jsx(n2,{ref:n,show:!!(s!=null&&s.expanded),...t,renderStaticNode:!0,onHide:o})});IS.displayName="NavbarOffcanvas";const NS=b.forwardRef(({className:r,bsPrefix:t,as:n="span",...s},o)=>(t=Dt(t,"navbar-text"),L.jsx(n,{ref:o,className:St(r,t),...s})));NS.displayName="NavbarText";const DS=b.forwardRef((r,t)=>{const{bsPrefix:n,expand:s=!0,variant:o="light",bg:u,fixed:h,sticky:m,className:p,as:g="nav",expanded:E,onToggle:T,onSelect:w,collapseOnSelect:k=!1,...H}=k0(r,{expanded:"onToggle"}),F=Dt(n,"navbar"),P=b.useCallback((...it)=>{w?.(...it),k&&E&&T?.(!1)},[w,k,E,T]);H.role===void 0&&g!=="nav"&&(H.role="navigation");let W=`${F}-expand`;typeof s=="string"&&(W=`${W}-${s}`);const et=b.useMemo(()=>({onToggle:()=>T?.(!E),bsPrefix:F,expanded:!!E,expand:s}),[F,E,s,T]);return L.jsx(No.Provider,{value:et,children:L.jsx(wh.Provider,{value:P,children:L.jsx(g,{ref:t,...H,className:St(p,F,s&&W,o&&`${F}-${o}`,u&&`bg-${u}`,m&&`sticky-${m}`,h&&`fixed-${h}`)})})})});DS.displayName="Navbar";const ih=Object.assign(DS,{Brand:ES,Collapse:TS,Offcanvas:IS,Text:NS,Toggle:SS}),Zp=b.forwardRef(({active:r=!1,disabled:t=!1,className:n,style:s,activeLabel:o="(current)",children:u,linkStyle:h,linkClassName:m,as:p=jp,...g},E)=>{const T=r||t?"span":p;return L.jsx("li",{ref:E,style:s,className:St(n,"page-item",{active:r,disabled:t}),children:L.jsxs(T,{className:St("page-link",m),style:h,...g,children:[u,r&&o&&L.jsx("span",{className:"visually-hidden",children:o})]})})});Zp.displayName="PageItem";function gu(r,t,n=r){const s=b.forwardRef(({children:o,...u},h)=>L.jsxs(Zp,{...u,ref:h,children:[L.jsx("span",{"aria-hidden":"true",children:o||t}),L.jsx("span",{className:"visually-hidden",children:n})]}));return s.displayName=r,s}const i2=gu("First",""),r2=gu("Prev","","Previous"),s2=gu("Ellipsis","","More"),a2=gu("Next",""),o2=gu("Last",""),OS=b.forwardRef(({bsPrefix:r,className:t,size:n,...s},o)=>{const u=Dt(r,"pagination");return L.jsx("ul",{ref:o,...s,className:St(t,u,n&&`${u}-${n}`)})});OS.displayName="Pagination";const FE=Object.assign(OS,{First:i2,Prev:r2,Ellipsis:s2,Item:Zp,Next:a2,Last:o2}),xS=b.forwardRef(({bsPrefix:r,className:t,as:n="div",...s},o)=>{const u=Dt(r,"row"),h=U0(),m=P0(),p=`${u}-cols`,g=[];return h.forEach(E=>{const T=s[E];delete s[E];let w;T!=null&&typeof T=="object"?{cols:w}=T:w=T;const k=E!==m?`-${E}`:"";w!=null&&g.push(`${p}${k}-${w}`)}),L.jsx(n,{ref:o,...s,className:St(t,u,...g)})});xS.displayName="Row";function l2(r){return L.jsxs("div",{children:[L.jsx("h1",{children:"Welcome to Riffrate"}),L.jsx("br",{}),L.jsx("h3",{children:"Track artists and venues you love."}),L.jsx("h3",{children:"Tell your friends whats good."}),L.jsx("br",{}),L.jsxs("div",{className:"d-grid gap-2 d-md-block",children:[L.jsx(wn,{to:"/ReviewByBand",children:L.jsx("button",{type:"button",className:"btn btn-outline-dark me-4",children:"See Reviews by Band"})}),L.jsx(wn,{to:"/ReviewByVenue",children:L.jsx("button",{type:"button",className:"btn btn-outline-dark me-4",children:"See Reviews by Venue"})})]})]})}function u2(r){return L.jsx("div",{children:L.jsx("h1",{children:"Your reviews go here"})})}function c2(r){const t=new Date(r.created);return L.jsxs(aI,{style:{margin:"0.5rem",padding:"0.5rem"},children:[L.jsx("h2",{children:r.title}),L.jsxs("sub",{children:["Posted on ",t.toLocaleDateString()," at ",t.toLocaleTimeString()]}),L.jsx("br",{}),L.jsx("i",{children:r.poster}),L.jsx("p",{children:r.content}),r.poster===sessionStorage.getItem("username")&&L.jsx(L.Fragment,{children:L.jsx(pu,{variant:"danger",type:"delete",onClick:()=>r.delete(r.id),children:"Delete"})})]})}const h2=()=>{};var GE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS=function(r){const t=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},f2=function(r){const t=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)t[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];t[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],h=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;t[s++]=String.fromCharCode(55296+(p>>10)),t[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],h=r[n++];t[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return t.join("")},VS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,m=h?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,T=(u&3)<<4|m>>4;let w=(m&15)<<2|g>>6,k=g&63;p||(k=64,h||(w=64)),s.push(n[E],n[T],n[w],n[k])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(MS(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):f2(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const T=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||T==null)throw new d2;const w=u<<2|m>>4;if(s.push(w),g!==64){const k=m<<4&240|g>>2;if(s.push(k),T!==64){const H=g<<6&192|T;s.push(H)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class d2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const m2=function(r){const t=MS(r);return VS.encodeByteArray(t,!0)},Ih=function(r){return m2(r).replace(/\./g,"")},LS=function(r){try{return VS.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=()=>p2().__FIREBASE_DEFAULTS__,y2=()=>{if(typeof process>"u"||typeof GE>"u")return;const r=GE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},_2=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&LS(r[1]);return t&&JSON.parse(t)},sf=()=>{try{return h2()||g2()||y2()||_2()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},kS=r=>sf()?.emulatorHosts?.[r],v2=r=>{const t=kS(r);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),s]:[t.substring(0,n),s]},US=()=>sf()?.config,PS=r=>sf()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Do(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function zS(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T2(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=t||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Ih(JSON.stringify(n)),Ih(JSON.stringify(h)),""].join(".")}const Yl={};function S2(){const r={prod:[],emulator:[]};for(const t of Object.keys(Yl))Yl[t]?r.emulator.push(t):r.prod.push(t);return r}function A2(r){let t=document.getElementById(r),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),n=!0),{created:n,element:t}}let $E=!1;function jS(r,t){if(typeof window>"u"||typeof document>"u"||!Do(window.location.host)||Yl[r]===t||Yl[r]||$E)return;Yl[r]=t;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=S2().prod.length>0;function h(){const w=document.getElementById(s);w&&w.remove()}function m(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function p(w,k){w.setAttribute("width","24"),w.setAttribute("id",k),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function g(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{$E=!0,h()},w}function E(w,k){w.setAttribute("id",k),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function T(){const w=A2(s),k=n("text"),H=document.getElementById(k)||document.createElement("span"),F=n("learnmore"),P=document.getElementById(F)||document.createElement("a"),W=n("preprendIcon"),et=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const it=w.element;m(it),E(P,F);const ht=g();p(et,W),it.append(et,H,P,ht),document.body.appendChild(it)}u?(H.innerText="Preview backend disconnected.",et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,H.innerText="Preview backend running in this workspace."),H.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function b2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(en())}function w2(){const r=sf()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function R2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function C2(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function I2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function N2(){const r=en();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function D2(){return!w2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function O2(){try{return typeof indexedDB=="object"}catch{return!1}}function x2(){return new Promise((r,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2="FirebaseError";class br extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=M2,Object.setPrototypeOf(this,br.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yu.prototype.create)}}class yu{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],h=u?V2(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new br(o,m,s)}}function V2(r,t){return r.replace(L2,(n,s)=>{const o=t[s];return o!=null?String(o):`<${s}?>`})}const L2=/\{\$([^}]+)}/g;function k2(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function aa(r,t){if(r===t)return!0;const n=Object.keys(r),s=Object.keys(t);for(const o of n){if(!s.includes(o))return!1;const u=r[o],h=t[o];if(KE(u)&&KE(h)){if(!aa(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function KE(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(r){const t=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function U2(r,t){const n=new P2(r,t);return n.subscribe.bind(n)}class P2{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,s){let o;if(t===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");z2(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:s},o.next===void 0&&(o.next=zm),o.error===void 0&&(o.error=zm),o.complete===void 0&&(o.complete=zm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function z2(r,t){if(typeof r!="object"||r===null)return!1;for(const n of t)if(n in r&&typeof r[n]=="function")return!0;return!1}function zm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(r){return r&&r._delegate?r._delegate:r}class oa{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new E2;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(q2(t))try{this.getOrInitializeService({instanceIdentifier:ia})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(t=ia){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ia){return this.instances.has(t)}getOptions(t=ia){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(t,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(t),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&t(u,s),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:B2(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=ia){return this.component?this.component.multipleInstances?t:ia:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function B2(r){return r===ia?void 0:r}function q2(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new j2(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ut||(Ut={}));const F2={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},G2=Ut.INFO,$2={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},K2=(r,t,...n)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),o=$2[t];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class tg{constructor(t){this.name=t,this._logLevel=G2,this._logHandler=K2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ut))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?F2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...t),this._logHandler(this,Ut.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...t),this._logHandler(this,Ut.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...t),this._logHandler(this,Ut.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...t),this._logHandler(this,Ut.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...t),this._logHandler(this,Ut.ERROR,...t)}}const Q2=(r,t)=>t.some(n=>r instanceof n);let QE,YE;function Y2(){return QE||(QE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function X2(){return YE||(YE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const BS=new WeakMap,rp=new WeakMap,qS=new WeakMap,jm=new WeakMap,eg=new WeakMap;function J2(r){const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{n(fs(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return t.then(n=>{n instanceof IDBCursor&&BS.set(n,r)}).catch(()=>{}),eg.set(t,r),t}function W2(r){if(rp.has(r))return;const t=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});rp.set(r,t)}let sp={get(r,t,n){if(r instanceof IDBTransaction){if(t==="done")return rp.get(r);if(t==="objectStoreNames")return r.objectStoreNames||qS.get(r);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fs(r[t])},set(r,t,n){return r[t]=n,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function Z2(r){sp=r(sp)}function tN(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=r.call(Bm(this),t,...n);return qS.set(s,t.sort?t.sort():[t]),fs(s)}:X2().includes(r)?function(...t){return r.apply(Bm(this),t),fs(BS.get(this))}:function(...t){return fs(r.apply(Bm(this),t))}}function eN(r){return typeof r=="function"?tN(r):(r instanceof IDBTransaction&&W2(r),Q2(r,Y2())?new Proxy(r,sp):r)}function fs(r){if(r instanceof IDBRequest)return J2(r);if(jm.has(r))return jm.get(r);const t=eN(r);return t!==r&&(jm.set(r,t),eg.set(t,r)),t}const Bm=r=>eg.get(r);function nN(r,t,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,t),m=fs(h);return s&&h.addEventListener("upgradeneeded",p=>{s(fs(h.result),p.oldVersion,p.newVersion,fs(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const iN=["get","getKey","getAll","getAllKeys","count"],rN=["put","add","delete","clear"],qm=new Map;function XE(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(qm.get(t))return qm.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,o=rN.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||iN.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return qm.set(t,u),u}Z2(r=>({...r,get:(t,n,s)=>XE(t,n)||r.get(t,n,s),has:(t,n)=>!!XE(t,n)||r.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(aN(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function aN(r){return r.getComponent()?.type==="VERSION"}const ap="@firebase/app",JE="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr=new tg("@firebase/app"),oN="@firebase/app-compat",lN="@firebase/analytics-compat",uN="@firebase/analytics",cN="@firebase/app-check-compat",hN="@firebase/app-check",fN="@firebase/auth",dN="@firebase/auth-compat",mN="@firebase/database",pN="@firebase/data-connect",gN="@firebase/database-compat",yN="@firebase/functions",_N="@firebase/functions-compat",vN="@firebase/installations",EN="@firebase/installations-compat",TN="@firebase/messaging",SN="@firebase/messaging-compat",AN="@firebase/performance",bN="@firebase/performance-compat",wN="@firebase/remote-config",RN="@firebase/remote-config-compat",CN="@firebase/storage",IN="@firebase/storage-compat",NN="@firebase/firestore",DN="@firebase/ai",ON="@firebase/firestore-compat",xN="firebase",MN="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op="[DEFAULT]",VN={[ap]:"fire-core",[oN]:"fire-core-compat",[uN]:"fire-analytics",[lN]:"fire-analytics-compat",[hN]:"fire-app-check",[cN]:"fire-app-check-compat",[fN]:"fire-auth",[dN]:"fire-auth-compat",[mN]:"fire-rtdb",[pN]:"fire-data-connect",[gN]:"fire-rtdb-compat",[yN]:"fire-fn",[_N]:"fire-fn-compat",[vN]:"fire-iid",[EN]:"fire-iid-compat",[TN]:"fire-fcm",[SN]:"fire-fcm-compat",[AN]:"fire-perf",[bN]:"fire-perf-compat",[wN]:"fire-rc",[RN]:"fire-rc-compat",[CN]:"fire-gcs",[IN]:"fire-gcs-compat",[NN]:"fire-fst",[ON]:"fire-fst-compat",[DN]:"fire-vertex","fire-js":"fire-js",[xN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=new Map,LN=new Map,lp=new Map;function WE(r,t){try{r.container.addComponent(t)}catch(n){yr.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,n)}}function vo(r){const t=r.name;if(lp.has(t))return yr.debug(`There were multiple attempts to register component ${t}.`),!1;lp.set(t,r);for(const n of Nh.values())WE(n,r);for(const n of LN.values())WE(n,r);return!0}function ng(r,t){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(t)}function Ni(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ds=new yu("app","Firebase",kN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(t,n,s){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new oa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ds.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo=MN;function HS(r,t={}){let n=r;typeof t!="object"&&(t={name:t});const s={name:op,automaticDataCollectionEnabled:!0,...t},o=s.name;if(typeof o!="string"||!o)throw ds.create("bad-app-name",{appName:String(o)});if(n||(n=US()),!n)throw ds.create("no-options");const u=Nh.get(o);if(u){if(aa(n,u.options)&&aa(s,u.config))return u;throw ds.create("duplicate-app",{appName:o})}const h=new H2(o);for(const p of lp.values())h.addComponent(p);const m=new UN(n,s,h);return Nh.set(o,m),m}function FS(r=op){const t=Nh.get(r);if(!t&&r===op&&US())return HS();if(!t)throw ds.create("no-app",{appName:r});return t}function ms(r,t,n){let s=VN[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${t}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),yr.warn(h.join(" "));return}vo(new oa(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN="firebase-heartbeat-database",zN=1,iu="firebase-heartbeat-store";let Hm=null;function GS(){return Hm||(Hm=nN(PN,zN,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(iu)}catch(n){console.warn(n)}}}}).catch(r=>{throw ds.create("idb-open",{originalErrorMessage:r.message})})),Hm}async function jN(r){try{const n=(await GS()).transaction(iu),s=await n.objectStore(iu).get($S(r));return await n.done,s}catch(t){if(t instanceof br)yr.warn(t.message);else{const n=ds.create("idb-get",{originalErrorMessage:t?.message});yr.warn(n.message)}}}async function ZE(r,t){try{const s=(await GS()).transaction(iu,"readwrite");await s.objectStore(iu).put(t,$S(r)),await s.done}catch(n){if(n instanceof br)yr.warn(n.message);else{const s=ds.create("idb-set",{originalErrorMessage:n?.message});yr.warn(s.message)}}}function $S(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=1024,qN=30;class HN{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new GN(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=tT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>qN){const o=$N(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){yr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=tT(),{heartbeatsToSend:n,unsentEntries:s}=FN(this._heartbeatsCache.heartbeats),o=Ih(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return yr.warn(t),""}}}function tT(){return new Date().toISOString().substring(0,10)}function FN(r,t=BN){const n=[];let s=r.slice();for(const o of r){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),eT(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),eT(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class GN{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return O2()?x2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await jN(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return ZE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return ZE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function eT(r){return Ih(JSON.stringify({version:2,heartbeats:r})).length}function $N(r){if(r.length===0)return-1;let t=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(r){vo(new oa("platform-logger",t=>new sN(t),"PRIVATE")),vo(new oa("heartbeat",t=>new HN(t),"PRIVATE")),ms(ap,JE,r),ms(ap,JE,"esm2020"),ms("fire-js","")}KN("");var nT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ps,KS;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(C,R){function I(){}I.prototype=R.prototype,C.F=R.prototype,C.prototype=new I,C.prototype.constructor=C,C.D=function(V,O,z){for(var N=Array(arguments.length-2),Qt=2;Qt<arguments.length;Qt++)N[Qt-2]=arguments[Qt];return R.prototype[O].apply(V,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(C,R,I){I||(I=0);const V=Array(16);if(typeof R=="string")for(var O=0;O<16;++O)V[O]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(O=0;O<16;++O)V[O]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=C.g[0],I=C.g[1],O=C.g[2];let z=C.g[3],N;N=R+(z^I&(O^z))+V[0]+3614090360&4294967295,R=I+(N<<7&4294967295|N>>>25),N=z+(O^R&(I^O))+V[1]+3905402710&4294967295,z=R+(N<<12&4294967295|N>>>20),N=O+(I^z&(R^I))+V[2]+606105819&4294967295,O=z+(N<<17&4294967295|N>>>15),N=I+(R^O&(z^R))+V[3]+3250441966&4294967295,I=O+(N<<22&4294967295|N>>>10),N=R+(z^I&(O^z))+V[4]+4118548399&4294967295,R=I+(N<<7&4294967295|N>>>25),N=z+(O^R&(I^O))+V[5]+1200080426&4294967295,z=R+(N<<12&4294967295|N>>>20),N=O+(I^z&(R^I))+V[6]+2821735955&4294967295,O=z+(N<<17&4294967295|N>>>15),N=I+(R^O&(z^R))+V[7]+4249261313&4294967295,I=O+(N<<22&4294967295|N>>>10),N=R+(z^I&(O^z))+V[8]+1770035416&4294967295,R=I+(N<<7&4294967295|N>>>25),N=z+(O^R&(I^O))+V[9]+2336552879&4294967295,z=R+(N<<12&4294967295|N>>>20),N=O+(I^z&(R^I))+V[10]+4294925233&4294967295,O=z+(N<<17&4294967295|N>>>15),N=I+(R^O&(z^R))+V[11]+2304563134&4294967295,I=O+(N<<22&4294967295|N>>>10),N=R+(z^I&(O^z))+V[12]+1804603682&4294967295,R=I+(N<<7&4294967295|N>>>25),N=z+(O^R&(I^O))+V[13]+4254626195&4294967295,z=R+(N<<12&4294967295|N>>>20),N=O+(I^z&(R^I))+V[14]+2792965006&4294967295,O=z+(N<<17&4294967295|N>>>15),N=I+(R^O&(z^R))+V[15]+1236535329&4294967295,I=O+(N<<22&4294967295|N>>>10),N=R+(O^z&(I^O))+V[1]+4129170786&4294967295,R=I+(N<<5&4294967295|N>>>27),N=z+(I^O&(R^I))+V[6]+3225465664&4294967295,z=R+(N<<9&4294967295|N>>>23),N=O+(R^I&(z^R))+V[11]+643717713&4294967295,O=z+(N<<14&4294967295|N>>>18),N=I+(z^R&(O^z))+V[0]+3921069994&4294967295,I=O+(N<<20&4294967295|N>>>12),N=R+(O^z&(I^O))+V[5]+3593408605&4294967295,R=I+(N<<5&4294967295|N>>>27),N=z+(I^O&(R^I))+V[10]+38016083&4294967295,z=R+(N<<9&4294967295|N>>>23),N=O+(R^I&(z^R))+V[15]+3634488961&4294967295,O=z+(N<<14&4294967295|N>>>18),N=I+(z^R&(O^z))+V[4]+3889429448&4294967295,I=O+(N<<20&4294967295|N>>>12),N=R+(O^z&(I^O))+V[9]+568446438&4294967295,R=I+(N<<5&4294967295|N>>>27),N=z+(I^O&(R^I))+V[14]+3275163606&4294967295,z=R+(N<<9&4294967295|N>>>23),N=O+(R^I&(z^R))+V[3]+4107603335&4294967295,O=z+(N<<14&4294967295|N>>>18),N=I+(z^R&(O^z))+V[8]+1163531501&4294967295,I=O+(N<<20&4294967295|N>>>12),N=R+(O^z&(I^O))+V[13]+2850285829&4294967295,R=I+(N<<5&4294967295|N>>>27),N=z+(I^O&(R^I))+V[2]+4243563512&4294967295,z=R+(N<<9&4294967295|N>>>23),N=O+(R^I&(z^R))+V[7]+1735328473&4294967295,O=z+(N<<14&4294967295|N>>>18),N=I+(z^R&(O^z))+V[12]+2368359562&4294967295,I=O+(N<<20&4294967295|N>>>12),N=R+(I^O^z)+V[5]+4294588738&4294967295,R=I+(N<<4&4294967295|N>>>28),N=z+(R^I^O)+V[8]+2272392833&4294967295,z=R+(N<<11&4294967295|N>>>21),N=O+(z^R^I)+V[11]+1839030562&4294967295,O=z+(N<<16&4294967295|N>>>16),N=I+(O^z^R)+V[14]+4259657740&4294967295,I=O+(N<<23&4294967295|N>>>9),N=R+(I^O^z)+V[1]+2763975236&4294967295,R=I+(N<<4&4294967295|N>>>28),N=z+(R^I^O)+V[4]+1272893353&4294967295,z=R+(N<<11&4294967295|N>>>21),N=O+(z^R^I)+V[7]+4139469664&4294967295,O=z+(N<<16&4294967295|N>>>16),N=I+(O^z^R)+V[10]+3200236656&4294967295,I=O+(N<<23&4294967295|N>>>9),N=R+(I^O^z)+V[13]+681279174&4294967295,R=I+(N<<4&4294967295|N>>>28),N=z+(R^I^O)+V[0]+3936430074&4294967295,z=R+(N<<11&4294967295|N>>>21),N=O+(z^R^I)+V[3]+3572445317&4294967295,O=z+(N<<16&4294967295|N>>>16),N=I+(O^z^R)+V[6]+76029189&4294967295,I=O+(N<<23&4294967295|N>>>9),N=R+(I^O^z)+V[9]+3654602809&4294967295,R=I+(N<<4&4294967295|N>>>28),N=z+(R^I^O)+V[12]+3873151461&4294967295,z=R+(N<<11&4294967295|N>>>21),N=O+(z^R^I)+V[15]+530742520&4294967295,O=z+(N<<16&4294967295|N>>>16),N=I+(O^z^R)+V[2]+3299628645&4294967295,I=O+(N<<23&4294967295|N>>>9),N=R+(O^(I|~z))+V[0]+4096336452&4294967295,R=I+(N<<6&4294967295|N>>>26),N=z+(I^(R|~O))+V[7]+1126891415&4294967295,z=R+(N<<10&4294967295|N>>>22),N=O+(R^(z|~I))+V[14]+2878612391&4294967295,O=z+(N<<15&4294967295|N>>>17),N=I+(z^(O|~R))+V[5]+4237533241&4294967295,I=O+(N<<21&4294967295|N>>>11),N=R+(O^(I|~z))+V[12]+1700485571&4294967295,R=I+(N<<6&4294967295|N>>>26),N=z+(I^(R|~O))+V[3]+2399980690&4294967295,z=R+(N<<10&4294967295|N>>>22),N=O+(R^(z|~I))+V[10]+4293915773&4294967295,O=z+(N<<15&4294967295|N>>>17),N=I+(z^(O|~R))+V[1]+2240044497&4294967295,I=O+(N<<21&4294967295|N>>>11),N=R+(O^(I|~z))+V[8]+1873313359&4294967295,R=I+(N<<6&4294967295|N>>>26),N=z+(I^(R|~O))+V[15]+4264355552&4294967295,z=R+(N<<10&4294967295|N>>>22),N=O+(R^(z|~I))+V[6]+2734768916&4294967295,O=z+(N<<15&4294967295|N>>>17),N=I+(z^(O|~R))+V[13]+1309151649&4294967295,I=O+(N<<21&4294967295|N>>>11),N=R+(O^(I|~z))+V[4]+4149444226&4294967295,R=I+(N<<6&4294967295|N>>>26),N=z+(I^(R|~O))+V[11]+3174756917&4294967295,z=R+(N<<10&4294967295|N>>>22),N=O+(R^(z|~I))+V[2]+718787259&4294967295,O=z+(N<<15&4294967295|N>>>17),N=I+(z^(O|~R))+V[9]+3951481745&4294967295,C.g[0]=C.g[0]+R&4294967295,C.g[1]=C.g[1]+(O+(N<<21&4294967295|N>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+z&4294967295}s.prototype.v=function(C,R){R===void 0&&(R=C.length);const I=R-this.blockSize,V=this.C;let O=this.h,z=0;for(;z<R;){if(O==0)for(;z<=I;)o(this,C,z),z+=this.blockSize;if(typeof C=="string"){for(;z<R;)if(V[O++]=C.charCodeAt(z++),O==this.blockSize){o(this,V),O=0;break}}else for(;z<R;)if(V[O++]=C[z++],O==this.blockSize){o(this,V),O=0;break}}this.h=O,this.o+=R},s.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var R=1;R<C.length-8;++R)C[R]=0;R=this.o*8;for(var I=C.length-8;I<C.length;++I)C[I]=R&255,R/=256;for(this.v(C),C=Array(16),R=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)C[R++]=this.g[I]>>>V&255;return C};function u(C,R){var I=m;return Object.prototype.hasOwnProperty.call(I,C)?I[C]:I[C]=R(C)}function h(C,R){this.h=R;const I=[];let V=!0;for(let O=C.length-1;O>=0;O--){const z=C[O]|0;V&&z==R||(I[O]=z,V=!1)}this.g=I}var m={};function p(C){return-128<=C&&C<128?u(C,function(R){return new h([R|0],R<0?-1:0)}):new h([C|0],C<0?-1:0)}function g(C){if(isNaN(C)||!isFinite(C))return T;if(C<0)return P(g(-C));const R=[];let I=1;for(let V=0;C>=I;V++)R[V]=C/I|0,I*=4294967296;return new h(R,0)}function E(C,R){if(C.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(C.charAt(0)=="-")return P(E(C.substring(1),R));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=g(Math.pow(R,8));let V=T;for(let z=0;z<C.length;z+=8){var O=Math.min(8,C.length-z);const N=parseInt(C.substring(z,z+O),R);O<8?(O=g(Math.pow(R,O)),V=V.j(O).add(g(N))):(V=V.j(I),V=V.add(g(N)))}return V}var T=p(0),w=p(1),k=p(16777216);r=h.prototype,r.m=function(){if(F(this))return-P(this).m();let C=0,R=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);C+=(V>=0?V:4294967296+V)*R,R*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(H(this))return"0";if(F(this))return"-"+P(this).toString(C);const R=g(Math.pow(C,6));var I=this;let V="";for(;;){const O=ht(I,R).g;I=W(I,O.j(R));let z=((I.g.length>0?I.g[0]:I.h)>>>0).toString(C);if(I=O,H(I))return z+V;for(;z.length<6;)z="0"+z;V=z+V}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function H(C){if(C.h!=0)return!1;for(let R=0;R<C.g.length;R++)if(C.g[R]!=0)return!1;return!0}function F(C){return C.h==-1}r.l=function(C){return C=W(this,C),F(C)?-1:H(C)?0:1};function P(C){const R=C.g.length,I=[];for(let V=0;V<R;V++)I[V]=~C.g[V];return new h(I,~C.h).add(w)}r.abs=function(){return F(this)?P(this):this},r.add=function(C){const R=Math.max(this.g.length,C.g.length),I=[];let V=0;for(let O=0;O<=R;O++){let z=V+(this.i(O)&65535)+(C.i(O)&65535),N=(z>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);V=N>>>16,z&=65535,N&=65535,I[O]=N<<16|z}return new h(I,I[I.length-1]&-2147483648?-1:0)};function W(C,R){return C.add(P(R))}r.j=function(C){if(H(this)||H(C))return T;if(F(this))return F(C)?P(this).j(P(C)):P(P(this).j(C));if(F(C))return P(this.j(P(C)));if(this.l(k)<0&&C.l(k)<0)return g(this.m()*C.m());const R=this.g.length+C.g.length,I=[];for(var V=0;V<2*R;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<C.g.length;O++){const z=this.i(V)>>>16,N=this.i(V)&65535,Qt=C.i(O)>>>16,he=C.i(O)&65535;I[2*V+2*O]+=N*he,et(I,2*V+2*O),I[2*V+2*O+1]+=z*he,et(I,2*V+2*O+1),I[2*V+2*O+1]+=N*Qt,et(I,2*V+2*O+1),I[2*V+2*O+2]+=z*Qt,et(I,2*V+2*O+2)}for(C=0;C<R;C++)I[C]=I[2*C+1]<<16|I[2*C];for(C=R;C<2*R;C++)I[C]=0;return new h(I,0)};function et(C,R){for(;(C[R]&65535)!=C[R];)C[R+1]+=C[R]>>>16,C[R]&=65535,R++}function it(C,R){this.g=C,this.h=R}function ht(C,R){if(H(R))throw Error("division by zero");if(H(C))return new it(T,T);if(F(C))return R=ht(P(C),R),new it(P(R.g),P(R.h));if(F(R))return R=ht(C,P(R)),new it(P(R.g),R.h);if(C.g.length>30){if(F(C)||F(R))throw Error("slowDivide_ only works with positive integers.");for(var I=w,V=R;V.l(C)<=0;)I=pt(I),V=pt(V);var O=lt(I,1),z=lt(V,1);for(V=lt(V,2),I=lt(I,2);!H(V);){var N=z.add(V);N.l(C)<=0&&(O=O.add(I),z=N),V=lt(V,1),I=lt(I,1)}return R=W(C,O.j(R)),new it(O,R)}for(O=T;C.l(R)>=0;){for(I=Math.max(1,Math.floor(C.m()/R.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),z=g(I),N=z.j(R);F(N)||N.l(C)>0;)I-=V,z=g(I),N=z.j(R);H(z)&&(z=w),O=O.add(z),C=W(C,N)}return new it(O,C)}r.B=function(C){return ht(this,C).h},r.and=function(C){const R=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<R;V++)I[V]=this.i(V)&C.i(V);return new h(I,this.h&C.h)},r.or=function(C){const R=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<R;V++)I[V]=this.i(V)|C.i(V);return new h(I,this.h|C.h)},r.xor=function(C){const R=Math.max(this.g.length,C.g.length),I=[];for(let V=0;V<R;V++)I[V]=this.i(V)^C.i(V);return new h(I,this.h^C.h)};function pt(C){const R=C.g.length+1,I=[];for(let V=0;V<R;V++)I[V]=C.i(V)<<1|C.i(V-1)>>>31;return new h(I,C.h)}function lt(C,R){const I=R>>5;R%=32;const V=C.g.length-I,O=[];for(let z=0;z<V;z++)O[z]=R>0?C.i(z+I)>>>R|C.i(z+I+1)<<32-R:C.i(z+I);return new h(O,C.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,KS=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.B,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,ps=h}).apply(typeof nT<"u"?nT:typeof self<"u"?self:typeof window<"u"?window:{});var rh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var QS,$l,YS,dh,up,XS,JS,WS;(function(){var r,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof rh=="object"&&rh];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)t:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var j=c[A];if(!(j in v))break t;v=v[j]}c=c[c.length-1],A=v[c],y=y(A),y!=A&&y!=null&&t(v,c,{configurable:!0,writable:!0,value:y})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(y){var v=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&v.push([A,y[A]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,v){return c.call.apply(c.bind,arguments)}function g(c,y,v){return g=p,g.apply(null,arguments)}function E(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function T(c,y){function v(){}v.prototype=y.prototype,c.Z=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(A,j,$){for(var at=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)at[Ct-2]=arguments[Ct];return y.prototype[j].apply(A,at)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function k(c){const y=c.length;if(y>0){const v=Array(y);for(let A=0;A<y;A++)v[A]=c[A];return v}return[]}function H(c,y){for(let A=1;A<arguments.length;A++){const j=arguments[A];var v=typeof j;if(v=v!="object"?v:j?Array.isArray(j)?"array":v:"null",v=="array"||v=="object"&&typeof j.length=="number"){v=c.length||0;const $=j.length||0;c.length=v+$;for(let at=0;at<$;at++)c[v+at]=j[at]}else c.push(j)}}class F{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function P(c){h.setTimeout(()=>{throw c},0)}function W(){var c=C;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class et{constructor(){this.h=this.g=null}add(y,v){const A=it.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var it=new F(()=>new ht,c=>c.reset());class ht{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let pt,lt=!1,C=new et,R=()=>{const c=Promise.resolve(void 0);pt=()=>{c.then(I)}};function I(){for(var c;c=W();){try{c.h.call(c.g)}catch(v){P(v)}var y=it;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}lt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};h.addEventListener("test",v,y),h.removeEventListener("test",v,y)}catch{}return c})();function N(c){return/^[\s\xa0]*$/.test(c)}function Qt(c,y){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}T(Qt,O),Qt.prototype.init=function(c,y){const v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&Qt.Z.h.call(this)},Qt.prototype.h=function(){Qt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var he="closure_listenable_"+(Math.random()*1e6|0),Q=0;function rt(c,y,v,A,j){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=j,this.key=++Q,this.da=this.fa=!1}function ut(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ot(c,y,v){for(const A in c)y.call(v,c[A],A,c)}function qt(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function x(c){const y={};for(const v in c)y[v]=c[v];return y}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function st(c,y){let v,A;for(let j=1;j<arguments.length;j++){A=arguments[j];for(v in A)c[v]=A[v];for(let $=0;$<X.length;$++)v=X[$],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function ot(c){this.src=c,this.g={},this.h=0}ot.prototype.add=function(c,y,v,A,j){const $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);const at=Rt(c,y,A,j);return at>-1?(y=c[at],v||(y.fa=!1)):(y=new rt(y,this.src,$,!!A,j),y.fa=v,c.push(y)),y};function _t(c,y){const v=y.type;if(v in c.g){var A=c.g[v],j=Array.prototype.indexOf.call(A,y,void 0),$;($=j>=0)&&Array.prototype.splice.call(A,j,1),$&&(ut(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Rt(c,y,v,A){for(let j=0;j<c.length;++j){const $=c[j];if(!$.da&&$.listener==y&&$.capture==!!v&&$.ha==A)return j}return-1}var Vt="closure_lm_"+(Math.random()*1e6|0),ge={};function Wt(c,y,v,A,j){if(Array.isArray(y)){for(let $=0;$<y.length;$++)Wt(c,y[$],v,A,j);return null}return v=zo(v),c&&c[he]?c.J(y,v,m(A)?!!A.capture:!1,j):jn(c,y,v,!1,A,j)}function jn(c,y,v,A,j,$){if(!y)throw Error("Invalid event type");const at=m(j)?!!j.capture:!!j;let Ct=ai(c);if(Ct||(c[Vt]=Ct=new ot(c)),v=Ct.add(y,v,A,at,$),v.proxy)return v;if(A=wr(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)z||(j=at),j===void 0&&(j=!1),c.addEventListener(y.toString(),A,j);else if(c.attachEvent)c.attachEvent(nn(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function wr(){function c(v){return y.call(c.src,c.listener,v)}const y=ie;return c}function Pi(c,y,v,A,j){if(Array.isArray(y))for(var $=0;$<y.length;$++)Pi(c,y[$],v,A,j);else A=m(A)?!!A.capture:!!A,v=zo(v),c&&c[he]?(c=c.i,$=String(y).toString(),$ in c.g&&(y=c.g[$],v=Rt(y,v,A,j),v>-1&&(ut(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete c.g[$],c.h--)))):c&&(c=ai(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Rt(y,v,A,j)),(v=c>-1?y[c]:null)&&si(v))}function si(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[he])_t(y.i,c);else{var v=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(v,A,c.capture):y.detachEvent?y.detachEvent(nn(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=ai(y))?(_t(v,c),v.h==0&&(v.src=null,y[Vt]=null)):ut(c)}}}function nn(c){return c in ge?ge[c]:ge[c]="on"+c}function ie(c,y){if(c.da)c=!0;else{y=new Qt(y,this);const v=c.listener,A=c.ha||c.src;c.fa&&si(c),c=v.call(A,y)}return c}function ai(c){return c=c[Vt],c instanceof ot?c:null}var zi="__closure_events_fn_"+(Math.random()*1e9>>>0);function zo(c){return typeof c=="function"?c:(c[zi]||(c[zi]=function(y){return c.handleEvent(y)}),c[zi])}function Se(){V.call(this),this.i=new ot(this),this.M=this,this.G=null}T(Se,V),Se.prototype[he]=!0,Se.prototype.removeEventListener=function(c,y,v,A){Pi(this,c,y,v,A)};function Ve(c,y){var v,A=c.G;if(A)for(v=[];A;A=A.G)v.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new O(y,c);else if(y instanceof O)y.target=y.target||c;else{var j=y;y=new O(A,c),st(y,j)}j=!0;let $,at;if(v)for(at=v.length-1;at>=0;at--)$=y.g=v[at],j=Rr($,A,!0,y)&&j;if($=y.g=c,j=Rr($,A,!0,y)&&j,j=Rr($,A,!1,y)&&j,v)for(at=0;at<v.length;at++)$=y.g=v[at],j=Rr($,A,!1,y)&&j}Se.prototype.N=function(){if(Se.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const v=c.g[y];for(let A=0;A<v.length;A++)ut(v[A]);delete c.g[y],c.h--}}this.G=null},Se.prototype.J=function(c,y,v,A){return this.i.add(String(c),y,!1,v,A)},Se.prototype.K=function(c,y,v,A){return this.i.add(String(c),y,!0,v,A)};function Rr(c,y,v,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let j=!0;for(let $=0;$<y.length;++$){const at=y[$];if(at&&!at.da&&at.capture==v){const Ct=at.listener,_e=at.ha||at.src;at.fa&&_t(c.i,at),j=Ct.call(_e,A)!==!1&&j}}return j&&!A.defaultPrevented}function bf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:h.setTimeout(c,y||0)}function Ru(c){c.g=bf(()=>{c.g=null,c.i&&(c.i=!1,Ru(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class rn extends V{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ru(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ws(c){V.call(this),this.h=c,this.g={}}T(ws,V);var jo=[];function Bo(c){Ot(c.g,function(y,v){this.g.hasOwnProperty(v)&&si(y)},c),c.g={}}ws.prototype.N=function(){ws.Z.N.call(this),Bo(this)},ws.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Cr=h.JSON.stringify,wf=h.JSON.parse,Cu=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Iu(){}function Nu(){}var Bn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qe(){O.call(this,"d")}T(qe,O);function Rn(){O.call(this,"c")}T(Rn,O);var ye={},Du=null;function ga(){return Du=Du||new Se}ye.Ia="serverreachability";function Ou(c){O.call(this,ye.Ia,c)}T(Ou,O);function oi(c){const y=ga();Ve(y,new Ou(y))}ye.STAT_EVENT="statevent";function Rs(c,y){O.call(this,ye.STAT_EVENT,c),this.stat=y}T(Rs,O);function Ae(c){const y=ga();Ve(y,new Rs(y,c))}ye.Ja="timingevent";function li(c,y){O.call(this,ye.Ja,c),this.size=y}T(li,O);function ui(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},y)}function qn(){this.g=!0}qn.prototype.ua=function(){this.g=!1};function Rf(c,y,v,A,j,$){c.info(function(){if(c.g)if($){var at="",Ct=$.split("&");for(let Gt=0;Gt<Ct.length;Gt++){var _e=Ct[Gt].split("=");if(_e.length>1){const ue=_e[0];_e=_e[1];const Dn=ue.split("_");at=Dn.length>=2&&Dn[1]=="type"?at+(ue+"="+_e+"&"):at+(ue+"=redacted&")}}}else at=null;else at=$;return"XMLHTTP REQ ("+A+") [attempt "+j+"]: "+y+`
`+v+`
`+at})}function xu(c,y,v,A,j,$,at){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+j+"]: "+y+`
`+v+`
`+$+" "+at})}function ci(c,y,v,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Cf(c,v)+(A?" "+A:"")})}function Cs(c,y){c.info(function(){return"TIMEOUT: "+y})}qn.prototype.info=function(){};function Cf(c,y){if(!c.g)return y;if(!y)return null;try{const $=JSON.parse(y);if($){for(c=0;c<$.length;c++)if(Array.isArray($[c])){var v=$[c];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var j=A[0];if(j!="noop"&&j!="stop"&&j!="close")for(let at=1;at<A.length;at++)A[at]=""}}}}return Cr($)}catch{return y}}var Is={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},qo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ho;function Ns(){}T(Ns,Iu),Ns.prototype.g=function(){return new XMLHttpRequest},Ho=new Ns;function ji(c){return encodeURIComponent(String(c))}function Mu(c){var y=1;c=c.split(":");const v=[];for(;y>0&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function Hn(c,y,v,A){this.j=c,this.i=y,this.l=v,this.S=A||1,this.V=new ws(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fn}function Fn(){this.i=null,this.g="",this.h=!1}var be={},Ue={};function hi(c,y,v){c.M=1,c.A=Ds(Re(y)),c.u=v,c.R=!0,ya(c,null)}function ya(c,y){c.F=Date.now(),fi(c),c.B=Re(c.A);var v=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),Ta(v.i,"t",A),c.C=0,v=c.j.L,c.h=new Fn,c.g=Qu(c.j,v?y:null,!c.u),c.P>0&&(c.O=new rn(g(c.Y,c,c.g),c.P)),y=c.V,v=c.g,A=c.ba;var j="readystatechange";Array.isArray(j)||(j&&(jo[0]=j.toString()),j=jo);for(let $=0;$<j.length;$++){const at=Wt(v,j[$],A||y.handleEvent,!1,y.h||y);if(!at)break;y.g[at.key]=at}y=c.J?x(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),oi(),Rf(c.i,c.v,c.B,c.l,c.S,c.u)}Hn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Kn(c)==3?y.j():this.Y(c)},Hn.prototype.Y=function(c){try{if(c==this.g)t:{const Ct=Kn(this.g),_e=this.g.ya(),Gt=this.g.ca();if(!(Ct<3)&&(Ct!=3||this.g&&(this.h.h||this.g.la()||He(this.g)))){this.K||Ct!=4||_e==7||(_e==8||Gt<=0?oi(3):oi(2)),di(this);var y=this.g.ca();this.X=y;var v=If(this);if(this.o=y==200,xu(this.i,this.v,this.B,this.l,this.S,Ct,y),this.o){if(this.U&&!this.L){e:{if(this.g){var A,j=this.g;if((A=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(A)){var $=A;break e}}$=null}if(c=$)ci(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,mi(this,c);else{this.o=!1,this.m=3,Ae(12),gn(this),Cn(this);break t}}if(this.R){c=!0;let ue;for(;!this.K&&this.C<v.length;)if(ue=Lu(this,v),ue==Ue){Ct==4&&(this.m=4,Ae(14),c=!1),ci(this.i,this.l,null,"[Incomplete Response]");break}else if(ue==be){this.m=4,Ae(15),ci(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else ci(this.i,this.l,ue,null),mi(this,ue);if(Vu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||v.length!=0||this.h.h||(this.m=1,Ae(16),c=!1),this.o=this.o&&c,!c)ci(this.i,this.l,v,"[Invalid Chunked Response]"),gn(this),Cn(this);else if(v.length>0&&!this.W){this.W=!0;var at=this.j;at.g==this&&at.aa&&!at.P&&(at.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),rl(at),at.P=!0,Ae(11))}}else ci(this.i,this.l,v,null),mi(this,v);Ct==4&&gn(this),this.o&&!this.K&&(Ct==4?Fu(this.j,this):(this.o=!1,fi(this)))}else qi(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ae(12)):(this.m=0,Ae(13)),gn(this),Cn(this)}}}catch{}finally{}};function If(c){if(!Vu(c))return c.g.la();const y=He(c.g);if(y==="")return"";let v="";const A=y.length,j=Kn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return gn(c),Cn(c),"";c.h.i=new h.TextDecoder}for(let $=0;$<A;$++)c.h.h=!0,v+=c.h.i.decode(y[$],{stream:!(j&&$==A-1)});return y.length=0,c.h.g+=v,c.C=0,c.h.g}function Vu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Lu(c,y){var v=c.C,A=y.indexOf(`
`,v);return A==-1?Ue:(v=Number(y.substring(v,A)),isNaN(v)?be:(A+=1,A+v>y.length?Ue:(y=y.slice(A,A+v),c.C=A+v,y)))}Hn.prototype.cancel=function(){this.K=!0,gn(this)};function fi(c){c.T=Date.now()+c.H,_a(c,c.H)}function _a(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ui(g(c.aa,c),y)}function di(c){c.D&&(h.clearTimeout(c.D),c.D=null)}Hn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Cs(this.i,this.B),this.M!=2&&(oi(),Ae(17)),gn(this),this.m=2,Cn(this)):_a(this,this.T-c)};function Cn(c){c.j.I==0||c.K||Fu(c.j,c)}function gn(c){di(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Bo(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function mi(c,y){try{var v=c.j;if(v.I!=0&&(v.g==c||gi(v.h,c))){if(!c.L&&gi(v.h,c)&&v.I==3){try{var A=v.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var j=A;if(j[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Ra(v),Lr(v);else break t;Us(v),Ae(18)}}else v.xa=j[1],0<v.xa-v.K&&j[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ui(g(v.Va,v),6e3));pi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Si(v,11)}else if((c.L||v.g==c)&&Ra(v),!N(y))for(j=v.Ba.g.parse(y),y=0;y<j.length;y++){let Gt=j[y];const ue=Gt[0];if(!(ue<=v.K))if(v.K=ue,Gt=Gt[1],v.I==2)if(Gt[0]=="c"){v.M=Gt[1],v.ba=Gt[2];const Dn=Gt[3];Dn!=null&&(v.ka=Dn,v.j.info("VER="+v.ka));const Ai=Gt[4];Ai!=null&&(v.za=Ai,v.j.info("SVER="+v.za));const Qn=Gt[5];Qn!=null&&typeof Qn=="number"&&Qn>0&&(A=1.5*Qn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Yn=c.g;if(Yn){const Ps=Yn.g?Yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ps){var $=A.h;$.g||Ps.indexOf("spdy")==-1&&Ps.indexOf("quic")==-1&&Ps.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&($o($,$.h),$.h=null))}if(A.G){const Ca=Yn.g?Yn.g.getResponseHeader("X-HTTP-Session-Id"):null;Ca&&(A.wa=Ca,Yt(A.J,A.G,Ca))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var at=c;if(A.na=Ku(A,A.L?A.ba:null,A.W),at.L){Ko(A.h,at);var Ct=at,_e=A.O;_e&&(Ct.H=_e),Ct.D&&(di(Ct),fi(Ct)),A.g=at}else qu(A);v.i.length>0&&Ti(v)}else Gt[0]!="stop"&&Gt[0]!="close"||Si(v,7);else v.I==3&&(Gt[0]=="stop"||Gt[0]=="close"?Gt[0]=="stop"?Si(v,7):nl(v):Gt[0]!="noop"&&v.l&&v.l.qa(Gt),v.A=0)}}oi(4)}catch{}}var we=class{constructor(c,y){this.g=c,this.map=y}};function Fo(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Go(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function pi(c){return c.h?1:c.g?c.g.size:0}function gi(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function $o(c,y){c.g?c.g.add(y):c.h=y}function Ko(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Fo.prototype.cancel=function(){if(this.i=Qo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Qo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.G);return y}return k(c.i)}var ku=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function va(c,y){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const A=c[v].indexOf("=");let j,$=null;A>=0?(j=c[v].substring(0,A),$=c[v].substring(A+1)):j=c[v],y(j,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function yn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof yn?(this.l=c.l,Pe(this,c.j),this.o=c.o,this.g=c.g,Ir(this,c.u),this.h=c.h,Yo(this,ju(c.i)),this.m=c.m):c&&(y=String(c).match(ku))?(this.l=!1,Pe(this,y[1]||"",!0),this.o=yi(y[2]||""),this.g=yi(y[3]||"",!0),Ir(this,y[4]),this.h=yi(y[5]||"",!0),Yo(this,y[6]||"",!0),this.m=yi(y[7]||"")):(this.l=!1,this.i=new Dr(null,this.l))}yn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Os(y,Ea,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Os(y,Ea,!0),"@"),c.push(ji(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Os(v,v.charAt(0)=="/"?Xo:Uu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Os(v,Pu)),c.join("")},yn.prototype.resolve=function(c){const y=Re(this);let v=!!c.j;v?Pe(y,c.j):v=!!c.o,v?y.o=c.o:v=!!c.g,v?y.g=c.g:v=c.u!=null;var A=c.h;if(v)Ir(y,c.u);else if(v=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var j=y.h.lastIndexOf("/");j!=-1&&(A=y.h.slice(0,j+1)+A)}if(j=A,j==".."||j==".")A="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){A=j.lastIndexOf("/",0)==0,j=j.split("/");const $=[];for(let at=0;at<j.length;){const Ct=j[at++];Ct=="."?A&&at==j.length&&$.push(""):Ct==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),A&&at==j.length&&$.push("")):($.push(Ct),A=!0)}A=$.join("/")}else A=j}return v?y.h=A:v=c.i.toString()!=="",v?Yo(y,ju(c.i)):v=!!c.m,v&&(y.m=c.m),y};function Re(c){return new yn(c)}function Pe(c,y,v){c.j=v?yi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ir(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Yo(c,y,v){y instanceof Dr?(c.i=y,Sa(c.i,c.l)):(v||(y=Os(y,Nr)),c.i=new Dr(y,c.l))}function Yt(c,y,v){c.i.set(y,v)}function Ds(c){return Yt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function yi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Os(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,ln),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ln(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ea=/[#\/\?@]/g,Uu=/[#\?:]/g,Xo=/[#\?]/g,Nr=/[#\?@]/g,Pu=/#/g;function Dr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function un(c){c.g||(c.g=new Map,c.h=0,c.i&&va(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=Dr.prototype,r.add=function(c,y){un(this),this.i=null,c=Or(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function zu(c,y){un(c),y=Or(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Jo(c,y){return un(c),y=Or(c,y),c.g.has(y)}r.forEach=function(c,y){un(this),this.g.forEach(function(v,A){v.forEach(function(j){c.call(y,j,A,this)},this)},this)};function Wo(c,y){un(c);let v=[];if(typeof y=="string")Jo(c,y)&&(v=v.concat(c.g.get(Or(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)v=v.concat(c[y]);return v}r.set=function(c,y){return un(this),this.i=null,c=Or(this,c),Jo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=Wo(this,c),c.length>0?String(c[0]):y):y};function Ta(c,y,v){zu(c,y),v.length>0&&(c.i=null,c.g.set(Or(c,y),k(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var v=y[A];const j=ji(v);v=Wo(this,v);for(let $=0;$<v.length;$++){let at=j;v[$]!==""&&(at+="="+ji(v[$])),c.push(at)}}return this.i=c.join("&")};function ju(c){const y=new Dr;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Or(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Sa(c,y){y&&!c.j&&(un(c),c.i=null,c.g.forEach(function(v,A){const j=A.toLowerCase();A!=j&&(zu(this,A),Ta(this,j,v))},c)),c.j=y}function Gn(c,y){const v=new qn;if(h.Image){const A=new Image;A.onload=E(In,v,"TestLoadImage: loaded",!0,y,A),A.onerror=E(In,v,"TestLoadImage: error",!1,y,A),A.onabort=E(In,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=E(In,v,"TestLoadImage: timeout",!1,y,A),h.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Zo(c,y){const v=new qn,A=new AbortController,j=setTimeout(()=>{A.abort(),In(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then($=>{clearTimeout(j),$.ok?In(v,"TestPingServer: ok",!0,y):In(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(j),In(v,"TestPingServer: error",!1,y)})}function In(c,y,v,A,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),A(v)}catch{}}function xr(){this.g=new Cu}function _i(c){this.i=c.Sb||null,this.h=c.ab||!1}T(_i,Iu),_i.prototype.g=function(){return new xs(this.i,this.h)};function xs(c,y){Se.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(xs,Se),r=xs.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,$n(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||h).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Mr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Aa(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Aa(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Mr(this):$n(this),this.readyState==3&&Aa(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Mr(this))},r.Na=function(c){this.g&&(this.response=c,Mr(this))},r.ga=function(){this.g&&Mr(this)};function Mr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,$n(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function $n(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(xs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Nn(c){let y="";return Ot(c,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function Ms(c,y,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=Nn(v),typeof c=="string"?v!=null&&ji(v):Yt(c,y,v))}function Zt(c){Se.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(Zt,Se);var vi=/^https?$/i,tl=["POST","PUT"];r=Zt.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ho.g(),this.g.onreadystatechange=w(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch($){Vs(this,$);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var j in A)v.set(j,A[j]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const $ of A.keys())v.set($,A.get($));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find($=>$.toLowerCase()=="content-type"),j=h.FormData&&c instanceof h.FormData,!(Array.prototype.indexOf.call(tl,y,void 0)>=0)||A||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,at]of v)this.g.setRequestHeader($,at);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch($){Vs(this,$)}};function Vs(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,el(c),Bi(c)}function el(c){c.A||(c.A=!0,Ve(c,"complete"),Ve(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ve(this,"complete"),Ve(this,"abort"),Bi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bi(this,!0)),Zt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ls(this):this.Xa())},r.Xa=function(){Ls(this)};function Ls(c){if(c.h&&typeof u<"u"){if(c.v&&Kn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ve(c,"readystatechange"),Kn(c)==4){c.h=!1;try{const $=c.ca();t:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break t;default:y=!1}var v;if(!(v=y)){var A;if(A=$===0){let at=String(c.D).match(ku)[1]||null;!at&&h.self&&h.self.location&&(at=h.self.location.protocol.slice(0,-1)),A=!vi.test(at?at.toLowerCase():"")}v=A}if(v)Ve(c,"complete"),Ve(c,"success");else{c.o=6;try{var j=Kn(c)>2?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.ca()+"]",el(c)}}finally{Bi(c)}}}}function Bi(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,y||Ve(c,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Kn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Kn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),wf(y)}};function He(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function qi(c){const y={};c=(c.g&&Kn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(N(c[A]))continue;var v=Mu(c[A]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const $=y[j]||[];y[j]=$,$.push(v)}qt(y,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ei(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Vr(c){this.za=0,this.i=[],this.j=new qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ei("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ei("baseRetryDelayMs",5e3,c),this.Za=Ei("retryDelaySeedMs",1e4,c),this.Ta=Ei("forwardChannelMaxRetries",2,c),this.va=Ei("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Fo(c&&c.concurrentRequestLimit),this.Ba=new xr,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Vr.prototype,r.ka=8,r.I=1,r.connect=function(c,y,v,A){Ae(0),this.W=c,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Ku(this,null,this.W),Ti(this)};function nl(c){if(ba(c),c.I==3){var y=c.V++,v=Re(c.J);if(Yt(v,"SID",c.M),Yt(v,"RID",y),Yt(v,"TYPE","terminate"),ks(c,v),y=new Hn(c,c.j,y),y.M=2,y.A=Ds(Re(v)),v=!1,h.navigator&&h.navigator.sendBeacon)try{v=h.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&h.Image&&(new Image().src=y.A,v=!0),v||(y.g=Qu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),fi(y)}$u(c)}function Lr(c){c.g&&(rl(c),c.g.cancel(),c.g=null)}function ba(c){Lr(c),c.v&&(h.clearTimeout(c.v),c.v=null),Ra(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&h.clearTimeout(c.m),c.m=null)}function Ti(c){if(!Go(c.h)&&!c.m){c.m=!0;var y=c.Ea;pt||R(),lt||(pt(),lt=!0),C.add(y,c),c.D=0}}function wa(c,y){return pi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ui(g(c.Ea,c,y),Gu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const j=new Hn(this,this.j,c);let $=this.o;if(this.U&&($?($=x($),st($,this.U)):$=this.U),this.u!==null||this.R||(j.J=$,$=null),this.S)t:{for(var y=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=v;break t}if(y===4096||v===this.i.length-1){y=v+1;break t}}y=1e3}else y=1e3;y=Bu(this,j,y),v=Re(this.J),Yt(v,"RID",c),Yt(v,"CVER",22),this.G&&Yt(v,"X-HTTP-Session-Id",this.G),ks(this,v),$&&(this.R?y="headers="+ji(Nn($))+"&"+y:this.u&&Ms(v,this.u,$)),$o(this.h,j),this.Ra&&Yt(v,"TYPE","init"),this.S?(Yt(v,"$req",y),Yt(v,"SID","null"),j.U=!0,hi(j,v,null)):hi(j,v,y),this.I=2}}else this.I==3&&(c?il(this,c):this.i.length==0||Go(this.h)||il(this))};function il(c,y){var v;y?v=y.l:v=c.V++;const A=Re(c.J);Yt(A,"SID",c.M),Yt(A,"RID",v),Yt(A,"AID",c.K),ks(c,A),c.u&&c.o&&Ms(A,c.u,c.o),v=new Hn(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),y&&(c.i=y.G.concat(c.i)),y=Bu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),$o(c.h,v),hi(v,A,y)}function ks(c,y){c.H&&Ot(c.H,function(v,A){Yt(y,A,v)}),c.l&&Ot({},function(v,A){Yt(y,A,v)})}function Bu(c,y,v){v=Math.min(c.i.length,v);const A=c.l?g(c.l.Ka,c.l,c):null;t:{var j=c.i;let Ct=-1;for(;;){const _e=["count="+v];Ct==-1?v>0?(Ct=j[0].g,_e.push("ofs="+Ct)):Ct=0:_e.push("ofs="+Ct);let Gt=!0;for(let ue=0;ue<v;ue++){var $=j[ue].g;const Dn=j[ue].map;if($-=Ct,$<0)Ct=Math.max(0,j[ue].g-100),Gt=!1;else try{$="req"+$+"_"||"";try{var at=Dn instanceof Map?Dn:Object.entries(Dn);for(const[Ai,Qn]of at){let Yn=Qn;m(Qn)&&(Yn=Cr(Qn)),_e.push($+Ai+"="+encodeURIComponent(Yn))}}catch(Ai){throw _e.push($+"type="+encodeURIComponent("_badmap")),Ai}}catch{A&&A(Dn)}}if(Gt){at=_e.join("&");break t}}at=void 0}return c=c.i.splice(0,v),y.G=c,at}function qu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;pt||R(),lt||(pt(),lt=!0),C.add(y,c),c.A=0}}function Us(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ui(g(c.Da,c),Gu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Hu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ui(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ae(10),Lr(this),Hu(this))};function rl(c){c.B!=null&&(h.clearTimeout(c.B),c.B=null)}function Hu(c){c.g=new Hn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=Re(c.na);Yt(y,"RID","rpc"),Yt(y,"SID",c.M),Yt(y,"AID",c.K),Yt(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Yt(y,"TO",c.ia),Yt(y,"TYPE","xmlhttp"),ks(c,y),c.u&&c.o&&Ms(y,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Ds(Re(y)),v.u=null,v.R=!0,ya(v,c)}r.Va=function(){this.C!=null&&(this.C=null,Lr(this),Us(this),Ae(19))};function Ra(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Fu(c,y){var v=null;if(c.g==y){Ra(c),rl(c),c.g=null;var A=2}else if(gi(c.h,y))v=y.G,Ko(c.h,y),A=1;else return;if(c.I!=0){if(y.o)if(A==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var j=c.D;A=ga(),Ve(A,new li(A,v)),Ti(c)}else qu(c);else if(j=y.m,j==3||j==0&&y.X>0||!(A==1&&wa(c,y)||A==2&&Us(c)))switch(v&&v.length>0&&(y=c.h,y.i=y.i.concat(v)),j){case 1:Si(c,5);break;case 4:Si(c,10);break;case 3:Si(c,6);break;default:Si(c,2)}}}function Gu(c,y){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*y}function Si(c,y){if(c.j.info("Error code "+y),y==2){var v=g(c.bb,c),A=c.Ua;const j=!A;A=new yn(A||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Pe(A,"https"),Ds(A),j?Gn(A.toString(),v):Zo(A.toString(),v)}else Ae(2);c.I=0,c.l&&c.l.pa(y),$u(c),ba(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Ae(2)):(this.j.info("Failed to ping google.com"),Ae(1))};function $u(c){if(c.I=0,c.ja=[],c.l){const y=Qo(c.h);(y.length!=0||c.i.length!=0)&&(H(c.ja,y),H(c.ja,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.oa()}}function Ku(c,y,v){var A=v instanceof yn?Re(v):new yn(v);if(A.g!="")y&&(A.g=y+"."+A.g),Ir(A,A.u);else{var j=h.location;A=j.protocol,y=y?y+"."+j.hostname:j.hostname,j=+j.port;const $=new yn(null);A&&Pe($,A),y&&($.g=y),j&&Ir($,j),v&&($.h=v),A=$}return v=c.G,y=c.wa,v&&y&&Yt(A,v,y),Yt(A,"VER",c.ka),ks(c,A),A}function Qu(c,y,v){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Zt(new _i({ab:v})):new Zt(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yu(){}r=Yu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function kr(){}kr.prototype.g=function(c,y){return new sn(c,y)};function sn(c,y){Se.call(this),this.g=new Vr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!N(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!N(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Hi(this)}T(sn,Se),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){nl(this.g)},sn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=Cr(c),c=v);y.i.push(new we(y.Ya++,c)),y.I==3&&Ti(y)},sn.prototype.N=function(){this.g.l=null,delete this.j,nl(this.g),delete this.g,sn.Z.N.call(this)};function Xu(c){qe.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){t:{for(const v in y){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}T(Xu,qe);function Ju(){Rn.call(this),this.status=1}T(Ju,Rn);function Hi(c){this.g=c}T(Hi,Yu),Hi.prototype.ra=function(){Ve(this.g,"a")},Hi.prototype.qa=function(c){Ve(this.g,new Xu(c))},Hi.prototype.pa=function(c){Ve(this.g,new Ju)},Hi.prototype.oa=function(){Ve(this.g,"b")},kr.prototype.createWebChannel=kr.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,WS=function(){return new kr},JS=function(){return ga()},XS=ye,up={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Is.NO_ERROR=0,Is.TIMEOUT=8,Is.HTTP_ERROR=6,dh=Is,qo.COMPLETE="complete",YS=qo,Nu.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",Se.prototype.listen=Se.prototype.J,$l=Nu,Zt.prototype.listenOnce=Zt.prototype.K,Zt.prototype.getLastError=Zt.prototype.Ha,Zt.prototype.getLastErrorCode=Zt.prototype.ya,Zt.prototype.getStatus=Zt.prototype.ca,Zt.prototype.getResponseJson=Zt.prototype.La,Zt.prototype.getResponseText=Zt.prototype.la,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Fa,QS=Zt}).apply(typeof rh<"u"?rh:typeof self<"u"?self:typeof window<"u"?window:{});const iT="@firebase/firestore",rT="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xo="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=new tg("@firebase/firestore");function ao(){return la.logLevel}function ft(r,...t){if(la.logLevel<=Ut.DEBUG){const n=t.map(ig);la.debug(`Firestore (${xo}): ${r}`,...n)}}function _r(r,...t){if(la.logLevel<=Ut.ERROR){const n=t.map(ig);la.error(`Firestore (${xo}): ${r}`,...n)}}function Eo(r,...t){if(la.logLevel<=Ut.WARN){const n=t.map(ig);la.warn(`Firestore (${xo}): ${r}`,...n)}}function ig(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(r,t,n){let s="Unexpected state";typeof t=="string"?s=t:n=t,ZS(r,s,n)}function ZS(r,t,n){let s=`FIRESTORE (${xo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw _r(s),new Error(s)}function Kt(r,t,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||ZS(t,o,s)}function wt(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends br{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class QN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(Ze.UNAUTHENTICATED)))}shutdown(){}}class YN{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class XN{constructor(t){this.t=t,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Kt(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new gs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new gs,t.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},m=p=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new gs)}}),0),h()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==t?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Kt(typeof s.accessToken=="string",31837,{l:s}),new tA(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Kt(t===null||typeof t=="string",2055,{h:t}),new Ze(t)}}class JN{constructor(t,n,s){this.P=t,this.T=n,this.I=s,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class WN{constructor(t,n,s){this.P=t,this.T=n,this.I=s}getToken(){return Promise.resolve(new JN(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(Ze.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class sT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZN{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ni(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Kt(this.o===void 0,3512);const s=u=>{u.error!=null&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ft("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>s(u)))};const o=u=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new sT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Kt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new sT(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=tD(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=t.charAt(o[u]%62))}return s}}function Pt(r,t){return r<t?-1:r>t?1:0}function cp(r,t){const n=Math.min(r.length,t.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=t.charAt(s);if(o!==u)return Fm(o)===Fm(u)?Pt(o,u):Fm(o)?1:-1}return Pt(r.length,t.length)}const eD=55296,nD=57343;function Fm(r){const t=r.charCodeAt(0);return t>=eD&&t<=nD}function To(r,t,n){return r.length===t.length&&r.every(((s,o)=>n(s,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT="__name__";class Ii{constructor(t,n,s){n===void 0?n=0:n>t.length&&Et(637,{offset:n,range:t.length}),s===void 0?s=t.length-n:s>t.length-n&&Et(1746,{length:s,range:t.length-n}),this.segments=t,this.offset=n,this.len=s}get length(){return this.len}isEqual(t){return Ii.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ii?t.forEach((s=>{n.push(s)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,s=this.limit();n<s;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const s=Math.min(t.length,n.length);for(let o=0;o<s;o++){const u=Ii.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return Pt(t.length,n.length)}static compareSegments(t,n){const s=Ii.isNumericId(t),o=Ii.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ii.extractNumericId(t).compare(Ii.extractNumericId(n)):cp(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ps.fromString(t.substring(4,t.length-2))}}class se extends Ii{construct(t,n,s){return new se(t,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const s of t){if(s.indexOf("//")>=0)throw new ct(tt.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new se(n)}static emptyPath(){return new se([])}}const iD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ye extends Ii{construct(t,n,s){return new Ye(t,n,s)}static isValidIdentifier(t){return iD.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ye.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===aT}static keyField(){return new Ye([aT])}static fromServerFormat(t){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ct(tt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<t.length;){const m=t[o];if(m==="\\"){if(o+1===t.length)throw new ct(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ct(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new ct(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ye(n)}static emptyPath(){return new Ye([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.path=t}static fromPath(t){return new yt(se.fromString(t))}static fromName(t){return new yt(se.fromString(t).popFirst(5))}static empty(){return new yt(se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&se.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return se.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new se(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(r,t,n){if(!n)throw new ct(tt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function rD(r,t,n,s){if(t===!0&&s===!0)throw new ct(tt.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function oT(r){if(!yt.isDocumentKey(r))throw new ct(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function lT(r){if(yt.isDocumentKey(r))throw new ct(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function nA(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function af(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Et(12329,{type:typeof r})}function Dh(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ct(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=af(r);throw new ct(tt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return r}function sD(r,t){if(t<=0)throw new ct(tt.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Me(r,t){const n={typeString:r};return t&&(n.value=t),n}function vu(r,t){if(!nA(r))throw new ct(tt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in t)if(t[s]){const o=t[s].typeString,u="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const h=r[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ct(tt.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT=-62135596800,cT=1e6;class le{static now(){return le.fromMillis(Date.now())}static fromDate(t){return le.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),s=Math.floor((t-1e3*n)*cT);return new le(n,s)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new ct(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ct(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<uT)throw new ct(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cT}_compareTo(t){return this.seconds===t.seconds?Pt(this.nanoseconds,t.nanoseconds):Pt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:le._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(vu(t,le._jsonSchema))return new le(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-uT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}le._jsonSchemaVersion="firestore/timestamp/1.0",le._jsonSchema={type:Me("string",le._jsonSchemaVersion),seconds:Me("number"),nanoseconds:Me("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new le(0,0))}static max(){return new At(new le(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru=-1;function aD(r,t){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=At.fromTimestamp(s===1e9?new le(n+1,0):new le(n,s));return new _s(o,yt.empty(),t)}function oD(r){return new _s(r.readTime,r.key,ru)}class _s{constructor(t,n,s){this.readTime=t,this.documentKey=n,this.largestBatchId=s}static min(){return new _s(At.min(),yt.empty(),ru)}static max(){return new _s(At.max(),yt.empty(),ru)}}function lD(r,t){let n=r.readTime.compareTo(t.readTime);return n!==0?n:(n=yt.comparator(r.documentKey,t.documentKey),n!==0?n:Pt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mo(r){if(r.code!==tt.FAILED_PRECONDITION||r.message!==uD)throw r;ft("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&Et(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new nt(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof nt?n:nt.resolve(n)}catch(n){return nt.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):nt.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):nt.reject(n)}static resolve(t){return new nt(((n,s)=>{n(t)}))}static reject(t){return new nt(((n,s)=>{s(t)}))}static waitFor(t){return new nt(((n,s)=>{let o=0,u=0,h=!1;t.forEach((m=>{++o,m.next((()=>{++u,h&&u===o&&n()}),(p=>s(p)))})),h=!0,u===o&&n()}))}static or(t){let n=nt.resolve(!1);for(const s of t)n=n.next((o=>o?nt.resolve(o):s()));return n}static forEach(t,n){const s=[];return t.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(t,n){return new nt(((s,o)=>{const u=t.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(t[g]).next((E=>{h[g]=E,++m,m===u&&s(h)}),(E=>o(E)))}}))}static doWhile(t,n){return new nt(((s,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):s()};u()}))}}function hD(r){const t=r.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}of.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sg=-1;function lf(r){return r==null}function Oh(r){return r===0&&1/r==-1/0}function fD(r){return typeof r=="number"&&Number.isInteger(r)&&!Oh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA="";function dD(r){let t="";for(let n=0;n<r.length;n++)t.length>0&&(t=hT(t)),t=mD(r.get(n),t);return hT(t)}function mD(r,t){let n=t;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case iA:n+="";break;default:n+=u}}return n}function hT(r){return r+iA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(r){let t=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t++;return t}function da(r,t){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t(n,r[n])}function rA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(t,n){this.comparator=t,this.root=n||Qe.EMPTY}insert(t,n){return new de(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(t){return new de(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(t,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(t){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(t,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,s)=>(t(n,s),!1)))}toString(){const t=[];return this.inorderTraversal(((n,s)=>(t.push(`${n}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new sh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new sh(this.root,t,this.comparator,!1)}getReverseIterator(){return new sh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new sh(this.root,t,this.comparator,!0)}}class sh{constructor(t,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?s(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qe{constructor(t,n,s,o,u){this.key=t,this.value=n,this.color=s??Qe.RED,this.left=o??Qe.EMPTY,this.right=u??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,s,o,u){return new Qe(t??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,s){let o=this;const u=s(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let s,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return Qe.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Et(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Et(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Et(27949);return t+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw Et(57766)}get value(){throw Et(16141)}get color(){throw Et(16727)}get left(){throw Et(29726)}get right(){throw Et(36894)}copy(t,n,s,o,u){return this}insert(t,n,s){return new Qe(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(t){this.comparator=t,this.data=new de(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,s)=>(t(n),!1)))}forEachInRange(t,n){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new dT(this.data.getIterator())}getIteratorFrom(t){return new dT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((s=>{n=n.add(s)})),n}isEqual(t){if(!(t instanceof ke)||this.size!==t.size)return!1;const n=this.data.getIterator(),s=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new ke(this.comparator);return n.data=t,n}}class dT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(t){this.fields=t,t.sort(Ye.comparator)}static empty(){return new lr([])}unionWith(t){let n=new ke(Ye.comparator);for(const s of this.fields)n=n.add(s);for(const s of t)n=n.add(s);return new lr(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return To(this.fields,t.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new sA("Invalid base64 string: "+u):u}})(t);return new Xe(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u})(t);return new Xe(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Xe.EMPTY_BYTE_STRING=new Xe("");const pD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vs(r){if(Kt(!!r,39018),typeof r=="string"){let t=0;const n=pD.exec(r);if(Kt(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:Te(r.seconds),nanos:Te(r.nanos)}}function Te(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Es(r){return typeof r=="string"?Xe.fromBase64String(r):Xe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA="server_timestamp",oA="__type__",lA="__previous_value__",uA="__local_write_time__";function ag(r){return(r?.mapValue?.fields||{})[oA]?.stringValue===aA}function uf(r){const t=r.mapValue.fields[lA];return ag(t)?uf(t):t}function su(r){const t=vs(r.mapValue.fields[uA].timestampValue);return new le(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(t,n,s,o,u,h,m,p,g,E){this.databaseId=t,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const xh="(default)";class au{constructor(t,n){this.projectId=t,this.database=n||xh}static empty(){return new au("","")}get isDefaultDatabase(){return this.database===xh}isEqual(t){return t instanceof au&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA="__type__",yD="__max__",ah={mapValue:{}},hA="__vector__",Mh="value";function Ts(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ag(r)?4:vD(r)?9007199254740991:_D(r)?10:11:Et(28295,{value:r})}function ki(r,t){if(r===t)return!0;const n=Ts(r);if(n!==Ts(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return su(r).isEqual(su(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=vs(o.timestampValue),m=vs(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,u){return Es(o.bytesValue).isEqual(Es(u.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,u){return Te(o.geoPointValue.latitude)===Te(u.geoPointValue.latitude)&&Te(o.geoPointValue.longitude)===Te(u.geoPointValue.longitude)})(r,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return Te(o.integerValue)===Te(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Te(o.doubleValue),m=Te(u.doubleValue);return h===m?Oh(h)===Oh(m):isNaN(h)&&isNaN(m)}return!1})(r,t);case 9:return To(r.arrayValue.values||[],t.arrayValue.values||[],ki);case 10:case 11:return(function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(fT(h)!==fT(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!ki(h[p],m[p])))return!1;return!0})(r,t);default:return Et(52216,{left:r})}}function ou(r,t){return(r.values||[]).find((n=>ki(n,t)))!==void 0}function So(r,t){if(r===t)return 0;const n=Ts(r),s=Ts(t);if(n!==s)return Pt(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pt(r.booleanValue,t.booleanValue);case 2:return(function(u,h){const m=Te(u.integerValue||u.doubleValue),p=Te(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,t);case 3:return mT(r.timestampValue,t.timestampValue);case 4:return mT(su(r),su(t));case 5:return cp(r.stringValue,t.stringValue);case 6:return(function(u,h){const m=Es(u),p=Es(h);return m.compareTo(p)})(r.bytesValue,t.bytesValue);case 7:return(function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Pt(m[g],p[g]);if(E!==0)return E}return Pt(m.length,p.length)})(r.referenceValue,t.referenceValue);case 8:return(function(u,h){const m=Pt(Te(u.latitude),Te(h.latitude));return m!==0?m:Pt(Te(u.longitude),Te(h.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return pT(r.arrayValue,t.arrayValue);case 10:return(function(u,h){const m=u.fields||{},p=h.fields||{},g=m[Mh]?.arrayValue,E=p[Mh]?.arrayValue,T=Pt(g?.values?.length||0,E?.values?.length||0);return T!==0?T:pT(g,E)})(r.mapValue,t.mapValue);case 11:return(function(u,h){if(u===ah.mapValue&&h===ah.mapValue)return 0;if(u===ah.mapValue)return 1;if(h===ah.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const w=cp(p[T],E[T]);if(w!==0)return w;const k=So(m[p[T]],g[E[T]]);if(k!==0)return k}return Pt(p.length,E.length)})(r.mapValue,t.mapValue);default:throw Et(23264,{he:n})}}function mT(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Pt(r,t);const n=vs(r),s=vs(t),o=Pt(n.seconds,s.seconds);return o!==0?o:Pt(n.nanos,s.nanos)}function pT(r,t){const n=r.values||[],s=t.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=So(n[o],s[o]);if(u)return u}return Pt(n.length,s.length)}function Ao(r){return hp(r)}function hp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=vs(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return Es(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return yt.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=hp(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${hp(n.fields[h])}`;return o+"}"})(r.mapValue):Et(61005,{value:r})}function mh(r){switch(Ts(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=uf(r);return t?16+mh(t):16;case 5:return 2*r.stringValue.length;case 6:return Es(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+mh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return da(s.fields,((u,h)=>{o+=u.length+mh(h)})),o})(r.mapValue);default:throw Et(13486,{value:r})}}function gT(r,t){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${t.path.canonicalString()}`}}function fp(r){return!!r&&"integerValue"in r}function og(r){return!!r&&"arrayValue"in r}function yT(r){return!!r&&"nullValue"in r}function _T(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ph(r){return!!r&&"mapValue"in r}function _D(r){return(r?.mapValue?.fields||{})[cA]?.stringValue===hA}function Xl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return da(r.mapValue.fields,((n,s)=>t.mapValue.fields[n]=Xl(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Xl(r.arrayValue.values[n]);return t}return{...r}}function vD(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===yD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(t){this.value=t}static empty(){return new ti({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let s=0;s<t.length-1;++s)if(n=(n.mapValue.fields||{})[t.get(s)],!ph(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Xl(n)}setAll(t){let n=Ye.emptyPath(),s={},o=[];t.forEach(((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=Xl(h):o.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(t){const n=this.field(t.popLast());ph(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return ki(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<t.length;++s){let o=n.mapValue.fields[t.get(s)];ph(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,s){da(n,((o,u)=>t[o]=u));for(const o of s)delete t[o]}clone(){return new ti(Xl(this.value))}}function fA(r){const t=[];return da(r.fields,((n,s)=>{const o=new Ye([n]);if(ph(s)){const u=fA(s.mapValue).fields;if(u.length===0)t.push(o);else for(const h of u)t.push(o.child(h))}else t.push(o)})),new lr(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(t,n,s,o,u,h,m){this.key=t,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(t){return new tn(t,0,At.min(),At.min(),At.min(),ti.empty(),0)}static newFoundDocument(t,n,s,o){return new tn(t,1,n,At.min(),s,o,0)}static newNoDocument(t,n){return new tn(t,2,n,At.min(),At.min(),ti.empty(),0)}static newUnknownDocument(t,n){return new tn(t,3,n,At.min(),At.min(),ti.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ti.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ti.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof tn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(t,n){this.position=t,this.inclusive=n}}function vT(r,t,n){let s=0;for(let o=0;o<r.position.length;o++){const u=t[o],h=r.position[o];if(u.field.isKeyField()?s=yt.comparator(yt.fromName(h.referenceValue),n.key):s=So(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function ET(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!ki(r.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(t,n="asc"){this.field=t,this.dir=n}}function ED(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{}class xe extends dA{constructor(t,n,s){super(),this.field=t,this.op=n,this.value=s}static create(t,n,s){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,s):new SD(t,n,s):n==="array-contains"?new wD(t,s):n==="in"?new RD(t,s):n==="not-in"?new CD(t,s):n==="array-contains-any"?new ID(t,s):new xe(t,n,s)}static createKeyFieldInFilter(t,n,s){return n==="in"?new AD(t,s):new bD(t,s)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(So(n,this.value)):n!==null&&Ts(this.value)===Ts(n)&&this.matchesComparison(So(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Et(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends dA{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new ri(t,n)}matches(t){return mA(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function mA(r){return r.op==="and"}function pA(r){return TD(r)&&mA(r)}function TD(r){for(const t of r.filters)if(t instanceof ri)return!1;return!0}function dp(r){if(r instanceof xe)return r.field.canonicalString()+r.op.toString()+Ao(r.value);if(pA(r))return r.filters.map((t=>dp(t))).join(",");{const t=r.filters.map((n=>dp(n))).join(",");return`${r.op}(${t})`}}function gA(r,t){return r instanceof xe?(function(s,o){return o instanceof xe&&s.op===o.op&&s.field.isEqual(o.field)&&ki(s.value,o.value)})(r,t):r instanceof ri?(function(s,o){return o instanceof ri&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,h,m)=>u&&gA(h,o.filters[m])),!0):!1})(r,t):void Et(19439)}function yA(r){return r instanceof xe?(function(n){return`${n.field.canonicalString()} ${n.op} ${Ao(n.value)}`})(r):r instanceof ri?(function(n){return n.op.toString()+" {"+n.getFilters().map(yA).join(" ,")+"}"})(r):"Filter"}class SD extends xe{constructor(t,n,s){super(t,n,s),this.key=yt.fromName(s.referenceValue)}matches(t){const n=yt.comparator(t.key,this.key);return this.matchesComparison(n)}}class AD extends xe{constructor(t,n){super(t,"in",n),this.keys=_A("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class bD extends xe{constructor(t,n){super(t,"not-in",n),this.keys=_A("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function _A(r,t){return(t.arrayValue?.values||[]).map((n=>yt.fromName(n.referenceValue)))}class wD extends xe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return og(n)&&ou(n.arrayValue,this.value)}}class RD extends xe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&ou(this.value.arrayValue,n)}}class CD extends xe{constructor(t,n){super(t,"not-in",n)}matches(t){if(ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ou(this.value.arrayValue,n)}}class ID extends xe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!og(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>ou(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(t,n=null,s=[],o=[],u=null,h=null,m=null){this.path=t,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function TT(r,t=null,n=[],s=[],o=null,u=null,h=null){return new ND(r,t,n,s,o,u,h)}function lg(r){const t=wt(r);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((s=>dp(s))).join(","),n+="|ob:",n+=t.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),lf(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((s=>Ao(s))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((s=>Ao(s))).join(",")),t.Te=n}return t.Te}function ug(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!ED(r.orderBy[n],t.orderBy[n]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!gA(r.filters[n],t.filters[n]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!ET(r.startAt,t.startAt)&&ET(r.endAt,t.endAt)}function mp(r){return yt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(t,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function DD(r,t,n,s,o,u,h,m){return new Lo(r,t,n,s,o,u,h,m)}function vA(r){return new Lo(r)}function ST(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function EA(r){return r.collectionGroup!==null}function Jl(r){const t=wt(r);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new ke(Ye.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new lu(u,s))})),n.has(Ye.keyField().canonicalString())||t.Ie.push(new lu(Ye.keyField(),s))}return t.Ie}function Di(r){const t=wt(r);return t.Ee||(t.Ee=OD(t,Jl(r))),t.Ee}function OD(r,t){if(r.limitType==="F")return TT(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new lu(o.field,u)}));const n=r.endAt?new Vh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Vh(r.startAt.position,r.startAt.inclusive):null;return TT(r.path,r.collectionGroup,t,r.filters,r.limit,n,s)}}function pp(r,t){const n=r.filters.concat([t]);return new Lo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Lh(r,t,n){return new Lo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,n,r.startAt,r.endAt)}function cf(r,t){return ug(Di(r),Di(t))&&r.limitType===t.limitType}function TA(r){return`${lg(Di(r))}|lt:${r.limitType}`}function oo(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>yA(o))).join(", ")}]`),lf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>Ao(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>Ao(o))).join(",")),`Target(${s})`})(Di(r))}; limitType=${r.limitType})`}function hf(r,t){return t.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):yt.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,t)&&(function(s,o){for(const u of Jl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,t)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,t)&&(function(s,o){return!(s.startAt&&!(function(h,m,p){const g=vT(h,m,p);return h.inclusive?g<=0:g<0})(s.startAt,Jl(s),o)||s.endAt&&!(function(h,m,p){const g=vT(h,m,p);return h.inclusive?g>=0:g>0})(s.endAt,Jl(s),o))})(r,t)}function xD(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function SA(r){return(t,n)=>{let s=!1;for(const o of Jl(r)){const u=MD(o,t,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function MD(r,t,n){const s=r.field.isKeyField()?yt.comparator(t.key,n.key):(function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?So(p,g):Et(42886)})(r.field,t,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Et(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const s=this.mapKeyFn(t),o=this.inner[s];if(o===void 0)return this.inner[s]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],t))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(t){da(this.inner,((n,s)=>{for(const[o,u]of s)t(o,u)}))}isEmpty(){return rA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD=new de(yt.comparator);function vr(){return VD}const AA=new de(yt.comparator);function Kl(...r){let t=AA;for(const n of r)t=t.insert(n.key,n);return t}function bA(r){let t=AA;return r.forEach(((n,s)=>t=t.insert(n,s.overlayedDocument))),t}function ra(){return Wl()}function wA(){return Wl()}function Wl(){return new ma((r=>r.toString()),((r,t)=>r.isEqual(t)))}const LD=new de(yt.comparator),kD=new ke(yt.comparator);function zt(...r){let t=kD;for(const n of r)t=t.add(n);return t}const UD=new ke(Pt);function PD(){return UD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oh(t)?"-0":t}}function RA(r){return{integerValue:""+r}}function zD(r,t){return fD(t)?RA(t):cg(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(){this._=void 0}}function jD(r,t,n){return r instanceof kh?(function(o,u){const h={fields:{[oA]:{stringValue:aA},[uA]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ag(u)&&(u=uf(u)),u&&(h.fields[lA]=u),{mapValue:h}})(n,t):r instanceof uu?IA(r,t):r instanceof cu?NA(r,t):(function(o,u){const h=CA(o,u),m=AT(h)+AT(o.Ae);return fp(h)&&fp(o.Ae)?RA(m):cg(o.serializer,m)})(r,t)}function BD(r,t,n){return r instanceof uu?IA(r,t):r instanceof cu?NA(r,t):n}function CA(r,t){return r instanceof Uh?(function(s){return fp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(t)?t:{integerValue:0}:null}class kh extends ff{}class uu extends ff{constructor(t){super(),this.elements=t}}function IA(r,t){const n=DA(t);for(const s of r.elements)n.some((o=>ki(o,s)))||n.push(s);return{arrayValue:{values:n}}}class cu extends ff{constructor(t){super(),this.elements=t}}function NA(r,t){let n=DA(t);for(const s of r.elements)n=n.filter((o=>!ki(o,s)));return{arrayValue:{values:n}}}class Uh extends ff{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function AT(r){return Te(r.integerValue||r.doubleValue)}function DA(r){return og(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function qD(r,t){return r.field.isEqual(t.field)&&(function(s,o){return s instanceof uu&&o instanceof uu||s instanceof cu&&o instanceof cu?To(s.elements,o.elements,ki):s instanceof Uh&&o instanceof Uh?ki(s.Ae,o.Ae):s instanceof kh&&o instanceof kh})(r.transform,t.transform)}class HD{constructor(t,n){this.version=t,this.transformResults=n}}class mr{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new mr}static exists(t){return new mr(void 0,t)}static updateTime(t){return new mr(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function gh(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class df{}function OA(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new hg(r.key,mr.none()):new mf(r.key,r.data,mr.none());{const n=r.data,s=ti.empty();let o=new ke(Ye.comparator);for(let u of t.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new ko(r.key,s,new lr(o.toArray()),mr.none())}}function FD(r,t,n){r instanceof mf?(function(o,u,h){const m=o.value.clone(),p=wT(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()})(r,t,n):r instanceof ko?(function(o,u,h){if(!gh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=wT(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(xA(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(r,t,n):(function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()})(0,t,n)}function Zl(r,t,n,s){return r instanceof mf?(function(u,h,m,p){if(!gh(u.precondition,h))return m;const g=u.value.clone(),E=RT(u.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null})(r,t,n,s):r instanceof ko?(function(u,h,m,p){if(!gh(u.precondition,h))return m;const g=RT(u.fieldTransforms,p,h),E=h.data;return E.setAll(xA(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((T=>T.field)))})(r,t,n,s):(function(u,h,m){return gh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m})(r,t,n)}function GD(r,t){let n=null;for(const s of r.fieldTransforms){const o=t.data.field(s.field),u=CA(s.transform,o||null);u!=null&&(n===null&&(n=ti.empty()),n.set(s.field,u))}return n||null}function bT(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&To(s,o,((u,h)=>qD(u,h)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class mf extends df{constructor(t,n,s,o=[]){super(),this.key=t,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ko extends df{constructor(t,n,s,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function xA(r){const t=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);t.set(n,s)}})),t}function wT(r,t,n){const s=new Map;Kt(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],h=u.transform,m=t.data.field(u.field);s.set(u.field,BD(h,m,n[o]))}return s}function RT(r,t,n){const s=new Map;for(const o of r){const u=o.transform,h=n.data.field(o.field);s.set(o.field,jD(u,h,t))}return s}class hg extends df{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $D extends df{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(t,n,s,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(t,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&FD(u,t,s[o])}}applyToLocalView(t,n){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(n=Zl(s,t,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(n=Zl(s,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const s=wA();return this.mutations.forEach((o=>{const u=t.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=OA(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(At.min())})),s}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),zt())}isEqual(t){return this.batchId===t.batchId&&To(this.mutations,t.mutations,((n,s)=>bT(n,s)))&&To(this.baseMutations,t.baseMutations,((n,s)=>bT(n,s)))}}class fg{constructor(t,n,s,o){this.batch=t,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(t,n,s){Kt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let o=(function(){return LD})();const u=t.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new fg(t,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe,Bt;function XD(r){switch(r){case tt.OK:return Et(64938);case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0;default:return Et(15467,{code:r})}}function MA(r){if(r===void 0)return _r("GRPC error has no .code"),tt.UNKNOWN;switch(r){case Oe.OK:return tt.OK;case Oe.CANCELLED:return tt.CANCELLED;case Oe.UNKNOWN:return tt.UNKNOWN;case Oe.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case Oe.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case Oe.INTERNAL:return tt.INTERNAL;case Oe.UNAVAILABLE:return tt.UNAVAILABLE;case Oe.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case Oe.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case Oe.NOT_FOUND:return tt.NOT_FOUND;case Oe.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case Oe.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case Oe.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case Oe.ABORTED:return tt.ABORTED;case Oe.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case Oe.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case Oe.DATA_LOSS:return tt.DATA_LOSS;default:return Et(39323,{code:r})}}(Bt=Oe||(Oe={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=new ps([4294967295,4294967295],0);function CT(r){const t=JD().encode(r),n=new KS;return n.update(t),new Uint8Array(n.digest())}function IT(r){const t=new DataView(r.buffer),n=t.getUint32(0,!0),s=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new ps([n,s],0),new ps([o,u],0)]}class dg{constructor(t,n,s){if(this.bitmap=t,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ql(`Invalid padding: ${n}`);if(s<0)throw new Ql(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new Ql(`Invalid hash count: ${s}`);if(t.length===0&&n!==0)throw new Ql(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=ps.fromNumber(this.ge)}ye(t,n,s){let o=t.add(n.multiply(ps.fromNumber(s)));return o.compare(WD)===1&&(o=new ps([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=CT(t),[s,o]=IT(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(t,n,s){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),h=new dg(u,o,n);return s.forEach((m=>h.insert(m))),h}insert(t){if(this.ge===0)return;const n=CT(t),[s,o]=IT(n);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(t){const n=Math.floor(t/8),s=t%8;this.bitmap[n]|=1<<s}}class Ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(t,n,s,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,s){const o=new Map;return o.set(t,Eu.createSynthesizedTargetChangeForCurrentChange(t,n,s)),new pf(At.min(),o,new de(Pt),vr(),zt())}}class Eu{constructor(t,n,s,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,s){return new Eu(s,n,zt(),zt(),zt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(t,n,s,o){this.be=t,this.removedTargetIds=n,this.key=s,this.De=o}}class VA{constructor(t,n){this.targetId=t,this.Ce=n}}class LA{constructor(t,n,s=Xe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=s,this.cause=o}}class NT{constructor(){this.ve=0,this.Fe=DT(),this.Me=Xe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=zt(),n=zt(),s=zt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Et(38017,{changeType:u})}})),new Eu(this.Me,this.xe,t,n,s)}qe(){this.Oe=!1,this.Fe=DT()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Kt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class ZD{constructor(t){this.Ge=t,this.ze=new Map,this.je=vr(),this.Je=oh(),this.He=oh(),this.Ye=new de(Pt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const s=this.nt(n);switch(t.state){case 0:this.rt(n)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(t.resumeToken));break;default:Et(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,s=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(mp(u))if(s===0){const h=new yt(u.path);this.et(n,h,tn.newNoDocument(h,At.min()))}else Kt(s===1,20013,{expectedCount:s});else{const h=this._t(n);if(h!==s){const m=this.ut(t),p=m?this.ct(m,t,h):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=Es(s).toUint8Array()}catch(p){if(p instanceof sA)return Eo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new dg(h,o,u)}catch(p){return Eo(p instanceof Ql?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(t,n,s){return n.Ce.count===s-this.Pt(t,n.targetId)?0:2}Pt(t,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;t.mightContain(m)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,h)=>{const m=this.ot(h);if(m){if(u.current&&mp(m.target)){const p=new yt(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,tn.newNoDocument(p,t))}u.Be&&(n.set(h,u.ke()),u.qe())}}));let s=zt();this.He.forEach(((u,h)=>{let m=!0;h.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,h)=>h.setReadTime(t)));const o=new pf(t,n,this.Ye,this.je,s);return this.je=vr(),this.Je=oh(),this.He=oh(),this.Ye=new de(Pt),o}Xe(t,n){if(!this.rt(t))return;const s=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,s){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),s&&(this.je=this.je.insert(n,s))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new NT,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new ke(Pt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new ke(Pt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ft("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new NT),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function oh(){return new de(yt.comparator)}function DT(){return new de(yt.comparator)}const tO={asc:"ASCENDING",desc:"DESCENDING"},eO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},nO={and:"AND",or:"OR"};class iO{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function gp(r,t){return r.useProto3Json||lf(t)?t:{value:t}}function Ph(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function kA(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function rO(r,t){return Ph(r,t.toTimestamp())}function Oi(r){return Kt(!!r,49232),At.fromTimestamp((function(n){const s=vs(n);return new le(s.seconds,s.nanos)})(r))}function mg(r,t){return yp(r,t).canonicalString()}function yp(r,t){const n=(function(o){return new se(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?n:n.child(t)}function UA(r){const t=se.fromString(r);return Kt(qA(t),10190,{key:t.toString()}),t}function _p(r,t){return mg(r.databaseId,t.path)}function Gm(r,t){const n=UA(t);if(n.get(1)!==r.databaseId.projectId)throw new ct(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ct(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new yt(zA(n))}function PA(r,t){return mg(r.databaseId,t)}function sO(r){const t=UA(r);return t.length===4?se.emptyPath():zA(t)}function vp(r){return new se(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function zA(r){return Kt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function OT(r,t,n){return{name:_p(r,t),fields:n.value.mapValue.fields}}function aO(r,t){let n;if("targetChange"in t){t.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Et(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(g,E){return g.useProto3Json?(Kt(E===void 0||typeof E=="string",58123),Xe.fromBase64String(E||"")):(Kt(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Xe.fromUint8Array(E||new Uint8Array))})(r,t.targetChange.resumeToken),h=t.targetChange.cause,m=h&&(function(g){const E=g.code===void 0?tt.UNKNOWN:MA(g.code);return new ct(E,g.message||"")})(h);n=new LA(s,o,u,m||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const o=Gm(r,s.document.name),u=Oi(s.document.updateTime),h=s.document.createTime?Oi(s.document.createTime):At.min(),m=new ti({mapValue:{fields:s.document.fields}}),p=tn.newFoundDocument(o,u,h,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new yh(g,E,p.key,p)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const o=Gm(r,s.document),u=s.readTime?Oi(s.readTime):At.min(),h=tn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new yh([],m,h.key,h)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const o=Gm(r,s.document),u=s.removedTargetIds||[];n=new yh([],u,o,null)}else{if(!("filter"in t))return Et(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new YD(o,u),m=s.targetId;n=new VA(m,h)}}return n}function oO(r,t){let n;if(t instanceof mf)n={update:OT(r,t.key,t.value)};else if(t instanceof hg)n={delete:_p(r,t.key)};else if(t instanceof ko)n={update:OT(r,t.key,t.data),updateMask:gO(t.fieldMask)};else{if(!(t instanceof $D))return Et(16599,{Vt:t.type});n={verify:_p(r,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((s=>(function(u,h){const m=h.transform;if(m instanceof kh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof uu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof cu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Uh)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Et(20930,{transform:h.transform})})(0,s)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:rO(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Et(27497)})(r,t.precondition)),n}function lO(r,t){return r&&r.length>0?(Kt(t!==void 0,14353),r.map((n=>(function(o,u){let h=o.updateTime?Oi(o.updateTime):Oi(u);return h.isEqual(At.min())&&(h=Oi(u)),new HD(h,o.transformResults||[])})(n,t)))):[]}function uO(r,t){return{documents:[PA(r,t.path)]}}function cO(r,t){const n={structuredQuery:{}},s=t.path;let o;t.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=PA(r,o);const u=(function(g){if(g.length!==0)return BA(ri.create(g,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const h=(function(g){if(g.length!==0)return g.map((E=>(function(w){return{field:lo(w.field),direction:dO(w.dir)}})(E)))})(t.orderBy);h&&(n.structuredQuery.orderBy=h);const m=gp(r,t.limit);return m!==null&&(n.structuredQuery.limit=m),t.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:n,parent:o}}function hO(r){let t=sO(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Kt(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:t=t.child(E.collectionId)}let u=[];n.where&&(u=(function(T){const w=jA(T);return w instanceof ri&&pA(w)?w.getFilters():[w]})(n.where));let h=[];n.orderBy&&(h=(function(T){return T.map((w=>(function(H){return new lu(uo(H.field),(function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(H.direction))})(w)))})(n.orderBy));let m=null;n.limit&&(m=(function(T){let w;return w=typeof T=="object"?T.value:T,lf(w)?null:w})(n.limit));let p=null;n.startAt&&(p=(function(T){const w=!!T.before,k=T.values||[];return new Vh(k,w)})(n.startAt));let g=null;return n.endAt&&(g=(function(T){const w=!T.before,k=T.values||[];return new Vh(k,w)})(n.endAt)),DD(t,o,h,u,m,"F",p,g)}function fO(r,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Et(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function jA(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=uo(n.unaryFilter.field);return xe.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=uo(n.unaryFilter.field);return xe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=uo(n.unaryFilter.field);return xe.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=uo(n.unaryFilter.field);return xe.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Et(61313);default:return Et(60726)}})(r):r.fieldFilter!==void 0?(function(n){return xe.create(uo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Et(58110);default:return Et(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ri.create(n.compositeFilter.filters.map((s=>jA(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Et(1026)}})(n.compositeFilter.op))})(r):Et(30097,{filter:r})}function dO(r){return tO[r]}function mO(r){return eO[r]}function pO(r){return nO[r]}function lo(r){return{fieldPath:r.canonicalString()}}function uo(r){return Ye.fromServerFormat(r.fieldPath)}function BA(r){return r instanceof xe?(function(n){if(n.op==="=="){if(_T(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NAN"}};if(yT(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_T(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NOT_NAN"}};if(yT(n.value))return{unaryFilter:{field:lo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lo(n.field),op:mO(n.op),value:n.value}}})(r):r instanceof ri?(function(n){const s=n.getFilters().map((o=>BA(o)));return s.length===1?s[0]:{compositeFilter:{op:pO(n.op),filters:s}}})(r):Et(54877,{filter:r})}function gO(r){const t=[];return r.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function qA(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(t,n,s,o,u=At.min(),h=At.min(),m=Xe.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(t){return new hs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(t){this.yt=t}}function _O(r){const t=hO({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Lh(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(){this.Cn=new EO}addToCollectionParentIndex(t,n){return this.Cn.add(n),nt.resolve()}getCollectionParents(t,n){return nt.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return nt.resolve()}deleteFieldIndex(t,n){return nt.resolve()}deleteAllFieldIndexes(t){return nt.resolve()}createTargetIndexes(t,n){return nt.resolve()}getDocumentsMatchingTarget(t,n){return nt.resolve(null)}getIndexType(t,n){return nt.resolve(0)}getFieldIndexes(t,n){return nt.resolve([])}getNextCollectionGroupToUpdate(t){return nt.resolve(null)}getMinOffset(t,n){return nt.resolve(_s.min())}getMinOffsetFromCollectionGroup(t,n){return nt.resolve(_s.min())}updateCollectionGroup(t,n,s){return nt.resolve()}updateIndexEntries(t,n){return nt.resolve()}}class EO{constructor(){this.index={}}add(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n]||new ke(se.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(t){const n=t.lastSegment(),s=t.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(t){return(this.index[t]||new ke(se.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},HA=41943040;class pn{static withCacheSize(t){return new pn(t,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(HA,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new bo(0)}static cr(){return new bo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT="LruGarbageCollector",TO=1048576;function VT([r,t],[n,s]){const o=Pt(r,n);return o===0?Pt(t,s):o}class SO{constructor(t){this.Ir=t,this.buffer=new ke(VT),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();VT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class AO{constructor(t,n,s){this.garbageCollector=t,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ft(MT,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Vo(n)?ft(MT,"Ignoring IndexedDB error during garbage collection: ",n):await Mo(n)}await this.Vr(3e5)}))}}class bO{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(t,n){if(n===0)return nt.resolve(of.ce);const s=new SO(n);return this.mr.forEachTarget(t,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(t,n,s){return this.mr.removeTargets(t,n,s)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ft("LruGarbageCollector","Garbage collection skipped; disabled"),nt.resolve(xT)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xT):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let s,o,u,h,m,p,g;const E=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(t,o)))).next((T=>(s=T,m=Date.now(),this.removeTargets(t,s,n)))).next((T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(t,s)))).next((T=>(g=Date.now(),ao()<=Ut.DEBUG&&ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),nt.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T}))))}}function wO(r,t){return new bO(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(){this.changes=new ma((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,tn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?nt.resolve(s):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(t,n,s,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(t,n){let s=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(s!==null&&Zl(s.mutation,o,lr.empty(),le.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.getLocalViewOfDocuments(t,s,zt()).next((()=>s))))}getLocalViewOfDocuments(t,n,s=zt()){const o=ra();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,s).next((u=>{let h=Kl();return u.forEach(((m,p)=>{h=h.insert(m,p.overlayedDocument)})),h}))))}getOverlayedDocuments(t,n){const s=ra();return this.populateOverlays(t,s,n).next((()=>this.computeViews(t,n,s,zt())))}populateOverlays(t,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((h,m)=>{n.set(h,m)}))}))}computeViews(t,n,s,o){let u=vr();const h=Wl(),m=(function(){return Wl()})();return n.forEach(((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof ko)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),Zl(E.mutation,g,E.mutation.getFieldMask(),le.now())):h.set(g.key,lr.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((g,E)=>h.set(g,E))),n.forEach(((g,E)=>m.set(g,new CO(E,h.get(g)??null)))),m)))}recalculateAndSaveOverlays(t,n){const s=Wl();let o=new de(((h,m)=>h-m)),u=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((h=>{for(const m of h)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||lr.empty();E=m.applyToLocalView(g,E),s.set(p,E);const T=(o.get(m.batchId)||zt()).add(p);o=o.insert(m.batchId,T)}))})).next((()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,T=wA();E.forEach((w=>{if(!u.has(w)){const k=OA(n.get(w),s.get(w));k!==null&&T.set(w,k),u=u.add(w)}})),h.push(this.documentOverlayCache.saveOverlays(t,g,T))}return nt.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,n,s,o){return(function(h){return yt.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):EA(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,s,o):this.getDocumentsMatchingCollectionQuery(t,n,s,o)}getNextDocuments(t,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,s,o).next((u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,s.largestBatchId,o-u.size):nt.resolve(ra());let m=ru,p=u;return h.next((g=>nt.forEach(g,((E,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),u.get(E)?nt.resolve():this.remoteDocumentCache.getEntry(t,E).next((w=>{p=p.insert(E,w)}))))).next((()=>this.populateOverlays(t,g,u))).next((()=>this.computeViews(t,p,g,zt()))).next((E=>({batchId:m,changes:bA(E)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new yt(n)).next((s=>{let o=Kl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,s,o){const u=n.collectionGroup;let h=Kl();return this.indexManager.getCollectionParents(t,u).next((m=>nt.forEach(m,(p=>{const g=(function(T,w){return new Lo(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,g,s,o).next((E=>{E.forEach(((T,w)=>{h=h.insert(T,w)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(t,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,s.largestBatchId).next((h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,s,u,o)))).next((h=>{u.forEach(((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,tn.newInvalidDocument(E)))}));let m=Kl();return h.forEach(((p,g)=>{const E=u.get(p);E!==void 0&&Zl(E.mutation,g,lr.empty(),le.now()),hf(n,g)&&(m=m.insert(p,g))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return nt.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Oi(o.createTime)}})(n)),nt.resolve()}getNamedQuery(t,n){return nt.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:_O(o.bundledQuery),readTime:Oi(o.readTime)}})(n)),nt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(){this.overlays=new de(yt.comparator),this.qr=new Map}getOverlay(t,n){return nt.resolve(this.overlays.get(n))}getOverlays(t,n){const s=ra();return nt.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(t,n,s){return s.forEach(((o,u)=>{this.St(t,n,u)})),nt.resolve()}removeOverlaysForBatchId(t,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),nt.resolve()}getOverlaysForCollection(t,n,s){const o=ra(),u=n.length+1,h=new yt(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return nt.resolve(o)}getOverlaysForCollectionGroup(t,n,s,o){let u=new de(((g,E)=>g-E));const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=ra(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=ra(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,E)=>m.set(g,E))),!(m.size()>=o)););return nt.resolve(m)}St(t,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new QD(n,s));let u=this.qr.get(n);u===void 0&&(u=zt(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(){this.sessionToken=Xe.EMPTY_BYTE_STRING}getSessionToken(t){return nt.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,nt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(){this.Qr=new ke(je.$r),this.Ur=new ke(je.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const s=new je(t,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,n){t.forEach((s=>this.addReference(s,n)))}removeReference(t,n){this.Gr(new je(t,n))}zr(t,n){t.forEach((s=>this.removeReference(s,n)))}jr(t){const n=new yt(new se([])),s=new je(n,t),o=new je(n,t+1),u=[];return this.Ur.forEachInRange([s,o],(h=>{this.Gr(h),u.push(h.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new yt(new se([])),s=new je(n,t),o=new je(n,t+1);let u=zt();return this.Ur.forEachInRange([s,o],(h=>{u=u.add(h.key)})),u}containsKey(t){const n=new je(t,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&t.isEqual(s.key)}}class je{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return yt.comparator(t.key,n.key)||Pt(t.Yr,n.Yr)}static Kr(t,n){return Pt(t.Yr,n.Yr)||yt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new ke(je.$r)}checkEmpty(t){return nt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new KD(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new je(m.key,u)),this.indexManager.addToCollectionParentIndex(t,m.key.path.popLast());return nt.resolve(h)}lookupMutationBatch(t,n){return nt.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return nt.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return nt.resolve(this.mutationQueue.length===0?sg:this.tr-1)}getAllMutationBatches(t){return nt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const s=new je(n,0),o=new je(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(h=>{const m=this.Xr(h.Yr);u.push(m)})),nt.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let s=new ke(Pt);return n.forEach((o=>{const u=new je(o,0),h=new je(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],(m=>{s=s.add(m.Yr)}))})),nt.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,n){const s=n.path,o=s.length+1;let u=s;yt.isDocumentKey(u)||(u=u.child(""));const h=new je(new yt(u),0);let m=new ke(Pt);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)}),h),nt.resolve(this.ti(m))}ti(t){const n=[];return t.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){Kt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return nt.forEach(n.mutations,(o=>{const u=new je(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,n){const s=new je(n,0),o=this.Zr.firstAfterOrEqual(s);return nt.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,nt.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{constructor(t){this.ri=t,this.docs=(function(){return new de(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const s=this.docs.get(n);return nt.resolve(s?s.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(t,n){let s=vr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():tn.newInvalidDocument(o))})),nt.resolve(s)}getDocumentsMatchingQuery(t,n,s,o){let u=vr();const h=n.path,m=new yt(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||lD(oD(E),s)<=0||(o.has(E.key)||hf(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return nt.resolve(u)}getAllFromCollectionGroup(t,n,s,o){Et(9500)}ii(t,n){return nt.forEach(this.docs,(s=>n(s)))}newChangeBuffer(t){return new VO(this)}getSize(t){return nt.resolve(this.size)}}class VO extends RO{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(s)})),nt.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(t){this.persistence=t,this.si=new ma((n=>lg(n)),ug),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new pg,this.targetCount=0,this.ai=bo.ur()}forEachTarget(t,n){return this.si.forEach(((s,o)=>n(o))),nt.resolve()}getLastRemoteSnapshotVersion(t){return nt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return nt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),nt.resolve(this.highestTargetId)}setTargetsMetadata(t,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),nt.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new bo(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,nt.resolve()}updateTargetData(t,n){return this.Pr(n),nt.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,nt.resolve()}removeTargets(t,n,s){let o=0;const u=[];return this.si.forEach(((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(t,m.targetId)),o++)})),nt.waitFor(u).next((()=>o))}getTargetCount(t){return nt.resolve(this.targetCount)}getTargetData(t,n){const s=this.si.get(n)||null;return nt.resolve(s)}addMatchingKeys(t,n,s){return this._i.Wr(n,s),nt.resolve()}removeMatchingKeys(t,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((h=>{u.push(o.markPotentiallyOrphaned(t,h))})),nt.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),nt.resolve()}getMatchingKeysForTargetId(t,n){const s=this._i.Hr(n);return nt.resolve(s)}containsKey(t,n){return nt.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(t,n){this.ui={},this.overlays={},this.ci=new of(0),this.li=!1,this.li=!0,this.hi=new OO,this.referenceDelegate=t(this),this.Pi=new LO(this),this.indexManager=new vO,this.remoteDocumentCache=(function(o){return new MO(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new yO(n),this.Ii=new NO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new DO,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let s=this.ui[t.toKey()];return s||(s=new xO(n,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,s){ft("MemoryPersistence","Starting transaction:",t);const o=new kO(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,n){return nt.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,n))))}}class kO extends cD{constructor(t){super(),this.currentSequenceNumber=t}}class gg{constructor(t){this.persistence=t,this.Ri=new pg,this.Vi=null}static mi(t){return new gg(t)}get fi(){if(this.Vi)return this.Vi;throw Et(60996)}addReference(t,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),nt.resolve()}removeReference(t,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),nt.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),nt.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return nt.forEach(this.fi,(s=>{const o=yt.fromPath(s);return this.gi(t,o).next((u=>{u||n.removeEntry(o,At.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return nt.or([()=>nt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class zh{constructor(t,n){this.persistence=t,this.pi=new ma((s=>dD(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=wO(this,n)}static mi(t,n){return new zh(t,n)}Ei(){}di(t){return nt.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>n.next((o=>s+o))))}wr(t){let n=0;return this.pr(t,(s=>{n++})).next((()=>n))}pr(t,n){return nt.forEach(this.pi,((s,o)=>this.br(t,s,o).next((u=>u?nt.resolve():n(o)))))}removeTargets(t,n,s){return this.persistence.getTargetCache().removeTargets(t,n,s)}removeOrphanedDocuments(t,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(h=>this.br(t,h,n).next((m=>{m||(s++,u.removeEntry(h,At.min()))})))).next((()=>u.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),nt.resolve()}removeTarget(t,n){const s=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),nt.resolve()}removeReference(t,n,s){return this.pi.set(s,t.currentSequenceNumber),nt.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),nt.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=mh(t.data.value)),n}br(t,n,s){return nt.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return nt.resolve(o!==void 0&&o>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(t,n,s,o){this.targetId=t,this.fromCache=n,this.Es=s,this.ds=o}static As(t,n){let s=zt(),o=zt();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new yg(t,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return D2()?8:hD(en())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,s,o){const u={result:null};return this.ys(t,n).next((h=>{u.result=h})).next((()=>{if(!u.result)return this.ws(t,n,o,s).next((h=>{u.result=h}))})).next((()=>{if(u.result)return;const h=new UO;return this.Ss(t,n,h).next((m=>{if(u.result=m,this.Vs)return this.bs(t,n,h,m.size)}))})).next((()=>u.result))}bs(t,n,s,o){return s.documentReadCount<this.fs?(ao()<=Ut.DEBUG&&ft("QueryEngine","SDK will not create cache indexes for query:",oo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),nt.resolve()):(ao()<=Ut.DEBUG&&ft("QueryEngine","Query:",oo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(ao()<=Ut.DEBUG&&ft("QueryEngine","The SDK decides to create cache indexes for query:",oo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Di(n))):nt.resolve())}ys(t,n){if(ST(n))return nt.resolve(null);let s=Di(n);return this.indexManager.getIndexType(t,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Lh(n,null,"F"),s=Di(n)),this.indexManager.getDocumentsMatchingTarget(t,s).next((u=>{const h=zt(...u);return this.ps.getDocuments(t,h).next((m=>this.indexManager.getMinOffset(t,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,h,p.readTime)?this.ys(t,Lh(n,null,"F")):this.vs(t,g,n,p)}))))})))))}ws(t,n,s,o){return ST(n)||o.isEqual(At.min())?nt.resolve(null):this.ps.getDocuments(t,s).next((u=>{const h=this.Ds(n,u);return this.Cs(n,h,s,o)?nt.resolve(null):(ao()<=Ut.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),oo(n)),this.vs(t,h,n,aD(o,ru)).next((m=>m)))}))}Ds(t,n){let s=new ke(SA(t));return n.forEach(((o,u)=>{hf(t,u)&&(s=s.add(u))})),s}Cs(t,n,s,o){if(t.limit===null)return!1;if(s.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,s){return ao()<=Ut.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",oo(n)),this.ps.getDocumentsMatchingQuery(t,n,_s.min(),s)}vs(t,n,s,o){return this.ps.getDocumentsMatchingQuery(t,s,o).next((u=>(n.forEach((h=>{u=u.insert(h.key,h)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g="LocalStore",zO=3e8;class jO{constructor(t,n,s,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new de(Pt),this.xs=new ma((u=>lg(u)),ug),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new IO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function BO(r,t,n,s){return new jO(r,t,n,s)}async function GA(r,t){const n=wt(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const h=[],m=[];let p=zt();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:h,addedBatchIds:m})))}))}))}function qO(r,t){const n=wt(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,E){const T=g.batch,w=T.keys();let k=nt.resolve();return w.forEach((H=>{k=k.next((()=>E.getEntry(p,H))).next((F=>{const P=g.docVersions.get(H);Kt(P!==null,48541),F.version.compareTo(P)<0&&(T.applyToRemoteDocument(F,g),F.isValidDocument()&&(F.setReadTime(g.commitVersion),E.addEntry(F)))}))})),k.next((()=>m.mutationQueue.removeMutationBatch(p,T)))})(n,s,t,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=zt();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function $A(r){const t=wt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function HO(r,t){const n=wt(r),s=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const h=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const m=[];t.targetChanges.forEach(((E,T)=>{const w=o.get(T);if(!w)return;m.push(n.Pi.removeMatchingKeys(u,E.removedDocuments,T).next((()=>n.Pi.addMatchingKeys(u,E.addedDocuments,T))));let k=w.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(T)!==null?k=k.withResumeToken(Xe.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,s)),o=o.insert(T,k),(function(F,P,W){return F.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=zO?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0})(w,k,E)&&m.push(n.Pi.updateTargetData(u,k))}));let p=vr(),g=zt();if(t.documentUpdates.forEach((E=>{t.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))})),m.push(FO(u,h,t.documentUpdates).next((E=>{p=E.ks,g=E.qs}))),!s.isEqual(At.min())){const E=n.Pi.getLastRemoteSnapshotVersion(u).next((T=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(E)}return nt.waitFor(m).next((()=>h.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function FO(r,t,n){let s=zt(),o=zt();return n.forEach((u=>s=s.add(u))),t.getEntries(r,s).next((u=>{let h=vr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(At.min())?(t.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(p),h=h.insert(m,p)):ft(_g,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:h,qs:o}}))}function GO(r,t){const n=wt(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=sg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function $O(r,t){const n=wt(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,t).next((u=>u?(o=u,nt.resolve(o)):n.Pi.allocateTargetId(s).next((h=>(o=new hs(t,h,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(t,s.targetId)),s}))}async function Ep(r,t,n){const s=wt(r),o=s.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Vo(h))throw h;ft(_g,`Failed to update sequence numbers for target ${t}: ${h}`)}s.Ms=s.Ms.remove(t),s.xs.delete(o.target)}function LT(r,t,n){const s=wt(r);let o=At.min(),u=zt();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,g,E){const T=wt(p),w=T.xs.get(E);return w!==void 0?nt.resolve(T.Ms.get(w)):T.Pi.getTargetData(g,E)})(s,h,Di(t)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(h,t,n?o:At.min(),n?u:zt()))).next((m=>(KO(s,xD(t),m),{documents:m,Qs:u})))))}function KO(r,t,n){let s=r.Os.get(t)||At.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(t,s)}class kT{constructor(){this.activeTargetIds=PD()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class QO{constructor(){this.Mo=new kT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,s){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,s){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new kT,Promise.resolve()}handleUserChange(t,n,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="ConnectivityMonitor";class PT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ft(UT,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ft(UT,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lh=null;function Tp(){return lh===null?lh=(function(){return 268435456+Math.round(2147483648*Math.random())})():lh++,"0x"+lh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m="RestConnection",XO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class JO{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===xh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(t,n,s,o,u){const h=Tp(),m=this.zo(t,n.toUriEncodedString());ft($m,`Sending RPC '${t}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),E=Do(g);return this.Jo(t,m,p,s,E).then((T=>(ft($m,`Received RPC '${t}' ${h}: `,T),T)),(T=>{throw Eo($m,`RPC '${t}' ${h} failed with error: `,T,"url: ",m,"request:",s),T}))}Ho(t,n,s,o,u,h){return this.Go(t,n,s,o,u)}jo(t,n,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+xo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),s&&s.headers.forEach(((o,u)=>t[u]=o))}zo(t,n){const s=XO[t];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const We="WebChannelConnection";class ZO extends JO{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,s,o,u){const h=Tp();return new Promise(((m,p)=>{const g=new QS;g.setWithCredentials(!0),g.listenOnce(YS.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case dh.NO_ERROR:const T=g.getResponseJson();ft(We,`XHR for RPC '${t}' ${h} received:`,JSON.stringify(T)),m(T);break;case dh.TIMEOUT:ft(We,`RPC '${t}' ${h} timed out`),p(new ct(tt.DEADLINE_EXCEEDED,"Request time out"));break;case dh.HTTP_ERROR:const w=g.getStatus();if(ft(We,`RPC '${t}' ${h} failed with status:`,w,"response text:",g.getResponseText()),w>0){let k=g.getResponseJson();Array.isArray(k)&&(k=k[0]);const H=k?.error;if(H&&H.status&&H.message){const F=(function(W){const et=W.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(et)>=0?et:tt.UNKNOWN})(H.status);p(new ct(F,H.message))}else p(new ct(tt.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new ct(tt.UNAVAILABLE,"Connection failed."));break;default:Et(9055,{l_:t,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ft(We,`RPC '${t}' ${h} completed.`)}}));const E=JSON.stringify(o);ft(We,`RPC '${t}' ${h} sending request:`,o),g.send(n,"POST",E,s,15)}))}T_(t,n,s){const o=Tp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],h=WS(),m=JS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ft(We,`Creating RPC '${t}' stream ${o}: ${E}`,p);const T=h.createWebChannel(E,p);this.I_(T);let w=!1,k=!1;const H=new WO({Yo:P=>{k?ft(We,`Not sending because RPC '${t}' stream ${o} is closed:`,P):(w||(ft(We,`Opening RPC '${t}' stream ${o} transport.`),T.open(),w=!0),ft(We,`RPC '${t}' stream ${o} sending:`,P),T.send(P))},Zo:()=>T.close()}),F=(P,W,et)=>{P.listen(W,(it=>{try{et(it)}catch(ht){setTimeout((()=>{throw ht}),0)}}))};return F(T,$l.EventType.OPEN,(()=>{k||(ft(We,`RPC '${t}' stream ${o} transport opened.`),H.o_())})),F(T,$l.EventType.CLOSE,(()=>{k||(k=!0,ft(We,`RPC '${t}' stream ${o} transport closed`),H.a_(),this.E_(T))})),F(T,$l.EventType.ERROR,(P=>{k||(k=!0,Eo(We,`RPC '${t}' stream ${o} transport errored. Name:`,P.name,"Message:",P.message),H.a_(new ct(tt.UNAVAILABLE,"The operation could not be completed")))})),F(T,$l.EventType.MESSAGE,(P=>{if(!k){const W=P.data[0];Kt(!!W,16349);const et=W,it=et?.error||et[0]?.error;if(it){ft(We,`RPC '${t}' stream ${o} received error:`,it);const ht=it.status;let pt=(function(R){const I=Oe[R];if(I!==void 0)return MA(I)})(ht),lt=it.message;pt===void 0&&(pt=tt.INTERNAL,lt="Unknown error status: "+ht+" with message "+it.message),k=!0,H.a_(new ct(pt,lt)),T.close()}else ft(We,`RPC '${t}' stream ${o} received:`,W),H.u_(W)}})),F(m,XS.STAT_EVENT,(P=>{P.stat===up.PROXY?ft(We,`RPC '${t}' stream ${o} detected buffering proxy`):P.stat===up.NOPROXY&&ft(We,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{H.__()}),0),H}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function Km(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gf(r){return new iO(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA{constructor(t,n,s=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ft("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="PersistentStream";class QA{constructor(t,n,s,o,u,h,m,p){this.Mi=t,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new KA(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===tt.RESOURCE_EXHAUSTED?(_r(n.toString()),_r("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{t((()=>{const o=new ct(tt.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(t,n){const s=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ft(zT,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(ft(zT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class tx extends QA{constructor(t,n,s,o,u,h){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=aO(this.serializer,t),s=(function(u){if(!("targetChange"in u))return At.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?At.min():h.readTime?Oi(h.readTime):At.min()})(t);return this.listener.H_(n,s)}Y_(t){const n={};n.database=vp(this.serializer),n.addTarget=(function(u,h){let m;const p=h.target;if(m=mp(p)?{documents:uO(u,p)}:{query:cO(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=kA(u,h.resumeToken);const g=gp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(At.min())>0){m.readTime=Ph(u,h.snapshotVersion.toTimestamp());const g=gp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,t);const s=fO(this.serializer,t);s&&(n.labels=s),this.q_(n)}Z_(t){const n={};n.database=vp(this.serializer),n.removeTarget=t,this.q_(n)}}class ex extends QA{constructor(t,n,s,o,u,h){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Kt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Kt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Kt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=lO(t.writeResults,t.commitTime),s=Oi(t.commitTime);return this.listener.na(s,n)}ra(){const t={};t.database=vp(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((s=>oO(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{}class ix extends nx{constructor(t,n,s,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ct(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,h])=>this.connection.Go(t,yp(n,s),o,u,h))).catch((u=>{throw u.name==="FirebaseError"?(u.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ct(tt.UNKNOWN,u.toString())}))}Ho(t,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Ho(t,yp(n,s),o,h,m,u))).catch((h=>{throw h.name==="FirebaseError"?(h.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ct(tt.UNKNOWN,h.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class rx{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(_r(n),this.aa=!1):ft("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua="RemoteStore";class sx{constructor(t,n,s,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((h=>{s.enqueueAndForget((async()=>{pa(this)&&(ft(ua,"Restarting streams for network reachability change."),await(async function(p){const g=wt(p);g.Ea.add(4),await Tu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await yf(g)})(this))}))})),this.Ra=new rx(s,o)}}async function yf(r){if(pa(r))for(const t of r.da)await t(!0)}async function Tu(r){for(const t of r.da)await t(!1)}function YA(r,t){const n=wt(r);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Sg(n)?Tg(n):Uo(n).O_()&&Eg(n,t))}function vg(r,t){const n=wt(r),s=Uo(n);n.Ia.delete(t),s.O_()&&XA(n,t),n.Ia.size===0&&(s.O_()?s.L_():pa(n)&&n.Ra.set("Unknown"))}function Eg(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Uo(r).Y_(t)}function XA(r,t){r.Va.Ue(t),Uo(r).Z_(t)}function Tg(r){r.Va=new ZD({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),Uo(r).start(),r.Ra.ua()}function Sg(r){return pa(r)&&!Uo(r).x_()&&r.Ia.size>0}function pa(r){return wt(r).Ea.size===0}function JA(r){r.Va=void 0}async function ax(r){r.Ra.set("Online")}async function ox(r){r.Ia.forEach(((t,n)=>{Eg(r,t)}))}async function lx(r,t){JA(r),Sg(r)?(r.Ra.ha(t),Tg(r)):r.Ra.set("Unknown")}async function ux(r,t,n){if(r.Ra.set("Online"),t instanceof LA&&t.state===2&&t.cause)try{await(async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))})(r,t)}catch(s){ft(ua,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await jh(r,s)}else if(t instanceof yh?r.Va.Ze(t):t instanceof VA?r.Va.st(t):r.Va.tt(t),!n.isEqual(At.min()))try{const s=await $A(r.localStore);n.compareTo(s)>=0&&await(function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ia.get(g);E&&u.Ia.set(g,E.withResumeToken(p.resumeToken,h))}})),m.targetMismatches.forEach(((p,g)=>{const E=u.Ia.get(p);if(!E)return;u.Ia.set(p,E.withResumeToken(Xe.EMPTY_BYTE_STRING,E.snapshotVersion)),XA(u,p);const T=new hs(E.target,p,g,E.sequenceNumber);Eg(u,T)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){ft(ua,"Failed to raise snapshot:",s),await jh(r,s)}}async function jh(r,t,n){if(!Vo(t))throw t;r.Ea.add(1),await Tu(r),r.Ra.set("Offline"),n||(n=()=>$A(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ft(ua,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await yf(r)}))}function WA(r,t){return t().catch((n=>jh(r,n,t)))}async function _f(r){const t=wt(r),n=Ss(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:sg;for(;cx(t);)try{const o=await GO(t.localStore,s);if(o===null){t.Ta.length===0&&n.L_();break}s=o.batchId,hx(t,o)}catch(o){await jh(t,o)}ZA(t)&&tb(t)}function cx(r){return pa(r)&&r.Ta.length<10}function hx(r,t){r.Ta.push(t);const n=Ss(r);n.O_()&&n.X_&&n.ea(t.mutations)}function ZA(r){return pa(r)&&!Ss(r).x_()&&r.Ta.length>0}function tb(r){Ss(r).start()}async function fx(r){Ss(r).ra()}async function dx(r){const t=Ss(r);for(const n of r.Ta)t.ea(n.mutations)}async function mx(r,t,n){const s=r.Ta.shift(),o=fg.from(s,t,n);await WA(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await _f(r)}async function px(r,t){t&&Ss(r).X_&&await(async function(s,o){if((function(h){return XD(h)&&h!==tt.ABORTED})(o.code)){const u=s.Ta.shift();Ss(s).B_(),await WA(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await _f(s)}})(r,t),ZA(r)&&tb(r)}async function jT(r,t){const n=wt(r);n.asyncQueue.verifyOperationInProgress(),ft(ua,"RemoteStore received new credentials");const s=pa(n);n.Ea.add(3),await Tu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await yf(n)}async function gx(r,t){const n=wt(r);t?(n.Ea.delete(2),await yf(n)):t||(n.Ea.add(2),await Tu(n),n.Ra.set("Unknown"))}function Uo(r){return r.ma||(r.ma=(function(n,s,o){const u=wt(n);return u.sa(),new tx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:ax.bind(null,r),t_:ox.bind(null,r),r_:lx.bind(null,r),H_:ux.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Sg(r)?Tg(r):r.Ra.set("Unknown")):(await r.ma.stop(),JA(r))}))),r.ma}function Ss(r){return r.fa||(r.fa=(function(n,s,o){const u=wt(n);return u.sa(),new ex(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:fx.bind(null,r),r_:px.bind(null,r),ta:dx.bind(null,r),na:mx.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await _f(r)):(await r.fa.stop(),r.Ta.length>0&&(ft(ua,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(t,n,s,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,s,o,u){const h=Date.now()+s,m=new Ag(t,n,h,o,u);return m.start(s),m}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(tt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bg(r,t){if(_r("AsyncQueue",`${t}: ${r}`),Vo(r))return new ct(tt.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{static emptySet(t){return new fo(t.comparator)}constructor(t){this.comparator=t?(n,s)=>t(n,s)||yt.comparator(n.key,s.key):(n,s)=>yt.comparator(n.key,s.key),this.keyedMap=Kl(),this.sortedSet=new de(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,s)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof fo)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const s=new fo;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(){this.ga=new de(yt.comparator)}track(t){const n=t.doc.key,s=this.ga.get(n);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(n,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(n):t.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):Et(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,s)=>{t.push(s)})),t}}class wo{constructor(t,n,s,o,u,h,m,p,g){this.query=t,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(t,n,s,o,u){const h=[];return n.forEach((m=>{h.push({type:0,doc:m})})),new wo(t,n,fo.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&cf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,s=t.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class _x{constructor(){this.queries=qT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=wt(n),u=o.queries;o.queries=qT(),u.forEach(((h,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new ct(tt.ABORTED,"Firestore shutting down"))}}function qT(){return new ma((r=>TA(r)),cf)}async function vx(r,t){const n=wt(r);let s=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(s=2):(u=new yx,s=t.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=bg(h,`Initialization of query '${oo(t.query)}' failed`);return void t.onError(m)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&wg(n)}async function Ex(r,t){const n=wt(r),s=t.query;let o=3;const u=n.queries.get(s);if(u){const h=u.Sa.indexOf(t);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function Tx(r,t){const n=wt(r);let s=!1;for(const o of t){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(s=!0);h.wa=o}}s&&wg(n)}function Sx(r,t,n){const s=wt(r),o=s.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(t)}function wg(r){r.Ca.forEach((t=>{t.next()}))}var Sp,HT;(HT=Sp||(Sp={})).Ma="default",HT.Cache="cache";class Ax{constructor(t,n,s){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const o of t.docChanges)o.type!==3&&s.push(o);t=new wo(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=wo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Sp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(t){this.key=t}}class nb{constructor(t){this.key=t}}class bx{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=zt(),this.mutatedKeys=zt(),this.eu=SA(t),this.tu=new fo(this.eu)}get nu(){return this.Ya}ru(t,n){const s=n?n.iu:new BT,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((E,T)=>{const w=o.get(E),k=hf(this.query,T)?T:null,H=!!w&&this.mutatedKeys.has(w.key),F=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let P=!1;w&&k?w.data.isEqual(k.data)?H!==F&&(s.track({type:3,doc:k}),P=!0):this.su(w,k)||(s.track({type:2,doc:k}),P=!0,(p&&this.eu(k,p)>0||g&&this.eu(k,g)<0)&&(m=!0)):!w&&k?(s.track({type:0,doc:k}),P=!0):w&&!k&&(s.track({type:1,doc:w}),P=!0,(p||g)&&(m=!0)),P&&(k?(h=h.add(k),u=F?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{tu:h,iu:s,Cs:m,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,s,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const h=t.iu.ya();h.sort(((E,T)=>(function(k,H){const F=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Et(20277,{Rt:P})}};return F(k)-F(H)})(E.type,T.type)||this.eu(E.doc,T.doc))),this.ou(s),o=o??!1;const m=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,h.length!==0||g?{snapshot:new wo(this.query,t.tu,u,h,t.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new BT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=zt(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return t.forEach((s=>{this.Xa.has(s)||n.push(new nb(s))})),this.Xa.forEach((s=>{t.has(s)||n.push(new eb(s))})),n}cu(t){this.Ya=t.Qs,this.Xa=zt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return wo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Rg="SyncEngine";class wx{constructor(t,n,s){this.query=t,this.targetId=n,this.view=s}}class Rx{constructor(t){this.key=t,this.hu=!1}}class Cx{constructor(t,n,s,o,u,h){this.localStore=t,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new ma((m=>TA(m)),cf),this.Iu=new Map,this.Eu=new Set,this.du=new de(yt.comparator),this.Au=new Map,this.Ru=new pg,this.Vu={},this.mu=new Map,this.fu=bo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Ix(r,t,n=!0){const s=lb(r);let o;const u=s.Tu.get(t);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await ib(s,t,n,!0),o}async function Nx(r,t){const n=lb(r);await ib(n,t,!0,!1)}async function ib(r,t,n,s){const o=await $O(r.localStore,Di(t)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await Dx(r,t,u,h==="current",o.resumeToken)),r.isPrimaryClient&&n&&YA(r.remoteStore,o),m}async function Dx(r,t,n,s,o){r.pu=(T,w,k)=>(async function(F,P,W,et){let it=P.view.ru(W);it.Cs&&(it=await LT(F.localStore,P.query,!1).then((({documents:C})=>P.view.ru(C,it))));const ht=et&&et.targetChanges.get(P.targetId),pt=et&&et.targetMismatches.get(P.targetId)!=null,lt=P.view.applyChanges(it,F.isPrimaryClient,ht,pt);return GT(F,P.targetId,lt.au),lt.snapshot})(r,T,w,k);const u=await LT(r.localStore,t,!0),h=new bx(t,u.Qs),m=h.ru(u.documents),p=Eu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=h.applyChanges(m,r.isPrimaryClient,p);GT(r,n,g.au);const E=new wx(t,n,h);return r.Tu.set(t,E),r.Iu.has(n)?r.Iu.get(n).push(t):r.Iu.set(n,[t]),g.snapshot}async function Ox(r,t,n){const s=wt(r),o=s.Tu.get(t),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((h=>!cf(h,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Ep(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&vg(s.remoteStore,o.targetId),Ap(s,o.targetId)})).catch(Mo)):(Ap(s,o.targetId),await Ep(s.localStore,o.targetId,!0))}async function xx(r,t){const n=wt(r),s=n.Tu.get(t),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),vg(n.remoteStore,s.targetId))}async function Mx(r,t,n){const s=jx(r);try{const o=await(function(h,m){const p=wt(h),g=le.now(),E=m.reduce(((k,H)=>k.add(H.key)),zt());let T,w;return p.persistence.runTransaction("Locally write mutations","readwrite",(k=>{let H=vr(),F=zt();return p.Ns.getEntries(k,E).next((P=>{H=P,H.forEach(((W,et)=>{et.isValidDocument()||(F=F.add(W))}))})).next((()=>p.localDocuments.getOverlayedDocuments(k,H))).next((P=>{T=P;const W=[];for(const et of m){const it=GD(et,T.get(et.key).overlayedDocument);it!=null&&W.push(new ko(et.key,it,fA(it.value.mapValue),mr.exists(!0)))}return p.mutationQueue.addMutationBatch(k,g,W,m)})).next((P=>{w=P;const W=P.applyToLocalDocumentSet(T,F);return p.documentOverlayCache.saveOverlays(k,P.batchId,W)}))})).then((()=>({batchId:w.batchId,changes:bA(T)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(o.batchId),(function(h,m,p){let g=h.Vu[h.currentUser.toKey()];g||(g=new de(Pt)),g=g.insert(m,p),h.Vu[h.currentUser.toKey()]=g})(s,o.batchId,n),await Su(s,o.changes),await _f(s.remoteStore)}catch(o){const u=bg(o,"Failed to persist write");n.reject(u)}}async function rb(r,t){const n=wt(r);try{const s=await HO(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const h=n.Au.get(u);h&&(Kt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Kt(h.hu,14607):o.removedDocuments.size>0&&(Kt(h.hu,42227),h.hu=!1))})),await Su(n,s,t)}catch(s){await Mo(s)}}function FT(r,t,n){const s=wt(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,h)=>{const m=h.view.va(t);m.snapshot&&o.push(m.snapshot)})),(function(h,m){const p=wt(h);p.onlineState=m;let g=!1;p.queries.forEach(((E,T)=>{for(const w of T.Sa)w.va(m)&&(g=!0)})),g&&wg(p)})(s.eventManager,t),o.length&&s.Pu.H_(o),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function Vx(r,t,n){const s=wt(r);s.sharedClientState.updateQueryState(t,"rejected",n);const o=s.Au.get(t),u=o&&o.key;if(u){let h=new de(yt.comparator);h=h.insert(u,tn.newNoDocument(u,At.min()));const m=zt().add(u),p=new pf(At.min(),new Map,new de(Pt),h,m);await rb(s,p),s.du=s.du.remove(u),s.Au.delete(t),Cg(s)}else await Ep(s.localStore,t,!1).then((()=>Ap(s,t,n))).catch(Mo)}async function Lx(r,t){const n=wt(r),s=t.batch.batchId;try{const o=await qO(n.localStore,t);ab(n,s,null),sb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Su(n,o)}catch(o){await Mo(o)}}async function kx(r,t,n){const s=wt(r);try{const o=await(function(h,m){const p=wt(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next((T=>(Kt(T!==null,37113),E=T.keys(),p.mutationQueue.removeMutationBatch(g,T)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E))).next((()=>p.localDocuments.getDocuments(g,E)))}))})(s.localStore,t);ab(s,t,n),sb(s,t),s.sharedClientState.updateMutationState(t,"rejected",n),await Su(s,o)}catch(o){await Mo(o)}}function sb(r,t){(r.mu.get(t)||[]).forEach((n=>{n.resolve()})),r.mu.delete(t)}function ab(r,t,n){const s=wt(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),s.Vu[s.currentUser.toKey()]=o}}function Ap(r,t,n=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((s=>{r.Ru.containsKey(s)||ob(r,s)}))}function ob(r,t){r.Eu.delete(t.path.canonicalString());const n=r.du.get(t);n!==null&&(vg(r.remoteStore,n),r.du=r.du.remove(t),r.Au.delete(n),Cg(r))}function GT(r,t,n){for(const s of n)s instanceof eb?(r.Ru.addReference(s.key,t),Ux(r,s)):s instanceof nb?(ft(Rg,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||ob(r,s.key)):Et(19791,{wu:s})}function Ux(r,t){const n=t.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ft(Rg,"New document in limbo: "+n),r.Eu.add(s),Cg(r))}function Cg(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const n=new yt(se.fromString(t)),s=r.fu.next();r.Au.set(s,new Rx(n)),r.du=r.du.insert(n,s),YA(r.remoteStore,new hs(Di(vA(n.path)),s,"TargetPurposeLimboResolution",of.ce))}}async function Su(r,t,n){const s=wt(r),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{h.push(s.pu(p,t,n).then((g=>{if((g||n)&&s.isPrimaryClient){const E=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,E?"current":"not-current")}if(g){o.push(g);const E=yg.As(p.targetId,g);u.push(E)}})))})),await Promise.all(h),s.Pu.H_(o),await(async function(p,g){const E=wt(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>nt.forEach(g,(w=>nt.forEach(w.Es,(k=>E.persistence.referenceDelegate.addReference(T,w.targetId,k))).next((()=>nt.forEach(w.ds,(k=>E.persistence.referenceDelegate.removeReference(T,w.targetId,k)))))))))}catch(T){if(!Vo(T))throw T;ft(_g,"Failed to update sequence numbers: "+T)}for(const T of g){const w=T.targetId;if(!T.fromCache){const k=E.Ms.get(w),H=k.snapshotVersion,F=k.withLastLimboFreeSnapshotVersion(H);E.Ms=E.Ms.insert(w,F)}}})(s.localStore,u))}async function Px(r,t){const n=wt(r);if(!n.currentUser.isEqual(t)){ft(Rg,"User change. New user:",t.toKey());const s=await GA(n.localStore,t);n.currentUser=t,(function(u,h){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new ct(tt.CANCELLED,h))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Su(n,s.Ls)}}function zx(r,t){const n=wt(r),s=n.Au.get(t);if(s&&s.hu)return zt().add(s.key);{let o=zt();const u=n.Iu.get(t);if(!u)return o;for(const h of u){const m=n.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function lb(r){const t=wt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=rb.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=zx.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Vx.bind(null,t),t.Pu.H_=Tx.bind(null,t.eventManager),t.Pu.yu=Sx.bind(null,t.eventManager),t}function jx(r){const t=wt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Lx.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=kx.bind(null,t),t}class Bh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=gf(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return BO(this.persistence,new PO,t.initialUser,this.serializer)}Cu(t){return new FA(gg.mi,this.serializer)}Du(t){return new QO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bh.provider={build:()=>new Bh};class Bx extends Bh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Kt(this.persistence.referenceDelegate instanceof zh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new AO(s,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new FA((s=>zh.mi(s,n)),this.serializer)}}class bp{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>FT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Px.bind(null,this.syncEngine),await gx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new _x})()}createDatastore(t){const n=gf(t.databaseInfo.databaseId),s=(function(u){return new ZO(u)})(t.databaseInfo);return(function(u,h,m,p){return new ix(u,h,m,p)})(t.authCredentials,t.appCheckCredentials,s,n)}createRemoteStore(t){return(function(s,o,u,h,m){return new sx(s,o,u,h,m)})(this.localStore,this.datastore,t.asyncQueue,(n=>FT(this.syncEngine,n,0)),(function(){return PT.v()?new PT:new YO})())}createSyncEngine(t,n){return(function(o,u,h,m,p,g,E){const T=new Cx(o,u,h,m,p,g);return E&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=wt(n);ft(ua,"RemoteStore shutting down."),s.Ea.add(5),await Tu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}bp.provider={build:()=>new bp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):_r("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As="FirestoreClient";class Hx{constructor(t,n,s,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Ze.UNAUTHENTICATED,this.clientId=rg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async h=>{ft(As,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(ft(As,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const s=bg(n,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Qm(r,t){r.asyncQueue.verifyOperationInProgress(),ft(As,"Initializing OfflineComponentProvider");const n=r.configuration;await t.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await GA(t.localStore,o),s=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function $T(r,t){r.asyncQueue.verifyOperationInProgress();const n=await Fx(r);ft(As,"Initializing OnlineComponentProvider"),await t.initialize(n,r.configuration),r.setCredentialChangeListener((s=>jT(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>jT(t.remoteStore,o))),r._onlineComponents=t}async function Fx(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ft(As,"Using user provided OfflineComponentProvider");try{await Qm(r,r._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===tt.FAILED_PRECONDITION||o.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;Eo("Error using user provided cache. Falling back to memory cache: "+n),await Qm(r,new Bh)}}else ft(As,"Using default OfflineComponentProvider"),await Qm(r,new Bx(void 0));return r._offlineComponents}async function ub(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ft(As,"Using user provided OnlineComponentProvider"),await $T(r,r._uninitializedComponentsProvider._online)):(ft(As,"Using default OnlineComponentProvider"),await $T(r,new bp))),r._onlineComponents}function Gx(r){return ub(r).then((t=>t.syncEngine))}async function $x(r){const t=await ub(r),n=t.eventManager;return n.onListen=Ix.bind(null,t.syncEngine),n.onUnlisten=Ox.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Nx.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=xx.bind(null,t.syncEngine),n}function Kx(r,t,n={}){const s=new gs;return r.asyncQueue.enqueueAndForget((async()=>(function(u,h,m,p,g){const E=new qx({next:w=>{E.Nu(),h.enqueueAndForget((()=>Ex(u,T))),w.fromCache&&p.source==="server"?g.reject(new ct(tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new Ax(m,E,{includeMetadataChanges:!0,qa:!0});return vx(u,T)})(await $x(r),r.asyncQueue,t,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb="firestore.googleapis.com",QT=!0;class YT{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=hb,this.ssl=QT}else this.host=t.host,this.ssl=t.ssl??QT;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=HA;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<TO)throw new ct(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}rD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=cb(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ct(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class vf{constructor(t,n,s,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new YT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new YT(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new QN;switch(s.type){case"firstParty":return new WN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ct(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=KT.get(n);s&&(ft("ComponentProvider","Removing Datastore"),KT.delete(n),s.terminate())})(this),Promise.resolve()}}function Qx(r,t,n,s={}){r=Dh(r,vf);const o=Do(t),u=r._getSettings(),h={...u,emulatorOptions:r._getEmulatorOptions()},m=`${t}:${n}`;o&&(zS(`https://${m}`),jS("Firestore",!0)),u.host!==hb&&u.host!==m&&Eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!aa(p,h)&&(r._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=Ze.MOCK_USER;else{g=T2(s.mockUserToken,r._app?.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new ct(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Ze(T)}r._authCredentials=new YN(new tA(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(t,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new bs(this.firestore,t,this._query)}}class Be{constructor(t,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ys(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Be(this.firestore,t,this._key)}toJSON(){return{type:Be._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,s){if(vu(n,Be._jsonSchema))return new Be(t,s||null,new yt(se.fromString(n.referencePath)))}}Be._jsonSchemaVersion="firestore/documentReference/1.0",Be._jsonSchema={type:Me("string",Be._jsonSchemaVersion),referencePath:Me("string")};class ys extends bs{constructor(t,n,s){super(t,n,vA(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Be(this.firestore,null,new yt(t))}withConverter(t){return new ys(this.firestore,t,this._path)}}function fb(r,t,...n){if(r=ii(r),eA("collection","path",t),r instanceof vf){const s=se.fromString(t,...n);return lT(s),new ys(r,null,s)}{if(!(r instanceof Be||r instanceof ys))throw new ct(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(se.fromString(t,...n));return lT(s),new ys(r.firestore,null,s)}}function Yx(r,t,...n){if(r=ii(r),arguments.length===1&&(t=rg.newId()),eA("doc","path",t),r instanceof vf){const s=se.fromString(t,...n);return oT(s),new Be(r,null,new yt(s))}{if(!(r instanceof Be||r instanceof ys))throw new ct(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(se.fromString(t,...n));return oT(s),new Be(r.firestore,r instanceof ys?r.converter:null,new yt(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="AsyncQueue";class JT{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new KA(this,"async_queue_retry"),this._c=()=>{const s=Km();s&&ft(XT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const n=Km();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Km();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new gs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Vo(t))throw t;ft(XT,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,_r("INTERNAL UNHANDLED ERROR: ",WT(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(t,n,s){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=Ag.createAndSchedule(this,t,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&Et(47125,{Pc:WT(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function WT(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}class Ig extends vf{constructor(t,n,s,o){super(t,n,s,o),this.type="firestore",this._queue=new JT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new JT(t),this._firestoreClient=void 0,await t}}}function Xx(r,t){const n=typeof r=="object"?r:FS(),s=typeof r=="string"?r:xh,o=ng(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=v2("firestore");u&&Qx(o,...u)}return o}function db(r){if(r._terminated)throw new ct(tt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Jx(r),r._firestoreClient}function Jx(r){const t=r._freezeSettings(),n=(function(o,u,h,m){return new gD(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,cb(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new Hx(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new zn(Xe.fromBase64String(t))}catch(n){throw new ct(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new zn(Xe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(vu(t,zn._jsonSchema))return zn.fromBase64String(t.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:Me("string",zn._jsonSchemaVersion),bytes:Me("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new ct(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ye(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new ct(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ct(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Pt(this._lat,t._lat)||Pt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xi._jsonSchemaVersion}}static fromJSON(t){if(vu(t,xi._jsonSchema))return new xi(t.latitude,t.longitude)}}xi._jsonSchemaVersion="firestore/geoPoint/1.0",xi._jsonSchema={type:Me("string",xi._jsonSchemaVersion),latitude:Me("number"),longitude:Me("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(vu(t,Mi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Mi(t.vectorValues);throw new ct(tt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mi._jsonSchemaVersion="firestore/vectorValue/1.0",Mi._jsonSchema={type:Me("string",Mi._jsonSchemaVersion),vectorValues:Me("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx=/^__.*__$/;function gb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Et(40011,{Ac:r})}}class Ng{constructor(t,n,s,o,u,h){this.settings=t,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Ng({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.gc(t),s}yc(t){const n=this.path?.child(t),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return wp(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(gb(this.Ac)&&Wx.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class Zx{constructor(t,n,s){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=s||gf(t)}Cc(t,n,s,o=!1){return new Ng({Ac:t,methodName:n,Dc:s,path:Ye.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tM(r){const t=r._freezeSettings(),n=gf(r._databaseId);return new Zx(r._databaseId,!!t.ignoreUndefinedProperties,n)}function eM(r,t,n,s=!1){return Dg(n,r.Cc(s?4:3,t))}function Dg(r,t){if(yb(r=ii(r)))return iM("Unsupported field value:",t,r),nM(r,t);if(r instanceof pb)return(function(s,o){if(!gb(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let h=0;for(const m of s){let p=Dg(m,o.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}})(r,t)}return(function(s,o){if((s=ii(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return zD(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=le.fromDate(s);return{timestampValue:Ph(o.serializer,u)}}if(s instanceof le){const u=new le(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ph(o.serializer,u)}}if(s instanceof xi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof zn)return{bytesValue:kA(o.serializer,s._byteString)};if(s instanceof Be){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:mg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Mi)return(function(h,m){return{mapValue:{fields:{[cA]:{stringValue:hA},[Mh]:{arrayValue:{values:h.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return cg(m.serializer,g)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${af(s)}`)})(r,t)}function nM(r,t){const n={};return rA(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):da(r,((s,o)=>{const u=Dg(o,t.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function yb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof le||r instanceof xi||r instanceof zn||r instanceof Be||r instanceof pb||r instanceof Mi)}function iM(r,t,n){if(!yb(n)||!nA(n)){const s=af(n);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}const rM=new RegExp("[~\\*/\\[\\]]");function sM(r,t,n){if(t.search(rM)>=0)throw wp(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new mb(...t.split("."))._internalPath}catch{throw wp(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function wp(r,t,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${t}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new ct(tt.INVALID_ARGUMENT,m+r+p)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{constructor(t,n,s,o,u){this._firestore=t,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Be(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new aM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(Ef("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class aM extends _b{data(){return super.data()}}function Ef(r,t){return typeof t=="string"?sM(r,t):t instanceof mb?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oM(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ct(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Og{}class xg extends Og{}function vb(r,t,...n){let s=[];t instanceof Og&&s.push(t),s=s.concat(n),(function(u){const h=u.filter((p=>p instanceof Mg)).length,m=u.filter((p=>p instanceof Tf)).length;if(h>1||h>0&&m>0)throw new ct(tt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Tf extends xg{constructor(t,n,s){super(),this._field=t,this._op=n,this._value=s,this.type="where"}static _create(t,n,s){return new Tf(t,n,s)}_apply(t){const n=this._parse(t);return Tb(t._query,n),new bs(t.firestore,t.converter,pp(t._query,n))}_parse(t){const n=tM(t.firestore);return(function(u,h,m,p,g,E,T){let w;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ct(tt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){t0(T,E);const H=[];for(const F of T)H.push(ZT(p,u,F));w={arrayValue:{values:H}}}else w=ZT(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||t0(T,E),w=eM(m,h,T,E==="in"||E==="not-in");return xe.create(g,E,w)})(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}}function lM(r,t,n){const s=t,o=Ef("where",r);return Tf._create(o,s,n)}class Mg extends Og{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new Mg(t,n)}_parse(t){const n=this._queryConstraints.map((s=>s._parse(t))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ri.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:((function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)Tb(h,p),h=pp(h,p)})(t._query,n),new bs(t.firestore,t.converter,pp(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Vg extends xg{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new Vg(t,n)}_apply(t){const n=(function(o,u,h){if(o.startAt!==null)throw new ct(tt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ct(tt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new lu(u,h)})(t._query,this._field,this._direction);return new bs(t.firestore,t.converter,(function(o,u){const h=o.explicitOrderBy.concat([u]);return new Lo(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(t._query,n))}}function Eb(r,t="asc"){const n=t,s=Ef("orderBy",r);return Vg._create(s,n)}class Lg extends xg{constructor(t,n,s){super(),this.type=t,this._limit=n,this._limitType=s}static _create(t,n,s){return new Lg(t,n,s)}_apply(t){return new bs(t.firestore,t.converter,Lh(t._query,this._limit,this._limitType))}}function uM(r){return sD("limit",r),Lg._create("limit",r,"F")}function ZT(r,t,n){if(typeof(n=ii(n))=="string"){if(n==="")throw new ct(tt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!EA(t)&&n.indexOf("/")!==-1)throw new ct(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=t.path.child(se.fromString(n));if(!yt.isDocumentKey(s))throw new ct(tt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return gT(r,new yt(s))}if(n instanceof Be)return gT(r,n._key);throw new ct(tt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${af(n)}.`)}function t0(r,t){if(!Array.isArray(r)||r.length===0)throw new ct(tt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Tb(r,t){const n=(function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(n!==null)throw n===t.op?new ct(tt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ct(tt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class cM{convertValue(t,n="none"){switch(Ts(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Te(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(Es(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw Et(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const s={};return da(t,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(t){const n=t.fields?.[Mh].arrayValue?.values?.map((s=>Te(s.doubleValue)));return new Mi(n)}convertGeoPoint(t){return new xi(Te(t.latitude),Te(t.longitude))}convertArray(t,n){return(t.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const s=uf(t);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(su(t));default:return null}}convertTimestamp(t){const n=vs(t);return new le(n.seconds,n.nanos)}convertDocumentKey(t,n){const s=se.fromString(t);Kt(qA(s),9688,{name:t});const o=new au(s.get(1),s.get(3)),u=new yt(s.popFirst(5));return o.isEqual(n)||_r(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}class uh{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class mo extends _b{constructor(t,n,s,o,u,h){super(t,n,s,o,h),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new _h(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const s=this._document.data.field(Ef("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(tt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=mo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}mo._jsonSchemaVersion="firestore/documentSnapshot/1.0",mo._jsonSchema={type:Me("string",mo._jsonSchemaVersion),bundleSource:Me("string","DocumentSnapshot"),bundleName:Me("string"),bundle:Me("string")};class _h extends mo{data(t={}){return super.data(t)}}class po{constructor(t,n,s,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new uh(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((s=>{t.call(n,new _h(this._firestore,this._userDataWriter,s.key,s,new uh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ct(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((m=>{const p=new _h(o._firestore,o._userDataWriter,m.doc.key,m.doc,new uh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new _h(o._firestore,o._userDataWriter,m.doc.key,m.doc,new uh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:hM(m.type),doc:p,oldIndex:g,newIndex:E}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(tt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=po._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=rg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function hM(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Et(61501,{type:r})}}po._jsonSchemaVersion="firestore/querySnapshot/1.0",po._jsonSchema={type:Me("string",po._jsonSchemaVersion),bundleSource:Me("string","QuerySnapshot"),bundleName:Me("string"),bundle:Me("string")};class fM extends cM{constructor(t){super(),this.firestore=t}convertBytes(t){return new zn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new Be(this.firestore,null,n)}}function Sb(r){r=Dh(r,bs);const t=Dh(r.firestore,Ig),n=db(t),s=new fM(t);return oM(r._query),Kx(n,r._query).then((o=>new po(t,s,r,o)))}function dM(r){return mM(Dh(r.firestore,Ig),[new hg(r._key,mr.none())])}function mM(r,t){return(function(s,o){const u=new gs;return s.asyncQueue.enqueueAndForget((async()=>Mx(await Gx(s),o,u))),u.promise})(db(r),t)}(function(t,n=!0){(function(o){xo=o})(Oo),vo(new oa("firestore",((s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Ig(new XN(s.getProvider("auth-internal")),new ZN(h,s.getProvider("app-check-internal")),(function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ct(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new au(g.options.projectId,E)})(h,o),h);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),ms(iT,rT,t),ms(iT,rT,"esm2020")})();var pM="firebase",gM="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ms(pM,gM,"app");function Ab(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yM=Ab,bb=new yu("auth","Firebase",Ab());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qh=new tg("@firebase/auth");function _M(r,...t){qh.logLevel<=Ut.WARN&&qh.warn(`Auth (${Oo}): ${r}`,...t)}function vh(r,...t){qh.logLevel<=Ut.ERROR&&qh.error(`Auth (${Oo}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(r,...t){throw kg(r,...t)}function Vi(r,...t){return kg(r,...t)}function wb(r,t,n){const s={...yM(),[t]:n};return new yu("auth","Firebase",s).create(t,{appName:r.name})}function sa(r){return wb(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kg(r,...t){if(typeof r!="string"){const n=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return bb.create(r,...t)}function Tt(r,t,...n){if(!r)throw kg(t,...n)}function ur(r){const t="INTERNAL ASSERTION FAILED: "+r;throw vh(t),new Error(t)}function Tr(r,t){r||ur(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(){return typeof self<"u"&&self.location?.href||""}function vM(){return e0()==="http:"||e0()==="https:"}function e0(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vM()||C2()||"connection"in navigator)?navigator.onLine:!0}function TM(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(t,n){this.shortDelay=t,this.longDelay=n,Tr(n>t,"Short delay should be less than long delay!"),this.isMobile=b2()||I2()}get(){return EM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(r,t){Tr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{static initialize(t,n,s){this.fetchImpl=t,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bM=new Au(3e4,6e4);function Pg(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function Po(r,t,n,s,o={}){return Cb(r,o,async()=>{let u={},h={};s&&(t==="GET"?h=s:u={body:JSON.stringify(s)});const m=_u({key:r.config.apiKey,...h}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:t,headers:p,...u};return R2()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Do(r.emulatorConfig.host)&&(g.credentials="include"),Rb.fetch()(await Ib(r,r.config.apiHost,n,m),g)})}async function Cb(r,t,n){r._canInitEmulator=!1;const s={...SM,...t};try{const o=new RM(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw ch(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ch(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw ch(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw ch(r,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw wb(r,E,g);Er(r,E)}}catch(o){if(o instanceof br)throw o;Er(r,"network-request-failed",{message:String(o)})}}async function wM(r,t,n,s,o={}){const u=await Po(r,t,n,s,o);return"mfaPendingCredential"in u&&Er(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function Ib(r,t,n,s){const o=`${t}${n}?${s}`,u=r,h=u.config.emulator?Ug(r.config,o):`${r.config.apiScheme}://${o}`;return AM.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}class RM{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Vi(this.auth,"network-request-failed")),bM.get())})}}function ch(r,t,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Vi(r,t,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CM(r,t){return Po(r,"POST","/v1/accounts:delete",t)}async function Hh(r,t){return Po(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function IM(r,t=!1){const n=ii(r),s=await n.getIdToken(t),o=zg(s);Tt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:tu(Ym(o.auth_time)),issuedAtTime:tu(Ym(o.iat)),expirationTime:tu(Ym(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Ym(r){return Number(r)*1e3}function zg(r){const[t,n,s]=r.split(".");if(t===void 0||n===void 0||s===void 0)return vh("JWT malformed, contained fewer than 3 sections"),null;try{const o=LS(n);return o?JSON.parse(o):(vh("Failed to decode base64 JWT payload"),null)}catch(o){return vh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function n0(r){const t=zg(r);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hu(r,t,n=!1){if(n)return t;try{return await t}catch(s){throw s instanceof br&&NM(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function NM({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=tu(this.lastLoginAt),this.creationTime=tu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fh(r){const t=r.auth,n=await r.getIdToken(),s=await hu(r,Hh(t,{idToken:n}));Tt(s?.users.length,t,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?Nb(o.providerUserInfo):[],h=xM(r.providerData,u),m=r.isAnonymous,p=!(r.email&&o.passwordHash)&&!h?.length,g=m?p:!1,E={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new Cp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(r,E)}async function OM(r){const t=ii(r);await Fh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function xM(r,t){return[...r.filter(s=>!t.some(o=>o.providerId===s.providerId)),...t]}function Nb(r){return r.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MM(r,t){const n=await Cb(r,{},async()=>{const s=_u({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=await Ib(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&Do(r.emulatorConfig.host)&&(p.credentials="include"),Rb.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function VM(r,t){return Po(r,"POST","/v2/accounts:revokeToken",Pg(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):n0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const n=n0(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await MM(t,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(t,n,s){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new go;return s&&(Tt(typeof s=="string","internal-error",{appName:t}),h.refreshToken=s),o&&(Tt(typeof o=="string","internal-error",{appName:t}),h.accessToken=o),u&&(Tt(typeof u=="number","internal-error",{appName:t}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new go,this.toJSON())}_performRefresh(){return ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(r,t){Tt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class ei{constructor({uid:t,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new DM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Cp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await hu(this,this.stsTokenManager.getToken(this.auth,t));return Tt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return IM(this,t)}reload(){return OM(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new ei({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),n&&await Fh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ni(this.auth.app))return Promise.reject(sa(this.auth));const t=await this.getIdToken();return await hu(this,CM(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,h=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,E=n.lastLoginAt??void 0,{uid:T,emailVerified:w,isAnonymous:k,providerData:H,stsTokenManager:F}=n;Tt(T&&F,t,"internal-error");const P=go.fromJSON(this.name,F);Tt(typeof T=="string",t,"internal-error"),ss(s,t.name),ss(o,t.name),Tt(typeof w=="boolean",t,"internal-error"),Tt(typeof k=="boolean",t,"internal-error"),ss(u,t.name),ss(h,t.name),ss(m,t.name),ss(p,t.name),ss(g,t.name),ss(E,t.name);const W=new ei({uid:T,auth:t,email:o,emailVerified:w,displayName:s,isAnonymous:k,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:P,createdAt:g,lastLoginAt:E});return H&&Array.isArray(H)&&(W.providerData=H.map(et=>({...et}))),p&&(W._redirectEventId=p),W}static async _fromIdTokenResponse(t,n,s=!1){const o=new go;o.updateFromServerResponse(n);const u=new ei({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:s});return await Fh(u),u}static async _fromGetAccountInfoResponse(t,n,s){const o=n.users[0];Tt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Nb(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new go;m.updateFromIdToken(s);const p=new ei({uid:o.localId,auth:t,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Cp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0=new Map;function cr(r){Tr(r instanceof Function,"Expected a class definition");let t=i0.get(r);return t?(Tr(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,i0.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}Db.type="NONE";const r0=Db;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(r,t,n){return`firebase:${r}:${t}:${n}`}class yo{constructor(t,n,s){this.persistence=t,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Eh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Eh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Hh(this.auth,{idToken:t}).catch(()=>{});return n?ei._fromGetAccountInfoResponse(this.auth,n,t):null}return ei._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,s="authUser"){if(!n.length)return new yo(cr(r0),t,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||cr(r0);const h=Eh(s,t.config.apiKey,t.name);let m=null;for(const g of n)try{const E=await g._get(h);if(E){let T;if(typeof E=="string"){const w=await Hh(t,{idToken:E}).catch(()=>{});if(!w)break;T=await ei._fromGetAccountInfoResponse(t,w,E)}else T=ei._fromJSON(t,E);g!==u&&(m=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new yo(u,t,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new yo(u,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Vb(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ob(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(kb(t))return"Blackberry";if(Ub(t))return"Webos";if(xb(t))return"Safari";if((t.includes("chrome/")||Mb(t))&&!t.includes("edge/"))return"Chrome";if(Lb(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function Ob(r=en()){return/firefox\//i.test(r)}function xb(r=en()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Mb(r=en()){return/crios\//i.test(r)}function Vb(r=en()){return/iemobile/i.test(r)}function Lb(r=en()){return/android/i.test(r)}function kb(r=en()){return/blackberry/i.test(r)}function Ub(r=en()){return/webos/i.test(r)}function jg(r=en()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function LM(r=en()){return jg(r)&&!!window.navigator?.standalone}function kM(){return N2()&&document.documentMode===10}function Pb(r=en()){return jg(r)||Lb(r)||Ub(r)||kb(r)||/windows phone/i.test(r)||Vb(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(r,t=[]){let n;switch(r){case"Browser":n=s0(en());break;case"Worker":n=`${s0(en())}-${r}`;break;default:n=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${Oo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UM{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const s=u=>new Promise((h,m)=>{try{const p=t(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const s of this.queue)await s(t),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PM(r,t={}){return Po(r,"GET","/v2/passwordPolicy",Pg(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM=6;class jM{constructor(t){const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??zM,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=t.length>=s),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<t.length;o++)s=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(t,n,s,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new a0(this),this.idTokenSubscription=new a0(this),this.beforeStateQueue=new UM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=cr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await yo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Hh(this,{idToken:t}),s=await ei._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Ni(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(t);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Fh(t)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=TM()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ni(this.app))return Promise.reject(sa(this));const n=t?ii(t):null;return n&&Tt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ni(this.app)?Promise.reject(sa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ni(this.app)?Promise.reject(sa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await PM(this),n=new jM(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new yu("auth","Firebase",t())}onAuthStateChanged(t,n,s){return this.registerStateListener(this.authStateSubscription,t,n,s)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,s){return this.registerStateListener(this.idTokenSubscription,t,n,s)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await VM(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,n){const s=await this.getOrInitRedirectPersistenceManager(n);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&cr(t)||this._popupRedirectResolver;Tt(n,this,"argument-error"),this.redirectPersistenceManager=await yo.create(this,[cr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=t.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=zb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(t["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(Ni(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&_M(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Bg(r){return ii(r)}class a0{constructor(t){this.auth=t,this.observer=null,this.addObserver=U2(n=>this.observer=n)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qM(r){qg=r}function HM(r){return qg.loadJS(r)}function FM(){return qg.gapiScript}function GM(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $M(r,t){const n=ng(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(aa(u,t??{}))return o;Er(o,"already-initialized")}return n.initialize({options:t})}function KM(r,t){const n=t?.persistence||[],s=(Array.isArray(n)?n:[n]).map(cr);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function QM(r,t,n){const s=Bg(r);Tt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const o=!1,u=jb(t),{host:h,port:m}=YM(t),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},E=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Tt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Tt(aa(g,s.config.emulator)&&aa(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,Do(h)?(zS(`${u}//${h}${p}`),jS("Auth",!0)):XM()}function jb(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function YM(r){const t=jb(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:o0(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:o0(h)}}}function o0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function XM(){function r(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ur("not implemented")}_getIdTokenResponse(t){return ur("not implemented")}_linkToIdToken(t,n){return ur("not implemented")}_getReauthenticationResolver(t){return ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _o(r,t){return wM(r,"POST","/v1/accounts:signInWithIdp",Pg(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JM="http://localhost";class ca extends Bb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ca(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):Er("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const h=new ca(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(t){const n=this.buildRequest();return _o(t,n)}_linkToIdToken(t,n){const s=this.buildRequest();return s.idToken=n,_o(t,s)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,_o(t,n)}buildRequest(){const t={requestUri:JM,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=_u(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends qb{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends bu{constructor(){super("facebook.com")}static credential(t){return ca._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return os.credentialFromTaggedObject(t)}static credentialFromError(t){return os.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return os.credential(t.oauthAccessToken)}catch{return null}}}os.FACEBOOK_SIGN_IN_METHOD="facebook.com";os.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends bu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ca._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return ls.credentialFromTaggedObject(t)}static credentialFromError(t){return ls.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:s}=t;if(!n&&!s)return null;try{return ls.credential(n,s)}catch{return null}}}ls.GOOGLE_SIGN_IN_METHOD="google.com";ls.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends bu{constructor(){super("github.com")}static credential(t){return ca._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return us.credentialFromTaggedObject(t)}static credentialFromError(t){return us.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return us.credential(t.oauthAccessToken)}catch{return null}}}us.GITHUB_SIGN_IN_METHOD="github.com";us.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends bu{constructor(){super("twitter.com")}static credential(t,n){return ca._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return cs.credentialFromTaggedObject(t)}static credentialFromError(t){return cs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=t;if(!n||!s)return null;try{return cs.credential(n,s)}catch{return null}}}cs.TWITTER_SIGN_IN_METHOD="twitter.com";cs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,s,o=!1){const u=await ei._fromIdTokenResponse(t,s,o),h=l0(s);return new Ro({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(t,n,s){await t._updateTokensIfNecessary(s,!0);const o=l0(s);return new Ro({user:t,providerId:o,_tokenResponse:s,operationType:n})}}function l0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh extends br{constructor(t,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Gh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,n,s,o){return new Gh(t,n,s,o)}}function Hb(r,t,n,s){return(t==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Gh._fromErrorAndOperation(r,u,t,s):u})}async function WM(r,t,n=!1){const s=await hu(r,t._linkToIdToken(r.auth,await r.getIdToken()),n);return Ro._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZM(r,t,n=!1){const{auth:s}=r;if(Ni(s.app))return Promise.reject(sa(s));const o="reauthenticate";try{const u=await hu(r,Hb(s,o,t,r),n);Tt(u.idToken,s,"internal-error");const h=zg(u.idToken);Tt(h,s,"internal-error");const{sub:m}=h;return Tt(r.uid===m,s,"user-mismatch"),Ro._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Er(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tV(r,t,n=!1){if(Ni(r.app))return Promise.reject(sa(r));const s="signIn",o=await Hb(r,s,t),u=await Ro._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function eV(r,t,n,s){return ii(r).onIdTokenChanged(t,n,s)}function nV(r,t,n){return ii(r).beforeAuthStateChanged(t,n)}const $h="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem($h,"1"),this.storage.removeItem($h),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV=1e3,rV=10;class Gb extends Fb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Pb(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&t(n,o,s)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);kM()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,rV):o()}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:s}),!0)})},iV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}Gb.type="LOCAL";const sV=Gb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b extends Fb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}$b.type="SESSION";const Kb=$b;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aV(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const s=new Sf(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await aV(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Sf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(r="",t=10){let n="";for(let s=0;s<t;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=Hg("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const w=T;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:t,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Li(){return window}function lV(r){Li().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(){return typeof Li().WorkerGlobalScope<"u"&&typeof Li().importScripts=="function"}async function uV(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cV(){return navigator?.serviceWorker?.controller||null}function hV(){return Qb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb="firebaseLocalStorageDb",fV=1,Kh="firebaseLocalStorage",Xb="fbase_key";class wu{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Af(r,t){return r.transaction([Kh],t?"readwrite":"readonly").objectStore(Kh)}function dV(){const r=indexedDB.deleteDatabase(Yb);return new wu(r).toPromise()}function Ip(){const r=indexedDB.open(Yb,fV);return new Promise((t,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Kh,{keyPath:Xb})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Kh)?t(s):(s.close(),await dV(),t(await Ip()))})})}async function u0(r,t,n){const s=Af(r,!0).put({[Xb]:t,value:n});return new wu(s).toPromise()}async function mV(r,t){const n=Af(r,!1).get(t),s=await new wu(n).toPromise();return s===void 0?null:s.value}function c0(r,t){const n=Af(r,!0).delete(t);return new wu(n).toPromise()}const pV=800,gV=3;class Jb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ip(),this.db)}async _withRetries(t){let n=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(n++>gV)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Qb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Sf._getInstance(hV()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await uV(),!this.activeServiceWorker)return;this.sender=new oV(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||cV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Ip();return await u0(t,$h,"1"),await c0(t,$h),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>u0(s,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(s=>mV(s,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>c0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=Af(o,!1).getAll();return new wu(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const s=this.listeners[t];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Jb.type="LOCAL";const yV=Jb;new Au(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _V(r,t){return t?cr(t):(Tt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg extends Bb{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return _o(t,this._buildIdpRequest())}_linkToIdToken(t,n){return _o(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return _o(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function vV(r){return tV(r.auth,new Fg(r),r.bypassAuthState)}function EV(r){const{auth:t,user:n}=r;return Tt(n,t,"internal-error"),ZM(n,new Fg(r),r.bypassAuthState)}async function TV(r){const{auth:t,user:n}=r;return Tt(n,t,"internal-error"),WM(n,new Fg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(t,n,s,o,u=!1){this.auth=t,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=t;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return vV;case"linkViaPopup":case"linkViaRedirect":return TV;case"reauthViaPopup":case"reauthViaRedirect":return EV;default:Er(this.auth,"internal-error")}}resolve(t){Tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SV=new Au(2e3,1e4);class ho extends Wb{constructor(t,n,s,o,u){super(t,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ho.currentPopupAction&&ho.currentPopupAction.cancel(),ho.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){Tr(this.filter.length===1,"Popup operations only handle one event");const t=Hg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ho.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,SV.get())};t()}}ho.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AV="pendingRedirect",Th=new Map;class bV extends Wb{constructor(t,n,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let t=Th.get(this.auth._key());if(!t){try{const s=await wV(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(n){t=()=>Promise.reject(n)}Th.set(this.auth._key(),t)}return this.bypassAuthState||Th.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function wV(r,t){const n=IV(t),s=CV(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function RV(r,t){Th.set(r._key(),t)}function CV(r){return cr(r._redirectPersistence)}function IV(r){return Eh(AV,r.config.apiKey,r.name)}async function NV(r,t,n=!1){if(Ni(r.app))return Promise.reject(sa(r));const s=Bg(r),o=_V(s,t),h=await new bV(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,t)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV=600*1e3;class OV{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(n=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!xV(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){if(t.error&&!Zb(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";n.onError(Vi(this.auth,s))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const s=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=DV&&this.cachedEventUids.clear(),this.cachedEventUids.has(h0(t))}saveEventToCache(t){this.cachedEventUids.add(h0(t)),this.lastProcessedEventTime=Date.now()}}function h0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function Zb({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function xV(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Zb(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MV(r,t={}){return Po(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LV=/^https?/;async function kV(r){if(r.config.emulator)return;const{authorizedDomains:t}=await MV(r);for(const n of t)try{if(UV(n))return}catch{}Er(r,"unauthorized-domain")}function UV(r){const t=Rp(),{protocol:n,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!LV.test(n))return!1;if(VV.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV=new Au(3e4,6e4);function f0(){const r=Li().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function zV(r){return new Promise((t,n)=>{function s(){f0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{f0(),n(Vi(r,"network-request-failed"))},timeout:PV.get()})}if(Li().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Li().gapi?.load)s();else{const o=GM("iframefcb");return Li()[o]=()=>{gapi.load?s():n(Vi(r,"network-request-failed"))},HM(`${FM()}?onload=${o}`).catch(u=>n(u))}}).catch(t=>{throw Sh=null,t})}let Sh=null;function jV(r){return Sh=Sh||zV(r),Sh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV=new Au(5e3,15e3),qV="__/auth/iframe",HV="emulator/auth/iframe",FV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},GV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function $V(r){const t=r.config;Tt(t.authDomain,r,"auth-domain-config-required");const n=t.emulator?Ug(t,HV):`https://${r.config.authDomain}/${qV}`,s={apiKey:t.apiKey,appName:r.name,v:Oo},o=GV.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${_u(s).slice(1)}`}async function KV(r){const t=await jV(r),n=Li().gapi;return Tt(n,r,"internal-error"),t.open({where:document.body,url:$V(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FV,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Vi(r,"network-request-failed"),m=Li().setTimeout(()=>{u(h)},BV.get());function p(){Li().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},YV=500,XV=600,JV="_blank",WV="http://localhost";class d0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ZV(r,t,n,s=YV,o=XV){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...QV,width:s.toString(),height:o.toString(),top:u,left:h},g=en().toLowerCase();n&&(m=Mb(g)?JV:n),Ob(g)&&(t=t||WV,p.scrollbars="yes");const E=Object.entries(p).reduce((w,[k,H])=>`${w}${k}=${H},`,"");if(LM(g)&&m!=="_self")return t4(t||"",m),new d0(null);const T=window.open(t||"",m,E);Tt(T,r,"popup-blocked");try{T.focus()}catch{}return new d0(T)}function t4(r,t){const n=document.createElement("a");n.href=r,n.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4="__/auth/handler",n4="emulator/auth/handler",i4=encodeURIComponent("fac");async function m0(r,t,n,s,o,u){Tt(r.config.authDomain,r,"auth-domain-config-required"),Tt(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Oo,eventId:o};if(t instanceof qb){t.setDefaultLanguage(r.languageCode),h.providerId=t.providerId||"",k2(t.getCustomParameters())||(h.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,T]of Object.entries({}))h[E]=T}if(t instanceof bu){const E=t.getScopes().filter(T=>T!=="");E.length>0&&(h.scopes=E.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${i4}=${encodeURIComponent(p)}`:"";return`${r4(r)}?${_u(m).slice(1)}${g}`}function r4({config:r}){return r.emulator?Ug(r,n4):`https://${r.authDomain}/${e4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="webStorageSupport";class s4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Kb,this._completeRedirectFn=NV,this._overrideRedirectResult=RV}async _openPopup(t,n,s,o){Tr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const u=await m0(t,n,s,Rp(),o);return ZV(t,u,Hg())}async _openRedirect(t,n,s,o){await this._originValidation(t);const u=await m0(t,n,s,Rp(),o);return lV(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(Tr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(t);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(t){const n=await KV(t),s=new OV(t);return n.register("authEvent",o=>(Tt(o?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=n,s}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(Xm,{type:Xm},o=>{const u=o?.[0]?.[Xm];u!==void 0&&n(!!u),Er(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=kV(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return Pb()||xb()||jg()}}const a4=s4;var p0="@firebase/auth",g0="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l4(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function u4(r){vo(new oa("auth",(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;Tt(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zb(r)},g=new BM(s,o,u,p);return KM(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,s)=>{t.getProvider("auth-internal").initialize()})),vo(new oa("auth-internal",t=>{const n=Bg(t.getProvider("auth").getImmediate());return(s=>new o4(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ms(p0,g0,l4(r)),ms(p0,g0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4=300,h4=PS("authIdTokenMaxAge")||c4;let y0=null;const f4=r=>async t=>{const n=t&&await t.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>h4)return;const o=n?.token;y0!==o&&(y0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function d4(r=FS()){const t=ng(r,"auth");if(t.isInitialized())return t.getImmediate();const n=$M(r,{popupRedirectResolver:a4,persistence:[yV,sV,Kb]}),s=PS("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=f4(u.toString());nV(n,h,()=>h(n.currentUser)),eV(n,m=>h(m))}}const o=kS("auth");return o&&QM(n,`http://${o}`),n}function m4(){return document.getElementsByTagName("head")?.[0]??document}qM({loadJS(r){return new Promise((t,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=o=>{const u=Vi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",m4().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});u4("Browser");const p4={apiKey:"AIzaSyDzRx2G7EVUCtxKQkGvNmc2M27zIi_-fww",authDomain:"riffrate-70f6a.firebaseapp.com",projectId:"riffrate-70f6a",storageBucket:"riffrate-70f6a.firebasestorage.app",messagingSenderId:"458853345328",appId:"1:458853345328:web:4b184d57868ccbe3b3a5f5",measurementId:"G-KJ60Q034EX"},t1=HS(p4),Gg=Xx(t1);d4(t1);function e1(r){return r?r.toDate?r.toDate():new Date(r):new Date}async function g4(r=10){const t=vb(fb(Gg,"reviews"),Eb("created","desc"),uM(r));return(await Sb(t)).docs.map(s=>({id:s.id,...s.data(),created:e1(s.data().created)}))}async function y4(r){const t=vb(fb(Gg,"reviews"),lM("bandName","==",r),Eb("created","desc"));return(await Sb(t)).docs.map(s=>({id:s.id,...s.data(),created:e1(s.data().created)}))}async function _4(r){return await dM(Yx(Gg,"reviews",r))}function v4(){const[r,t]=b.useState(""),[n,s]=b.useState([]),[o,u]=b.useState(null),[h,m]=b.useState(1),p=10;b.useEffect(()=>{async function F(){const P=await g4(10);s(P)}F()},[]);const g=async()=>{if(!r.trim())return;const F=await y4(r);if(s(F),F.length>0){const P=F.reduce((W,et)=>W+(et.rating||0),0)/F.length;u(P.toFixed(2))}else u(null);m(1)},E=async F=>{await _4(F),s(n.filter(P=>P.id!==F))},T=h*p,w=T-p,k=n.slice(w,T),H=Math.ceil(n.length/p);return L.jsxs("div",{style:{padding:"1rem"},children:[L.jsx("h1",{children:"Band Reviews"}),L.jsx("p",{children:"Search for bands below!"}),L.jsx("hr",{}),L.jsxs(on,{children:[L.jsx(on.Label,{htmlFor:"searchBandName",children:"Band name"}),L.jsx(on.Control,{id:"searchBandName",value:r,onChange:F=>t(F.target.value)}),L.jsx("br",{}),L.jsx(pu,{variant:"primary",onClick:g,children:"Search"})]}),o&&L.jsxs("h3",{style:{marginTop:"1rem"},children:['Average Rating for "',r,'": ',o]}),L.jsx(Gp,{fluid:!0,children:L.jsx(xS,{children:k.map(F=>L.jsx(Fp,{md:4,children:L.jsx(c2,{id:F.id,title:F.title,content:F.content,poster:F.poster,created:F.created,delete:()=>E(F.id)})},F.id))})}),H>1&&L.jsx(FE,{className:"mt-3",children:[...Array(H)].map((F,P)=>L.jsx(FE.Item,{active:P+1===h,onClick:()=>m(P+1),children:P+1},P+1))})]})}function E4(r){return L.jsx("div",{children:L.jsx("h1",{children:"Reviews by venue"})})}function T4(r){const t=Op();function n(s){t("/")}return L.jsxs("div",{children:[L.jsx("h1",{children:"Login Below"}),L.jsxs(on,{onSubmit:n,children:[L.jsx(on.Label,{htmlFor:"usernameInput",children:"Username:"}),L.jsx(on.Control,{id:"usernameInput"}),L.jsx(on.Label,{htmlFor:"passwordInput",children:"Password:"}),L.jsx(on.Control,{id:"passwordInput",type:"password"}),L.jsx("br",{}),L.jsx(pu,{type:"submit",children:"Login"})]}),L.jsx("br",{}),L.jsx("br",{}),L.jsx(wn,{to:"/UserRegister",children:L.jsx("button",{type:"button",className:"btn btn-outline-dark",children:"Don't have an account?"})})]})}function S4(r){const t=Op();function n(s){t("/")}return L.jsxs("div",{children:[L.jsx("h1",{children:"Sign up Below"}),L.jsxs(on,{onSubmit:n,children:[L.jsx(on.Label,{htmlFor:"usernameInput",children:"Username:"}),L.jsx(on.Control,{id:"usernameInput"}),L.jsx(on.Label,{htmlFor:"passwordInput",children:"Password:"}),L.jsx(on.Control,{id:"passwordInput",type:"password"}),L.jsx(on.Label,{htmlFor:"confPasswordInput",children:"Confirm Password:"}),L.jsx(on.Control,{id:"confPasswordInput",type:"password"}),L.jsx("br",{}),L.jsx(pu,{type:"submit",children:"Login"})]}),L.jsx("br",{}),L.jsx("br",{}),L.jsx(wn,{to:"/UserLogin",children:L.jsx("button",{type:"button",className:"btn btn-outline-dark",children:"Have an account?"})})]})}const A4=b.createContext([]);function b4(r){const[t,n]=b.useContext(A4);return L.jsx("div",{children:L.jsx(ih,{bg:"white",variant:"light",expand:"md",fixed:"top",children:L.jsxs(Gp,{children:[L.jsx(ih.Brand,{as:wn,to:"/",style:w4,children:"Riffrate"}),L.jsx(ih.Toggle,{"aria-controls":"main-nav"}),L.jsx(ih.Collapse,{id:"main-nav",children:L.jsxs(ta,{className:"ms-auto",children:[L.jsx(ta.Link,{as:wn,to:"/",style:so,children:"Home"}),L.jsx(ta.Link,{as:wn,to:"/ReviewByBand",style:so,children:"Band Reviews"}),L.jsx(ta.Link,{as:wn,to:"/ReviewByVenue",style:so,children:"Venue Reviews"}),t?L.jsxs(L.Fragment,{children:[L.jsx(ta.Link,{as:wn,to:"/ReviewPage",style:so,children:"Your Reviews"}),L.jsx(ta.Link,{as:wn,to:"/",style:so,children:"Log out"})]}):L.jsx(ta.Link,{as:wn,to:"/UserLogin",style:so,children:"Log in"})]})})]})})})}const w4={fontWeight:"bold",fontSize:"50px",color:"#DD0426"},so={fontSize:"24px",padding:"10px 20px",color:"#333"};function R4(){return L.jsxs(ZR,{children:[L.jsx(b4,{}),L.jsxs(DR,{children:[L.jsx(ea,{path:"/",element:L.jsx(l2,{})}),L.jsx(ea,{path:"/ReviewPage",element:L.jsx(u2,{})}),L.jsx(ea,{path:"/ReviewByBand",element:L.jsx(v4,{})}),L.jsx(ea,{path:"/ReviewByVenue",element:L.jsx(E4,{})}),L.jsx(ea,{path:"/UserLogin",element:L.jsx(T4,{})}),L.jsx(ea,{path:"/UserRegister",element:L.jsx(S4,{})})]})]})}jw.createRoot(document.getElementById("root")).render(L.jsx(R4,{}));
